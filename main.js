/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={418:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(u[c]=s[c]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},448:(e,t,n)=>{var r=n(294),i=n(418),o=n(840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,_=60107,T=60108,I=60114,x=60109,O=60110,A=60112,N=60113,C=60120,R=60115,D=60116,P=60121,L=60128,M=60129,V=60130,F=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;S=U("react.element"),k=U("react.portal"),_=U("react.fragment"),T=U("react.strict_mode"),I=U("react.profiler"),x=U("react.provider"),O=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),C=U("react.suspense_list"),R=U("react.memo"),D=U("react.lazy"),P=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),V=U("react.offscreen"),F=U("react.legacy_hidden")}var j,B="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function $(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case I:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return Q(e.type);case P:return Q(e._render);case D:t=e._payload,e=e._init;try{return Q(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,xe=null,Oe=null;function Ae(e){if(e=ni(e)){if("function"!=typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Ne(e){xe?Oe?Oe.push(e):Oe=[e]:xe=e}function Ce(){if(xe){var e=xe,t=Oe;if(Oe=xe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Le=Re,Me=!1,Ve=!1;function Fe(){null===xe&&null===Oe||(Pe(),Ce())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var je=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){je=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){je=!1}function ze(e,t,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var qe=!1,We=null,He=!1,$e=null,Qe={onError:function(e){qe=!0,We=e}};function Ke(e,t,n,r,i,o,s,a,u){qe=!1,We=null,ze.apply(Qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ge(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,ut=null,lt=new Map,ct=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&vt(st)&&(st=null),null!==at&&vt(at)&&(at=null),null!==ut&&vt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==ut&&wt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},Tt={};function It(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var xt=It("animationend"),Ot=It("animationiteration"),At=It("animationstart"),Nt=It("transitionend"),Ct=new Map,Rt=new Map,Dt=["abort","abort",xt,"animationEnd",Ot,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ct.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Vt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~s;0!==u?(r=Mt(u),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Ut(10,t):e;case 10:return 0===(e=jt(192&~t))?Ut(8,t):e;case 8:return 0===(e=jt(3584&~t))&&0===(e=jt(4186112&~t))&&(e=512),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function jt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2,$t=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Gt(e,t,n,r){Me||Pe();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Fe()}}function Yt(e,t,n,r){Qt($t,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var o=Ge(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=an(hn),dn=i({},hn,{view:0,detail:0}),pn=an(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),yn=an(i({},dn,{relatedTarget:0})),bn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(wn),Sn=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function xn(){return In}var On=i({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(On),Nn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Rn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Vn=null;h&&"documentMode"in document&&(Vn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Vn,Un=h&&(!Mn||Vn&&8<Vn&&11>=Vn),jn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Or(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),Gn=Kn=null)}function ir(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];if(Qn(t,Gn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(rr(),Gn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ar(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Dt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<kr.length;_r++)Rt.set(kr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,u,l){if(Ke.apply(this,arguments),qe){if(!qe)throw Error(s(198));var c=We;qe=!1,We=null,He||(He=!0,$e=c)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;xr(i,a,l),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;xr(i,a,l),o=u}}}if(He)throw e=$e,He=!1,$e=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){e[Nr]||(e[Nr]=!0,a.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Dr(o,e,i,t),s.add(a))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Gt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ve)return e();Ve=!0;try{Le(e,t,n)}finally{Ve=!1,Fe()}}((function(){var r=o,i=Te(n),s=[];e:{var a=Ct.get(e);if(void 0!==a){var u=fn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case xt:case Ot:case At:u=bn;break;case Nt:u=Rn;break;case"scroll":u=pn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var c=0!=(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Ue(p,f))&&c.push(Lr(p,m,d))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),s.push({event:a,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Zr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(h=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?a:ri(u),d=null==l?a:ri(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=d,m=null,ti(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Vr(d))p++;for(d=0,m=f;m;m=Vr(m))d++;for(;0<p-d;)c=Vr(c),p--;for(;0<d-p;)f=Vr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==u&&Fr(s,a,u,c,!1),null!==l&&null!==h&&Fr(s,h,l,c,!0)}if("select"===(u=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Xn;else if($n(a))if(Zn)g=ur;else{g=sr;var v=or}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ie(a,"number",a.value)),v=r?ri(r):window,e){case"focusin":($n(v)||"true"===v.contentEditable)&&(yr=v,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Sr(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(v=Mr(r,b)).length&&(b=new Sn(b,e,null,n,i),s.push({event:b,listeners:v}),(y||null!==(y=qn(n)))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y)}Or(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Ue(n,o))&&s.unshift(Lr(n,u,a)):i||null!=(u=Ue(n,o))&&s.push(Lr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Ur(){}var jr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function $r(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function ui(e){return{current:e}}function li(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ci(e,t){ai++,si[ai]=e.current,e.current=t}var hi={},fi=ui(hi),di=ui(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function vi(){li(di),li(fi)}function yi(e,t,n){if(fi.current!==hi)throw Error(s(168));ci(fi,t),ci(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,Q(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=fi.current,ci(fi,e),ci(di,di.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(di),li(fi),ci(fi,e)):li(di),ci(di,n)}var Si=null,ki=null,_i=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Oi=o.unstable_requestPaint,Ai=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ci=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Vi=void 0!==Oi?Oi:function(){},Fi=null,Ui=null,ji=!1,Bi=Ai(),zi=1e4>Bi?Ai:function(){return Ai()-Bi};function qi(){switch(Ni()){case Ci:return 99;case Ri:return 98;case Di:return 97;case Pi:return 96;case Li:return 95;default:throw Error(s(332))}}function Wi(e){switch(e){case 99:return Ci;case 98:return Ri;case 97:return Di;case 96:return Pi;case 95:return Li;default:throw Error(s(332))}}function Hi(e,t){return e=Wi(e),_i(e,t)}function $i(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Ki()}function Ki(){if(!ji&&null!==Fi){ji=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Ci,Qi),t}finally{ji=!1}}}var Gi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),Xi=null,Zi=null,eo=null;function to(){eo=Zi=Xi=null}function no(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ms=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(s(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==a&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==s){for(f=o.baseState,a=0,h=c=l=null;;){u=s.lane;var d=s.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(u=t,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break e;f=i({},f,u);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[s]:u.push(s))}else d={eventTime:d,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,a|=u;if(null===(s=s.next)){if(null===(u=o.shared.pending))break;s=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Fa|=a,e.lanes=a,e.memoizedState=f}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),hu(e,r,n)}};function yo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function bo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:fi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:fi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _o(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case k:return(t=Ku(t,e.mode,n)).return=e,t}if(So(t)||z(t))return(t=Hu(t,e.mode,n,null)).return=e,t;_o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===_?h(e,t,n.props.children,r,i):l(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(So(n)||z(n))return null!==i?null:h(e,t,n,r,null);_o(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===_?h(t,e,r.props.children,i,r.key):l(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);_o(t,r)}return null}function m(i,s,a,u){for(var l=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,a[m],u);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?l=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=f(i,a[m],u))&&(s=o(h,s,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?l=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),l}function g(i,a,u,l){var c=z(u);if("function"!=typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=d(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=f(i,y.value,l))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===_&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case S:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===_){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=ko(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===_?((r=Hu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=ko(e,r,o),u.return=e,e=u)}return a(e);case k:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qu(o,e.mode,u)).return=e,e=r),a(e);if(So(o))return m(e,r,o,u);if(z(o))return g(e,r,o,u);if(c&&_o(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,Q(e.type)||"Component"))}return n(e,r)}}var Io=To(!0),xo=To(!1),Oo={},Ao=ui(Oo),No=ui(Oo),Co=ui(Oo);function Ro(e){if(e===Oo)throw Error(s(174));return e}function Do(e,t){switch(ci(Co,t),ci(No,e),ci(Ao,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ao),ci(Ao,t)}function Po(){li(Ao),li(No),li(Co)}function Lo(e){Ro(Co.current);var t=Ro(Ao.current),n=de(t,e.type);t!==n&&(ci(No,e),ci(Ao,n))}function Mo(e){No.current===e&&(li(Ao),li(No))}var Vo=ui(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,jo=null,Bo=!1;function zo(e,t){var n=Bu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=jo;if(t){var n=t;if(!qo(e,t)){if(!(t=Qr(n.nextSibling))||!qo(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Uo=e);zo(Uo,n)}Uo=e,jo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Uo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function $o(e){if(e!==Uo)return!1;if(!Bo)return Ho(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=jo;t;)zo(e,t),t=Qr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){jo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}jo=null}}else jo=Uo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){jo=Uo=null,Bo=!1}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Yo=E.ReactCurrentDispatcher,Jo=E.ReactCurrentBatchConfig,Xo=0,Zo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Rs:Ds,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Yo.current=Ps,e=n(r,i)}while(rs)}if(Yo.current=Cs,t=null!==es&&null!==es.next,Xo=0,ts=es=Zo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zo.memoizedState=ts=e:ts=ts.next=e,ts}function us(){if(null===es){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zo.memoizedState=ts=e:ts=ts.next=e}return ts}function ls(e,t){return"function"==typeof t?t(e):t}function cs(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,l=i;do{var c=l.lane;if((Xo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,Zo.lanes|=c,Fa|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=a,lr(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);lr(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(s(350))}function ds(e,t,n,r){var i=Na;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),u=Yo.current,l=u.useState((function(){return fs(i,t,n)})),c=l[1],h=l[0];l=ts;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!lr(a,e)){e=n(t._source),lr(h,e)||(c(e),e=cu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-qt(s),l=1<<u;r[u]|=e,s&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=cu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:h}).dispatch=c=Ns.bind(null,Zo,e),l.queue=e,l.baseQueue=null,h=fs(i,t,n),l.memoizedState=l.baseState=h),h}function ps(e,t,n){return ds(us(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e}).dispatch=Ns.bind(null,Zo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},as().memoizedState=e}function ys(){return us().memoizedState}function bs(e,t,n,r){var i=as();Zo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function ws(e,t,n,r){var i=us();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Zo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function Es(e,t){return bs(516,4,e,t)}function Ss(e,t){return ws(516,4,e,t)}function ks(e,t){return ws(4,2,e,t)}function _s(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ts(e,t,n){return n=null!=n?n.concat([e]):null,ws(4,2,_s.bind(null,t,e),n)}function Is(){}function xs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Os(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function As(e,t){var n=qi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ns(e,t,n){var r=lu(),i=cu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,lr(u,a))return}catch(e){}hu(e,i,r)}}var Cs={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Rs={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Es,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,bs(4,2,_s.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ns.bind(null,Zo,e),[r.memoizedState,e]},useRef:vs,useState:ms,useDebugValue:Is,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return Es((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return vs(e=As.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ds(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,gs(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:xs,useContext:oo,useEffect:Ss,useImperativeHandle:Ts,useLayoutEffect:ks,useMemo:Os,useReducer:cs,useRef:ys,useState:function(){return cs(ls)},useDebugValue:Is,useDeferredValue:function(e){var t=cs(ls),n=t[0],r=t[1];return Ss((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=cs(ls)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return cs(ls)[0]},unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:xs,useContext:oo,useEffect:Ss,useImperativeHandle:Ts,useLayoutEffect:ks,useMemo:Os,useReducer:hs,useRef:ys,useState:function(){return hs(ls)},useDebugValue:Is,useDeferredValue:function(e){var t=hs(ls),n=t[0],r=t[1];return Ss((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=hs(ls)[0];return[ys().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return hs(ls)[0]},unstable_isNewReconciler:!1},Ls=E.ReactCurrentOwner,Ms=!1;function Vs(e,t,n,r){t.child=null===e?xo(t,null,n,r):Io(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,Vs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Us(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||zu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,js(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,o):(t.flags|=1,(e=qu(s,r)).ref=t.ref,e.return=t,t.child=e)}function js(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ms=!1,0==(o&i))return t.lanes=e.lanes,na(e,t,o);0!=(16384&e.flags)&&(Ms=!0)}return qs(e,t,n,r,o)}function Bs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(0,e),null;t.memoizedState={baseLanes:0},bu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(0,r);return Vs(e,t,i,n),t.child}function zs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qs(e,t,n,r,i){var o=gi(n)?pi:fi.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,Vs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Ws(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):mi(t,l=gi(n)?pi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==l)&&wo(t,s,r,l),so=!1;var f=t.memoizedState;s.state=f,fo(t,r,s,i),u=t.memoizedState,a!==r||f!==u||di.current||so?("function"==typeof c&&(go(t,n,c,r),u=t.memoizedState),(a=so||yo(t,n,a,r,f,u,l))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,uo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Yi(t.type,a),s.props=l,h=t.pendingProps,f=s.context,u="object"==typeof(u=n.contextType)&&null!==u?oo(u):mi(t,u=gi(n)?pi:fi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||f!==u)&&wo(t,s,r,u),so=!1,f=t.memoizedState,s.state=f,fo(t,r,s,i);var p=t.memoizedState;a!==h||f!==p||di.current||so?("function"==typeof d&&(go(t,n,d,r),p=t.memoizedState),(l=so||yo(t,n,l,r,f,p,u))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Hs(e,t,n,r,o,i)}function Hs(e,t,n,r,i,o){zs(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&Ei(t,n,!1),na(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):Vs(e,t,a,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function $s(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Do(e,t.containerInfo)}var Qs,Ks,Gs,Ys={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=Vo.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Vo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,s?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qu(s,a),null!==e?r=qu(e,r):(r=Hu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ys,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=qu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Hu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Zs(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ea(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Vs(e,t,r.children,n),0!=(2&(r=Vo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n);else if(19===e.tag)Zs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Vo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,o,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&vi(),null;case 3:return Po(),li(di),li(fi),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Co.current);if(n=t.type,null!==e&&null!=t.stateNode)Ks(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ro(Ao.current),$o(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Xr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":ue(r,a),Ar("invalid",r)}for(var l in ke(n,a),e=null,a)a.hasOwnProperty(l)&&(o=a[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===he&&(e=fe(n)),e===he?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Qs(e,t),t.stateNode=e,l=_e(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Ar(Tr[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),o=ae(e,r),Ar("invalid",e);break;default:o=r}ke(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"==typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",e):null!=h&&w(e,a,h,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Gs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Ro(Co.current),Ro(Ao.current),$o(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Vo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Vo.current)?0===La&&(La=3):(0!==La&&3!==La||(La=4),null===Na||0==(134217727&Fa)&&0==(134217727&Ua)||mu(Na,Ra))),(r||n)&&(t.flags|=4),null);case 4:return Po(),null===e&&Cr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(Vo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(l=r.rendering))if(a)ra(r,!1);else{if(0!==La||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,ra(r,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Vo,1&Vo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>qa&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fo(l))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>qa&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Vo.current,ci(Vo,a?1&t|2:1&t),n):null;case 23:case 24:return wu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function oa(e){switch(e.tag){case 1:gi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Po(),li(di),li(fi),Go(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Vo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Vo),null;case 4:return Po(),null;case 10:return no(e),null;case 23:case 24:return wu(),null;default:return null}}function sa(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Qs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ks=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(Ao.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",e),a||l===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Gs=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function la(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qa||(Qa=!0,Ka=r),aa(0,t)},n}function ca(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ga?Ga=new Set([this]):Ga.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function fa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Vu(e,t)}else t.current=null}function da(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$r(t.stateNode.containerInfo))}throw Error(s(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pu(n,e),Du(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(s(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pu(t,n);else{r=t;try{i()}catch(e){Vu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(fa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Vu(t,e)}break;case 5:fa(t);break;case 4:Sa(e,t)}}function va(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ya(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(ya(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ya(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?wa(e,n,t):Ea(e,n,t)}function wa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function Sa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,l=u;;)if(ga(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?Ee(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ve(n,u):w(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=zi(),ma(t.child,!0)),void _a(t);case 19:return void _a(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(s(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ia=Math.ceil,xa=E.ReactCurrentDispatcher,Oa=E.ReactCurrentOwner,Aa=0,Na=null,Ca=null,Ra=0,Da=0,Pa=ui(0),La=0,Ma=null,Va=0,Fa=0,Ua=0,ja=0,Ba=null,za=0,qa=1/0;function Wa(){qa=zi()+500}var Ha,$a=null,Qa=!1,Ka=null,Ga=null,Ya=!1,Ja=null,Xa=90,Za=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,su=0,au=null,uu=!1;function lu(){return 0!=(48&Aa)?zi():-1!==iu?iu:iu=zi()}function cu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qi()?1:2;if(0===ou&&(ou=Va),0!==Gi.transition){0!==su&&(su=null!==Ba?Ba.pendingLanes:0),e=ou;var t=4186112&~su;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qi(),e=Ut(0!=(4&Aa)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou)}function hu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(s(185));if(null===(e=fu(e,t)))return null;zt(e,t,n),e===Na&&(Ua|=t,4===La&&mu(e,Ra));var r=qi();1===t?0!=(8&Aa)&&0==(48&Aa)?gu(e):(du(e,n),0===Aa&&(Wa(),Qi())):(0==(4&Aa)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),du(e,n)),Ba=e}function fu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function du(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-qt(a),l=1<<u,c=o[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var h=Lt;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Vt(e,e===Na?Ra:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=gu.bind(null,e),null===Fi?(Fi=[n],Ui=Ti(Ci,Ki)):Fi.push(n),n=Mi):14===t?n=$i(99,gu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=$i(n,pu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,su=ou=0,0!=(48&Aa))throw Error(s(327));var t=e.callbackNode;if(Ru()&&e.callbackNode!==t)return null;var n=Vt(e,e===Na?Ra:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var o=ku();for(Na===e&&Ra===r||(Wa(),Eu(e,r));;)try{Iu();break}catch(t){Su(e,t)}if(to(),xa.current=o,Aa=i,null!==Ca?r=0:(Na=null,Ra=0,r=La),0!=(Va&Ua))Eu(e,0);else if(0!==r){if(2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(n=Ft(e))&&(r=_u(e,n))),1===r)throw t=Ma,Eu(e,0),mu(e,n),du(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Au(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=za+500-zi())){if(0!==Vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Au.bind(null,e),r);break}Au(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ia(n/1960))-n)){e.timeoutHandle=Wr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(s(329))}}return du(e,zi()),e.callbackNode===t?pu.bind(null,e):null}function mu(e,t){for(t&=~ja,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!=(48&Aa))throw Error(s(327));if(Ru(),e===Na&&0!=(e.expiredLanes&Ra)){var t=Ra,n=_u(e,t);0!=(Va&Ua)&&(n=_u(e,t=Vt(e,t)))}else n=_u(e,t=Vt(e,0));if(0!==e.tag&&2===n&&(Aa|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(t=Ft(e))&&(n=_u(e,t))),1===n)throw n=Ma,Eu(e,0),mu(e,t),du(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),du(e,zi()),null}function vu(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&(Wa(),Qi())}}function yu(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&(Wa(),Qi())}}function bu(e,t){ci(Pa,Da),Da|=t,Va|=t}function wu(){Da=Pa.current,li(Pa)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ca)for(n=Ca.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Po(),li(di),li(fi),Go();break;case 5:Mo(r);break;case 4:Po();break;case 13:case 19:li(Vo);break;case 10:no(r);break;case 23:case 24:wu()}n=n.return}Na=e,Ca=qu(e.current,null),Ra=Da=Va=t,La=0,Ma=null,ja=Ua=Fa=0}function Su(e,t){for(;;){var n=Ca;try{if(to(),Yo.current=Cs,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Xo=0,ts=es=Zo=null,rs=!1,Oa.current=null,null===n||null===n.return){La=1,Ma=t,Ca=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Vo.current),f=s;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=lo(-1,1);y.tag=2,co(a,y)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ua,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(a)){u.add(a);var w=Fu.bind(null,o,l,a);l.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((Q(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==La&&(La=2),u=sa(u,a),f=s;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,la(0,o,t));break e;case 1:o=u;var E=f.type,S=f.stateNode;if(0==(64&f.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Ga||!Ga.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,ca(f,o,t));break e}}f=f.return}while(null!==f)}Ou(n)}catch(e){t=e,Ca===n&&null!==n&&(Ca=n=n.return);continue}break}}function ku(){var e=xa.current;return xa.current=Cs,null===e?Cs:e}function _u(e,t){var n=Aa;Aa|=16;var r=ku();for(Na===e&&Ra===t||Eu(e,t);;)try{Tu();break}catch(t){Su(e,t)}if(to(),Aa=n,xa.current=r,null!==Ca)throw Error(s(261));return Na=null,Ra=0,La}function Tu(){for(;null!==Ca;)xu(Ca)}function Iu(){for(;null!==Ca&&!xi();)xu(Ca)}function xu(e){var t=Ha(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ca=t,Oa.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Da)))return void(Ca=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Da)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=oa(t)))return n.flags&=2047,void(Ca=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ca=t);Ca=t=e}while(null!==t);0===La&&(La=5)}function Au(e){var t=qi();return Hi(99,Nu.bind(null,e,t)),null}function Nu(e,t){do{Ru()}while(null!==Ja);if(0!=(48&Aa))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-qt(o),c=1<<l;i[l]=0,a[l]=-1,u[l]=-1,o&=~c}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Na&&(Ca=Na=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Oa.current=null,jr=Kt,gr(a=mr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var h=0,f=-1,d=-1,p=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==l||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===u&&++p===o&&(f=h),v===l&&++m===c&&(d=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:a,selectionRange:u},Kt=!1,au=null,uu=!1,$a=r;do{try{Cu()}catch(e){if(null===$a)throw Error(s(330));Vu($a,e),$a=$a.nextEffect}}while(null!==$a);au=null,$a=r;do{try{for(a=e;null!==$a;){var b=$a.flags;if(16&b&&ve($a.stateNode,""),128&b){var w=$a.alternate;if(null!==w){var E=w.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&b){case 2:ba($a),$a.flags&=-3;break;case 6:ba($a),$a.flags&=-3,ka($a.alternate,$a);break;case 1024:$a.flags&=-1025;break;case 1028:$a.flags&=-1025,ka($a.alternate,$a);break;case 4:ka($a.alternate,$a);break;case 8:Sa(a,u=$a);var S=u.alternate;va(u),null!==S&&va(S)}$a=$a.nextEffect}}catch(e){if(null===$a)throw Error(s(330));Vu($a,e),$a=$a.nextEffect}}while(null!==$a);if(E=Br,w=mr(),b=E.focusedElem,a=E.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(E=a.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),u=b.textContent.length,S=Math.min(a.start,u),a=void 0===a.end?S:Math.min(a.end,u),!E.extend&&S>a&&(u=a,a=S,S=u),u=dr(b,S),o=dr(b,a),u&&o&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),E.removeAllRanges(),S>a?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Kt=!!jr,Br=jr=null,e.current=n,$a=r;do{try{for(b=e;null!==$a;){var k=$a.flags;if(36&k&&pa(b,$a.alternate,$a),128&k){w=void 0;var _=$a.ref;if(null!==_){var T=$a.stateNode;$a.tag,w=T,"function"==typeof _?_(w):_.current=w}}$a=$a.nextEffect}}catch(e){if(null===$a)throw Error(s(330));Vu($a,e),$a=$a.nextEffect}}while(null!==$a);$a=null,Vi(),Aa=i}else e.current=n;if(Ya)Ya=!1,Ja=e,Xa=t;else for($a=r;null!==$a;)t=$a.nextEffect,$a.nextEffect=null,8&$a.flags&&((k=$a).sibling=null,k.stateNode=null),$a=t;if(0===(r=e.pendingLanes)&&(Ga=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64==(64&n.current.flags))}catch(e){}if(du(e,zi()),Qa)throw Qa=!1,e=Ka,Ka=null,e;return 0!=(8&Aa)||Qi(),null}function Cu(){for(;null!==$a;){var e=$a.alternate;uu||null===au||(0!=(8&$a.flags)?Ze($a,au)&&(uu=!0):13===$a.tag&&Ta(e,$a)&&Ze($a,au)&&(uu=!0));var t=$a.flags;0!=(256&t)&&da(e,$a),0==(512&t)||Ya||(Ya=!0,$i(97,(function(){return Ru(),null}))),$a=$a.nextEffect}}function Ru(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,Hi(e,Lu)}return!1}function Du(e,t){Za.push(t,e),Ya||(Ya=!0,$i(97,(function(){return Ru(),null})))}function Pu(e,t){eu.push(t,e),Ya||(Ya=!0,$i(97,(function(){return Ru(),null})))}function Lu(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&Aa))throw Error(s(331));var t=Aa;Aa|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Vu(o,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(s(330));Vu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Aa=t,Qi(),!0}function Mu(e,t,n){co(e,t=la(0,t=sa(n,t),1)),t=lu(),null!==(e=fu(e,1))&&(zt(e,1,t),du(e,t))}function Vu(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ga||!Ga.has(r))){var i=ca(n,e=sa(t,e),1);if(co(n,i),i=lu(),null!==(n=fu(n,1)))zt(n,1,i),du(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ga||!Ga.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Na===e&&(Ra&n)===n&&(4===La||3===La&&(62914560&Ra)===Ra&&500>zi()-za?Eu(e,0):ja|=n),du(e,t)}function Uu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qi()?1:2:(0===ou&&(ou=Va),0===(t=jt(62914560&~ou))&&(t=4194304))),n=lu(),null!==(e=fu(e,t))&&(zt(e,t,n),du(e,n))}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(e,t,n,r){return new ju(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var n=e.alternate;return null===n?((n=Bu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)zu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case _:return Hu(n.children,i,o,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case I:return(e=Bu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case N:return(e=Bu(13,n,t,i)).type=N,e.elementType=N,e.lanes=o,e;case C:return(e=Bu(19,n,t,i)).elementType=C,e.lanes=o,e;case V:return $u(n,i,o,t);case F:return(e=Bu(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case O:a=9;break e;case A:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e;case P:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Bu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hu(e,t,n,r){return(e=Bu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Bu(23,e,r,t)).elementType=V,e.lanes=n,e}function Qu(e,t,n){return(e=Bu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=Bu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t,n,r){var i=t.current,o=lu(),a=cu(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),hu(i,a,o),a}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=Bu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Zr]=n.current,Cr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Xu(s);a.call(e)}}Ju(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Xu(s);u.call(e)}}yu((function(){Ju(t,s,e,i)}))}return Xu(s)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(s(200));return Yu(e,t,null,n)}Ha=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ms=!0;else{if(0==(n&r)){switch(Ms=!1,t.tag){case 3:$s(t),Qo();break;case 5:Lo(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Js(e,t,n):(ci(Vo,1&Vo.current),null!==(t=na(e,t,n))?t.sibling:null);ci(Vo,1&Vo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Vo,Vo.current),r)break;return null;case 23:case 24:return t.lanes=0,Bs(e,t,n)}return na(e,t,n)}Ms=0!=(16384&e.flags)}else Ms=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,fi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Hs(null,t,r,!0,o,n)}else t.tag=0,Vs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zu(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=qs(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=Fs(null,t,i,e,n);break e;case 14:t=Us(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if($s(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=na(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(jo=Qr(t.stateNode.containerInfo.firstChild),Uo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vs(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,qr(r,i)?a=null:null!==o&&qr(r,o)&&(t.flags|=16),zs(e,t),Vs(e,t,a,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Js(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Vs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(ci(Ji,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0==(o=lr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!di.current){t=na(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=lo(-1,n&-n)).tag=2,co(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ro(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Vs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Vs(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Us(e,t,i,o=Yi(i.type,o),r,n);case 15:return js(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),Eo(t,r,i,n),Hs(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return Bs(e,t,n)}throw Error(s(156,t.tag))},tl.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hu(e,4,lu()),el(e,4))},tt=function(e){13===e.tag&&(hu(e,67108864,lu()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lu(),n=cu(e);hu(e,n,t),el(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Re=vu,De=function(e,t,n,r,i){var o=Aa;Aa|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Aa=o)&&(Wa(),Qi())}},Pe=function(){0==(49&Aa)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,du(e,zi())}))}Qi()}(),Ru())},Le=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&(Wa(),Qi())}};var ol={Events:[ni,ri,ii,Ne,Ce,Ru,{current:!1}]},sl={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Si=ul.inject(al),ki=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Aa;if(0!=(48&n))return e(t);Aa|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Aa=n,Qi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(s(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(s(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(s(40));return!!e._reactRootContainer&&(yu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=vu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===r?"."+I(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(s,t,n,"",(function(e){return e}))):null!=s&&(_(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+I(a=e[l],l);u+=x(a,t,n,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)u+=x(a=a.value,t,n,c=r+I(a,l++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function C(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null==e)throw Error(d(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return C().useCallback(e,t)},t.useContext=function(e,t){return C().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return C().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return C().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return C().useLayoutEffect(e,t)},t.useMemo=function(e,t){return C().useMemo(e,t)},t.useReducer=function(e,t,n){return C().useReducer(e,t,n)},t.useRef=function(e){return C().useRef(e)},t.useState=function(e){return C().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{e.exports=n(408)},53:(e,t)=>{var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){v=f((function(){e(t.unstable_now())}),n)},i=function(){d(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>T(s,n))void 0!==u&&0>T(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],O=1,A=null,N=3,C=!1,R=!1,D=!1;function P(e){for(var t=k(x);null!==t;){if(null===t.callback)_(x);else{if(!(t.startTime<=e))break;_(x),t.sortIndex=t.expirationTime,S(I,t)}t=k(x)}}function L(e){if(D=!1,P(e),!R)if(null!==k(I))R=!0,n(M);else{var t=k(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,D&&(D=!1,i()),C=!0;var o=N;try{for(P(n),A=k(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"==typeof s){A.callback=null,N=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===k(I)&&_(I),P(n)}else _(I);A=k(I)}if(null!==A)var u=!0;else{var l=k(x);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{A=null,N=o,C=!1}}var V=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||C||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return k(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,S(x,e),null===k(I)&&e===k(x)&&(D?i():D=!0,r(L,s-a))):(e.sortIndex=u,S(I,e),R||C||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},840:(e,t,n)=>{e.exports=n(53)},198:(e,t,n)=>{n(149);var r=n(294),i=n(935),o=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},s=function(e){return!!e&&"function"==typeof e.then},a=function(e,t){if(null!=e)return e;throw o(null!=t?t:"Got unexpected null or undefined")};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{getValue(){throw o("BaseLoadable")}toPromise(){throw o("BaseLoadable")}valueMaybe(){throw o("BaseLoadable")}valueOrThrow(){throw o(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw o("BaseLoadable")}promiseOrThrow(){throw o(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw o("BaseLoadable")}errorOrThrow(){throw o(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw o("BaseLoadable")}}class c extends l{constructor(e){super(),u(this,"state","hasValue"),u(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return s(t)?m(t):v(t)?t:d(t)}catch(t){return s(t)?m(t.next((()=>this.map(e)))):p(t)}}}class h extends l{constructor(e){super(),u(this,"state","hasError"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class f extends l{constructor(e){super(),u(this,"state","loading"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return m(this.contents.then((t=>{const n=e(t);if(v(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(s(t))return t.then((()=>this.map(e).contents));throw t})))}}function d(e){return Object.freeze(new c(e))}function p(e){return Object.freeze(new h(e))}function m(e){return Object.freeze(new f(e))}function g(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?d(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?p(a(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):m(Promise.all(e.map((e=>e.contents))))}(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t])));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function v(e){return e instanceof l}const y={of:e=>s(e)?m(e):d(e),error:e=>p(e),all:g,isLoadable:v};var b,w={loadableWithValue:d,loadableWithError:p,loadableWithPromise:m,loadableLoading:function(){return Object.freeze(new f(new Promise((()=>{}))))},loadableAll:g,isLoadable:v,RecoilLoadable:y},E=w.loadableWithValue,S=w.loadableWithError,k=w.loadableWithPromise,_=w.loadableLoading,T=w.loadableAll,I=w.isLoadable,x=w.RecoilLoadable,O=Object.freeze({__proto__:null,loadableWithValue:E,loadableWithError:S,loadableWithPromise:k,loadableLoading:_,loadableAll:T,isLoadable:I,RecoilLoadable:x});const A=null!==(b=r.useMutableSource)&&void 0!==b?b:r.unstable_useMutableSource;var N={mutableSourceExists:function(){return A&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:A};const{mutableSourceExists:C}=N,R=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function D(e){var t;return!("recoil_early_rendering_2021"===e&&!C())&&null!==(t=R.get(e))&&void 0!==t&&t}D.setPass=e=>{R.set(e,!0)},D.setFail=e=>{R.set(e,!1)};var P=D,L=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};class M{constructor(e){u(this,"key",void 0),this.key=e}}class V extends M{}class F extends M{}var U={AbstractRecoilValue:M,RecoilState:V,RecoilValueReadOnly:F,isRecoilValue:function(e){return e instanceof V||e instanceof F}},j=U.AbstractRecoilValue,B=U.RecoilState,z=U.RecoilValueReadOnly,q=U.isRecoilValue,W=Object.freeze({__proto__:null,AbstractRecoilValue:j,RecoilState:B,RecoilValueReadOnly:z,isRecoilValue:q});class H{}const $=new H;class Q extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const K=new Map,G=new Map;class Y extends Error{}const J=new Map;function X(e){return J.get(e)}var Z,ee={nodes:K,recoilValues:G,registerNode:function(e){if(K.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}K.set(e.key,e);const t=null==e.set?new W.RecoilValueReadOnly(e.key):new W.RecoilState(e.key);return G.set(e.key,t),t},getNode:function(e){const t=K.get(e);if(null==t)throw new Y(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return K.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!P("recoil_memory_managament_2020"))return;const n=K.get(e);var r;(null==n||null===(t=n.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(n))&&(K.delete(e),null===(r=X(e))||void 0===r||r(),J.delete(e))},setConfigDeletionHandler:function(e,t){P("recoil_memory_managament_2020")&&(void 0===t?J.delete(e):J.set(e,t))},getConfigDeletionHandler:X,recoilValuesForKeys:function(e){return L(e,(e=>a(G.get(e))))},NodeMissingError:Y,DefaultValue:H,DEFAULT_VALUE:$,RecoilValueNotReady:Q},te=function(e,t){t()},ne=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,s=r/4,a={},u=function(e){return function(){return e}},l=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},c=function(e,t){return t>>>e&i},h=function(e){return 1<<e},f=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}(e&t-1)},d=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var s=0;s<o;++s)i[s]=r[s]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,s=n;if(e)i=o=t;else for(s=new Array(r);i<t;)s[o++]=n[i++];for(++i;i<=r;)s[o++]=n[i++];return e&&(s.length=r),s},m={__hamt_isEmpty:!0},g=function(e){return e===m||e&&e.__hamt_isEmpty},v=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:k}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:_}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},w=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:I}},E=function e(t,n,r,i,o,s){if(r===o)return y(t,r,[s,i]);var a=c(n,r),u=c(n,o);return b(t,h(a)|h(u),a===u?[e(t,n+5,r,i,o,s)]:a<u?[i,s]:[s,i])},S=function(e,t){return e===t.edit},k=function(e,t,n,r,i,o,s){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===a?(--s.value,m):S(e,this)?(this.value=u,this):v(e,i,o,u)}var l=r();return l===a?this:(++s.value,E(e,n,this.hash,this,i,v(e,i,o,l)))},_=function(e,t,n,r,i,o,s){if(i===this.hash){var u=function(e,t,n,r,i,o,s,u){for(var l=i.length,c=0;c<l;++c){var h=i[c];if(n(s,h.key)){var f=h.value,m=o(f);return m===f?i:m===a?(--u.value,p(e,c,i)):d(e,c,v(t,r,s,m),i)}}var g=o();return g===a?i:(++u.value,d(e,l,v(t,r,s,g),i))}(S(e,this),e,t,this.hash,this.children,r,o,s);return u===this.children?this:u.length>1?y(e,this.hash,u):u[0]}var l=r();return l===a?this:(++s.value,E(e,n,this.hash,this,i,v(e,i,o,l)))},T=function(e,t,n,r,i,s,a){var u=this.mask,l=this.children,v=c(n,i),y=h(v),E=f(u,y),k=u&y,_=k?l[E]:m,T=_._modify(e,t,n+5,r,i,s,a);if(_===T)return this;var I,x=S(e,this),O=u,A=void 0;if(k&&g(T)){if(!(O&=~y))return m;if(l.length<=2&&((I=l[1^E])===m||1===I.type||2===I.type))return l[1^E];A=p(x,E,l)}else if(k||g(T))A=d(x,E,T,l);else{if(l.length>=o)return function(e,t,n,r,i){for(var o=[],s=r,a=0,u=0;s;++u)1&s&&(o[u]=i[a++]),s>>>=1;return o[t]=n,w(e,a+1,o)}(e,v,T,u,l);O|=y,A=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var s=0,a=0,u=new Array(i+1);s<t;)u[a++]=r[s++];for(u[t]=n;s<i;)u[++a]=r[s++];return u}(x,E,T,l)}return x?(this.mask=O,this.children=A,this):b(e,O,A)},I=function(e,t,n,r,i,o,a){var u=this.size,l=this.children,h=c(n,i),f=l[h],p=(f||m)._modify(e,t,n+5,r,i,o,a);if(f===p)return this;var v=S(e,this),y=void 0;if(g(f)&&!g(p))++u,y=d(v,h,p,l);else if(!g(f)&&g(p)){if(--u<=s)return function(e,t,n,r){for(var i=new Array(t-1),o=0,s=0,a=0,u=r.length;a<u;++a)if(a!==n){var l=r[a];l&&!g(l)&&(i[o++]=l,s|=1<<a)}return b(e,s,i)}(e,u,h,l);y=d(v,h,m,l)}else y=d(v,h,p,l);return v?(this.size=u,this.children=y,this):w(e,u,y)};function x(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,s){var u=r();return u===a?m:(++s.value,v(e,i,o,u))},x.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new x(this._editable,this._edit,this._config,e,t)};var O=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,s=r._config.keyEq;;)switch(i.type){case 1:return s(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var a=i.children,u=0,l=a.length;u<l;++u){var d=a[u];if(s(n,d.key))return d.value}return e;case 3:var p=c(o,t),m=h(p);if(i.mask&m){i=i.children[f(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[c(o,t)]){o+=5;break}return e;default:return e}};x.prototype.tryGetHash=function(e,t,n){return O(e,t,n,this)};var A=n.tryGet=function(e,t,n){return O(e,n._config.hash(t),t,n)};x.prototype.tryGet=function(e,t){return A(e,t,this)};var N=n.getHash=function(e,t,n){return O(void 0,e,t,n)};x.prototype.getHash=function(e,t){return N(e,t,this)},n.get=function(e,t){return O(void 0,t._config.hash(e),e,t)},x.prototype.get=function(e,t){return A(t,e,this)};var C=n.has=function(e,t,n){return O(a,e,t,n)!==a};x.prototype.hasHash=function(e,t){return C(e,t,this)};var R=n.has=function(e,t){return C(t._config.hash(e),e,t)};x.prototype.has=function(e){return R(e,this)};var D=function(e,t){return e===t};n.make=function(e){return new x(0,0,{keyEq:e&&e.keyEq||D,hash:e&&e.hash||l},m,0)},n.empty=n.make();var P=n.isEmpty=function(e){return e&&!!g(e._root)};x.prototype.isEmpty=function(){return P(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};x.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};x.prototype.modify=function(e,t){return M(t,e,this)};var V=n.setHash=function(e,t,n,r){return L(u(n),e,t,r)};x.prototype.setHash=function(e,t,n){return V(e,t,n,this)};var F=n.set=function(e,t,n){return V(n._config.hash(e),e,t,n)};x.prototype.set=function(e,t){return F(e,t,this)};var U=u(a),j=n.removeHash=function(e,t,n){return L(U,e,t,n)};x.prototype.removeHash=x.prototype.deleteHash=function(e,t){return j(e,t,this)};var B=n.remove=function(e,t){return j(t._config.hash(e),e,t)};x.prototype.remove=x.prototype.delete=function(e){return B(e,this)};var z=n.beginMutation=function(e){return new x(e._editable+1,e._edit+1,e._config,e._root,e._size)};x.prototype.beginMutation=function(){return z(this)};var q=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};x.prototype.endMutation=function(){return q(this)};var W=n.mutate=function(e,t){var n=z(t);return e(n),q(n)};x.prototype.mutate=function(e){return W(e,this)};var H=function(e){return e&&$(e[0],e[1],e[2],e[3],e[4])},$=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!g(o))return Q(o,r,[e,t,n,r,i])}return H(i)},Q=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return $(r.length,r,0,t,n);default:return H(n)}},K={done:!0};function G(e){this.v=e}G.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=H(e.rest),e},G.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new G(Q(e._root,t))},J=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,J)};x.prototype.entries=x.prototype[Symbol.iterator]=function(){return X(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};x.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=x.prototype.values=function(e){return Y(e,te)};x.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var s=0,a=o.length;s<a;){var u=o[s++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};x.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};x.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};x.prototype.count=function(){return oe(this)},Object.defineProperty(x.prototype,"size",{get:x.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n}(Z={exports:{}}),Z.exports);class re{constructor(e){u(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return oe(this)}toMap(){return new Map(this._map)}}class ie{constructor(e){if(u(this,"_hamt",ne.empty.beginMutation()),e instanceof ie){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return oe(this)}toMap(){return new Map(this._hamt)}}function oe(e){return P("recoil_hamt_2020")?new ie(e):new re(e)}var se=oe,ae=Object.freeze({__proto__:null,persistentMap:se}),ue=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n},le=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function ce(e,t,n){const{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach(((e,t)=>{const o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:ue(e,o)).forEach((e=>{i.has(e)||i.set(e,new Set),a(i.get(e)).add(t)})),o&&ue(o,e).forEach((e=>{if(!i.has(e))return;const n=a(i.get(e));n.delete(t),0===n.size&&i.delete(e)})))}))}var he={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),a(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:le(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:le(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach(((e,n)=>{t.has(n)||t.set(n,new Set);const r=a(t.get(n));e.forEach((e=>r.add(e)))}))},saveDependencyMapToStore:function(e,t,n){var r,i,o,s;const a=t.getState();n!==a.currentTree.version&&n!==(null===(r=a.nextTree)||void 0===r?void 0:r.version)&&(null===(i=a.previousTree)||void 0===i||i.version);const u=t.getGraph(n);if(ce(e,u),n===(null===(o=a.previousTree)||void 0===o?void 0:o.version)&&ce(e,t.getGraph(a.currentTree.version),u),n===(null===(s=a.previousTree)||void 0===s?void 0:s.version)||n===a.currentTree.version){var l;const n=null===(l=a.nextTree)||void 0===l?void 0:l.version;void 0!==n&&ce(e,t.getGraph(n),u)}}};const{persistentMap:fe}=ae,{graph:de}=he;let pe=0;const me=()=>pe++;function ge(){const e=me();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:fe(),nonvalidatedAtoms:fe()}}var ve={makeEmptyTreeState:ge,makeEmptyStoreState:function(){const e=ge();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,de()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:me},ye=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t},be={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}},we=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};class Ee{}var Se={RetentionZone:Ee,retentionZone:function(){return new Ee}};const{setByAddingToSet:ke}=be,{getNode:_e,getNodeMaybe:Te,recoilValuesForKeys:Ie}=ee,{RetentionZone:xe}=Se,Oe=Object.freeze(new Set);class Ae extends Error{}function Ne(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=_e(n),s=function(e,t,n){if(!P("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof xe)i(n);else if(Array.isArray(n))for(const e of n)i(e);return()=>{if(!P("recoil_memory_managament_2020"))return;const r=e.getState().retention.nodesRetainedByZone;function i(e){const n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof xe)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),a=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{a(),s()}))}function Ce(e,t,n){return _e(n).peek(e,t)}function Re(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var s;r.add(e);const t=null!==(s=o.nodeToNodeSubscriptions.get(e))&&void 0!==s?s:Oe;for(const e of t)r.has(e)||i.push(e)}return r}var De={getNodeLoadable:function(e,t,n){return Ne(e,t,n,"get"),_e(n).get(e,t)},peekNodeLoadable:Ce,setNodeValue:function(e,t,n,r){const i=_e(n);if(null==i.set)throw new Ae(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ne(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=Te(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ke(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;const s=e.getState(),a=e.getGraph(t.version),u=s.knownAtoms.has(n)?"atom":s.knownSelectors.has(n)?"selector":void 0,l=we(Re(e,t,new Set([n])),(e=>e!==n));return{loadable:Ce(e,t,n),isActive:s.knownAtoms.has(n)||s.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:Ie(null!==(r=a.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:Ie(l),components:L(null!==(i=null===(o=s.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}},getDownstreamNodes:Re,initializeNodeIfNewToStore:Ne};const{getDownstreamNodes:Pe,getNodeLoadable:Le,setNodeValue:Me}=De,{getNodeMaybe:Ve}=ee,{DefaultValue:Fe,RecoilValueNotReady:Ue}=ee,{AbstractRecoilValue:je,RecoilState:Be,RecoilValueReadOnly:ze,isRecoilValue:qe}=W;function We(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"==typeof r){const i=Le(e,t,n);if("loading"===i.state)throw new Ue(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),s=Me(e,t,r.key,o);for(const[e,n]of s.entries())He(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;He(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=Ve(e);null==o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else n.type}function He(e,t,n){"hasValue"===n.state&&n.contents instanceof Fe?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function $e(e,t){e.replaceState((n=>{const r=Ge(n);for(const n of t)We(e,r,n);return Ye(e,r),r}))}function Qe(e,t){if(Ke.length){const n=Ke[Ke.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else $e(e,[t])}const Ke=[];function Ge(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function Ye(e,t){const n=Pe(e,t,t.dirtyAtoms);for(const e of n){var r,i;null===(r=Ve(e))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function Je(e,t,n){Qe(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let Xe=0;var Ze={RecoilValueReadOnly:ze,AbstractRecoilValue:je,RecoilState:Be,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const o=e.getState();n.version!==o.currentTree.version&&n.version!==(null===(r=o.nextTree)||void 0===r?void 0:r.version)&&(n.version,null===(i=o.previousTree)||void 0===i||i.version);const s=Le(e,n,t);return"loading"===s.state&&s.contents.catch((()=>{})),s},setRecoilValue:Je,setRecoilValueLoadable:function(e,t,n){if(n instanceof Fe)return Je(e,t,n);Qe(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Qe(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Qe(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Xe++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),a(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]),P("recoil_early_rendering_2021")){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)&&(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t))}}},isRecoilValue:qe,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof Fe?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return Ke.push(e),()=>{for(const[t,n]of e)$e(t,n);Ke.pop()}},writeLoadableToTreeState:He,invalidateDownstreams:Ye,copyTreeState:Ge,invalidateDownstreams_FOR_TESTING:Ye},et=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:tt}=De,{deleteNodeConfigIfPossible:nt,getNode:rt}=ee,{RetentionZone:it}=Se,ot=new Set;function st(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const e of t)if(e instanceof it)for(const t of ut(n,e))i.add(t);else i.add(e);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,s=new Set;return function t(u){const l=new Set,c=function(e,t,n,r,i){const o=e.getGraph(t.version),s=[],u=new Set;for(;n.size>0;)l(a(n.values().next().value));return s;function l(e){if(r.has(e)||i.has(e))return void n.delete(e);if(u.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)l(e);u.add(e),n.delete(e),s.push(e)}}(e,r,u,o,s);for(const e of c){var h;if("recoilRoot"===rt(e).retainedBy){s.add(e);continue}if((null!==(h=n.retention.referenceCounts.get(e))&&void 0!==h?h:0)>0){s.add(e);continue}if(lt(e).some((e=>n.retention.referenceCounts.get(e)))){s.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&et(t,(e=>s.has(e)))?s.add(e):(o.add(e),l.add(e))}const f=new Set;for(const e of l)for(const t of null!==(d=i.nodeDeps.get(e))&&void 0!==d?d:ot){var d;o.has(t)||f.add(t)}f.size&&t(f)}(t),o}(e,i);for(const t of o)at(e,r,t)}function at(e,t,n){if(!P("recoil_memory_managament_2020"))return;tt(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=lt(n);for(const e of i){var o;null===(o=r.retention.nodesRetainedByZone.get(e))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const s=r.graphsByVersion.get(t.version);if(s){const e=s.nodeDeps.get(n);if(void 0!==e){s.nodeDeps.delete(n);for(const t of e){var a;null===(a=s.nodeToNodeSubscriptions.get(t))||void 0===a||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}nt(n)}function ut(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:ot}function lt(e){const t=rt(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof it?[t]:t}function ct(e,t){P("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):st(e,new Set([t]))}(e,t))}var ht={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!P("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?ct(e,t):i.set(t,o)},updateRetainCountToZero:ct,releaseScheduledRetainablesNow:function(e){if(!P("recoil_memory_managament_2020"))return;const t=e.getState();st(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},ft={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};const{unstable_batchedUpdates:dt}=i;var pt={unstable_batchedUpdates:dt};const{unstable_batchedUpdates:mt}=pt;var gt={unstable_batchedUpdates:mt};const{batchStart:vt}=Ze,{unstable_batchedUpdates:yt}=gt;let bt=yt;var wt={getBatcher:()=>bt,setBatcher:e=>{bt=e},batchUpdates:e=>{bt((()=>{let t=()=>{};try{t=vt(),e()}finally{t()}}))}};const{isSSR:Et}=ft,{batchUpdates:St}=wt,{initializeNodeIfNewToStore:kt,peekNodeInfo:_t}=De,{graph:Tt}=he,{DEFAULT_VALUE:It,recoilValues:xt,recoilValuesForKeys:Ot}=ee,{AbstractRecoilValue:At,getRecoilValueAsLoadable:Nt,setRecoilValue:Ct,setUnvalidatedRecoilValue:Rt}=Ze,{updateRetainCount:Dt}=ht,{getNextTreeStateVersion:Pt,makeEmptyStoreState:Lt}=ve;class Mt{constructor(e){u(this,"_store",void 0),u(this,"_refCount",0),u(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Nt(this._store,e)))),u(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),u(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return Ot(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?xt.values():!0===e.isInitialized?Ot(function*(e){for(const t of e)for(const e of t)yield e}([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):we(xt.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),u(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),_t(this._store,this._store.getState().currentTree,e)))),u(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,St);return e(t),Ft(t.getStore_INTERNAL())})),u(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,St);return await e(t),Ft(t.getStore_INTERNAL())})),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return a(n.get(t));const r=Tt();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw o("Cannot subscribe to Snapshots")}};for(const t of this._store.getState().nodeCleanupFunctions.keys())kt(this._store,e.currentTree,t,"get"),Dt(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!P("recoil_memory_managament_2020"))return()=>{};this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){P("recoil_memory_managament_2020")&&(Et||window.setTimeout((()=>this.release_INTERNAL()),0))}release_INTERNAL(){P("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){P("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function Vt(e,t,n=!1){const r=e.getState(),i=n?Pt():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function Ft(e,t="current"){const n=e.getState(),r="current"===t?n.currentTree:a(n.previousTree);return new Mt(Vt(e,r))}class Ut extends Mt{constructor(e,t){super(Vt(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),u(this,"_batch",void 0),u(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Dt(n,e.key,1),Ct(this.getStore_INTERNAL(),e,t)}))})),u(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Dt(t,e.key,1),Ct(this.getStore_INTERNAL(),e,It)}))})),u(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();St((()=>{for(const[n,r]of e.entries())Dt(t,n,1),Rt(t,new At(n),r)}))})),this._batch=t}}var jt={Snapshot:Mt,MutableSnapshot:Ut,freshSnapshot:function(e){const t=new Mt(Lt());return null!=e?t.map(e):t},cloneSnapshot:Ft},Bt=jt.Snapshot,zt=jt.MutableSnapshot,qt=jt.freshSnapshot,Wt=jt.cloneSnapshot,Ht=Object.freeze({__proto__:null,Snapshot:Bt,MutableSnapshot:zt,freshSnapshot:qt,cloneSnapshot:Wt});const{getNextTreeStateVersion:$t,makeEmptyStoreState:Qt}=ve,{cleanUpNode:Kt,getDownstreamNodes:Gt,setNodeValue:Yt,setUnvalidatedAtomValue_DEPRECATED:Jt}=De,{graph:Xt}=he,{cloneGraph:Zt}=he,{applyAtomValueWrites:en}=Ze,{releaseScheduledRetainablesNow:tn}=ht,{freshSnapshot:nn}=Ht,{useCallback:rn,useContext:on,useEffect:sn,useMemo:an,useRef:un,useState:ln}=r;function cn(){throw o("This component must be used inside a <RecoilRoot> component.")}const hn=Object.freeze({getState:cn,replaceState:cn,getGraph:cn,subscribeToTransactions:cn,addTransactionMetadata:cn});let fn=!1;function dn(e){if(fn)throw o("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){P("recoil_memory_managament_2020")&&P("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&tn(e);const n=t.currentTree.version,r=$t();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,Zt(a(t.graphsByVersion.get(n))))}}const pn=r.createContext({current:hn}),mn=()=>on(pn),gn=r.createContext(null);function vn(e,t,n){const r=Gt(e,n,n.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,i]]of r)i(n)}}function yn(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,n]of i)n(e);for(const[n,r]of t.transactionSubscriptions)r(e);P("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(vn(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function bn({setNotifyBatcherOfChange:e}){const t=mn(),[n,r]=ln([]);return e((()=>r({}))),sn((()=>{te("Batcher",(()=>{!function(e){const t=e.current.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,yn(e.current),null!=t.previousTree&&t.graphsByVersion.delete(t.previousTree.version),t.previousTree=null,P("recoil_memory_managament_2020")&&tn(e.current)}finally{t.commitDepth--}}(t)}))})),sn((()=>()=>{e((()=>{}))}),[e]),null}let wn=0;function En({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:i}){var o;let s;const u=un(null),l=rn((e=>{u.current=e}),[u]),c=null!==(o=r.createMutableSource)&&void 0!==o?o:r.unstable_createMutableSource,h=null!=n?n:{getState:()=>s.current,replaceState:e=>{const t=f.current.getState();dn(f.current);const n=a(t.nextTree);let r;try{fn=!0,r=e(n)}finally{fn=!1}r!==n&&(t.nextTree=r,P("recoil_early_rendering_2021")&&vn(h,t,r),a(u.current)())},getGraph:e=>{const t=s.current.graphsByVersion;if(t.has(e))return a(t.get(e));const n=Xt();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){const{transactionSubscriptions:t}=f.current.getState(),n=wn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=f.current.getState();n.has(t)||n.set(t,new Map);const r=wn++;return a(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{dn(f.current);for(const t of Object.keys(e))a(f.current.getState().nextTree).transactionMetadata[t]=e[t]}},f=un(h);s=un(null!=e?function(e,t){const n=Qt();return t({set:(t,r)=>{const i=n.currentTree,o=Yt(e,i,t.key,r),s=new Set(o.keys()),a=i.nonvalidatedAtoms.clone();for(const e of s)a.delete(e);n.currentTree={...i,dirtyAtoms:ye(i.dirtyAtoms,s),atomValues:en(i.atomValues,o),nonvalidatedAtoms:a}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Jt(n.currentTree,t,e)}))}}),n}(h,e):null!=t?function(e){return nn().map(e).getStore_INTERNAL().getState()}(t):Qt());const d=an((()=>c?c(s,(()=>s.current.currentTree.version)):null),[c,s]);return sn((()=>()=>{for(const e of f.current.getState().knownAtoms)Kt(f.current,e)}),[]),r.createElement(pn.Provider,{value:f},r.createElement(gn.Provider,{value:d},r.createElement(bn,{setNotifyBatcherOfChange:l}),i))}var Sn={useStoreRef:mn,useRecoilMutableSource:function(){const e=on(gn);return e},RecoilRoot:function(e){const{override:t,...n}=e,i=mn();return!1===t&&i.current!==hn?e.children:r.createElement(En,n)},notifyComponents_FOR_TESTING:vn,sendEndOfBatchNotifications_FOR_TESTING:yn};const{useRef:kn}=r;var _n=function(){return kn(),"<component name not available>"};const{useEffect:Tn,useRef:In}=r;var xn=function(e){const t=In();return Tn((()=>{t.current=e})),t.current};const{useStoreRef:On}=Sn,{SUSPENSE_TIMEOUT_MS:An}=ht,{updateRetainCount:Nn}=ht,{RetentionZone:Cn}=Se,{isSSR:Rn}=ft,{useEffect:Dn,useRef:Pn}=r;var Ln=function(e){if(P("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Cn?e:e.key)),n=On();Dn((()=>{if(!P("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!Rn)window.clearTimeout(r.current),r.current=null;else for(const n of t)Nn(e,n,1);return()=>{for(const n of t)Nn(e,n,-1)}}),[n,...t]);const r=Pn(),i=xn(t);if(!(Rn||void 0!==i&&function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(i,t))){const e=n.current;for(const n of t)Nn(e,n,1);if(i)for(const t of i)Nn(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)Nn(e,n,-1)}),An)}}(e)};const{batchUpdates:Mn}=wt,{DEFAULT_VALUE:Vn}=ee,{useRecoilMutableSource:Fn,useStoreRef:Un}=Sn,{isRecoilValue:jn}=W,{AbstractRecoilValue:Bn,getRecoilValueAsLoadable:zn,setRecoilValue:qn,setUnvalidatedRecoilValue:Wn,subscribeToRecoilValue:Hn}=Ze,{setByAddingToSet:$n}=be,{mutableSourceExists:Qn,useMutableSource:Kn}=N,{useCallback:Gn,useEffect:Yn,useMemo:Jn,useRef:Xn,useState:Zn}=r;function er(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:o(`Invalid value of loadable atom "${t.key}"`)}function tr(e){return P("recoil_memory_managament_2020")&&Ln(e),Qn()?function(e){const t=Un(),n=Gn((()=>{var n;const r=t.current,i=r.getState(),o=P("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return zn(r,e,o)}),[t,e]),r=Gn((()=>n()),[n]),i=_n(),o=Gn(((r,o)=>{const s=t.current;return Hn(s,e,(()=>{if(!P("recoil_suppress_rerender_in_callback"))return o();const e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),s=Fn(),a=Kn(s,r,o),u=Xn(a);return Yn((()=>{u.current=a})),a}(e):function(e){const t=Un(),[n,r]=Zn([]),i=_n();Yn((()=>{const n=t.current,o=n.getState(),a=Hn(n,e,(t=>{var i;if(!P("recoil_suppress_rerender_in_callback"))return r([]);const o=zn(n,e,n.getState().currentTree);(null===(i=s.current)||void 0===i?void 0:i.is(o))||r(o),s.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{s.current=null,r([])}));else{var u;if(!P("recoil_suppress_rerender_in_callback"))return r([]);const t=zn(n,e,n.getState().currentTree);(null===(u=s.current)||void 0===u?void 0:u.is(t))||r(t),s.current=t}return a.release}),[i,e,t]);const o=zn(t.current,e),s=Xn(o);return Yn((()=>{s.current=o})),o}(e)}function nr(e){const t=Un();return er(tr(e),e,t)}function rr(e){const t=Un();return Gn((n=>{qn(t.current,e,n)}),[t,e])}var ir={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=Un(),[,t]=Zn([]),n=Xn(new Set);n.current=new Set;const r=Xn(new Set),i=Xn(new Map),o=Gn((e=>{const t=i.current.get(e);t&&(t.release(),i.current.delete(e))}),[i]),s=_n();return Yn((()=>{const a=e.current;function u(e,n){i.current.has(n)&&t([])}ue(n.current,r.current).forEach((e=>{if(i.current.has(e))return;const t=Hn(a,new Bn(e),(t=>{u(0,e)}),s);i.current.set(e,t),a.getState().nextTree?a.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{u(a.getState(),e)})):u(a.getState(),e)})),ue(r.current,n.current).forEach((e=>{o(e)})),r.current=n.current})),Yn((()=>{const e=i.current;return()=>e.forEach(((e,t)=>o(t)))}),[o]),Jn((()=>{function t(t){return n=>{qn(e.current,t,n)}}function r(t){var r;n.current.has(t.key)||(n.current=$n(n.current,t.key));const i=e.current.getState();return zn(e.current,t,P("recoil_early_rendering_2021")&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)}function i(t){return er(r(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:r,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[r(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>qn(e.current,t,Vn)}}}),[n,e])},useRecoilState:function(e){return[nr(e),rr(e)]},useRecoilStateLoadable:function(e){return[tr(e),rr(e)]},useRecoilValue:nr,useRecoilValueLoadable:tr,useResetRecoilState:function(e){const t=Un();return Gn((()=>{qn(t.current,e,Vn)}),[t,e])},useSetRecoilState:rr,useSetUnvalidatedAtomValues:function(){const e=Un();return(t,n={})=>{Mn((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Wn(e.current,new Bn(n),t)))}))}}};const{batchUpdates:or}=wt,{DEFAULT_VALUE:sr,getNode:ar,nodes:ur}=ee,{useStoreRef:lr}=Sn,{AbstractRecoilValue:cr,setRecoilValueLoadable:hr}=Ze,{SUSPENSE_TIMEOUT_MS:fr}=ht,{Snapshot:dr,cloneSnapshot:pr}=Ht,{isSSR:mr}=ft,{useCallback:gr,useEffect:vr,useRef:yr,useState:br}=r;function wr(e){const t=lr();vr((()=>t.current.subscribeToTransactions(e).release),[e,t])}function Er(e){const t=e.atomValues.toMap(),n=le(function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n}(t,((e,t)=>{const n=ar(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t}(e.nonvalidatedAtoms.toMap(),n)}var Sr={useRecoilSnapshot:function(){const e=lr(),[t,n]=br((()=>pr(e.current))),r=xn(t),i=yr();return vr((()=>(i.current&&!mr&&window.clearTimeout(i.current),t.retain())),[t]),wr(gr((e=>n(pr(e))),[])),r===t||mr||(i.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout((()=>{t.release_INTERNAL(),i.current=null}),fr)),t},useGotoRecoilSnapshot:function(){const e=lr();return gr((t=>{var n;const r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;or((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,s;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(s=o.atomValues.get(t))||void 0===s?void 0:s.contents)&&ar(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{hr(e.current,new cr(t),o.atomValues.has(t)?a(o.atomValues.get(t)):sr)})),e.current.replaceState((e=>({...e,stateID:t.getID_INTERNAL()})))}))}),[e])},useRecoilTransactionObserver:function(e){wr(gr((t=>{const n=pr(t,"current"),r=pr(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){wr(gr((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=Er(r),o=Er(n),s=le(ur,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),a=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:wr};const{peekNodeInfo:kr}=De,{useStoreRef:_r}=Sn;const{RecoilRoot:Tr,useStoreRef:Ir}=Sn,{useMemo:xr}=r;const{loadableWithValue:Or}=O,{DEFAULT_VALUE:Ar,getNode:Nr}=ee,{copyTreeState:Cr,getRecoilValueAsLoadable:Rr,invalidateDownstreams:Dr,writeLoadableToTreeState:Pr}=Ze;function Lr(e){return"atom"===Nr(e.key).nodeType}class Mr{constructor(e,t){u(this,"_store",void 0),u(this,"_treeState",void 0),u(this,"_changes",void 0),u(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Lr(e))throw o("Reading selectors within atomicUpdate is not supported");const t=Rr(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:o(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),u(this,"set",((e,t)=>{if(!Lr(e))throw o("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)})),u(this,"reset",(e=>{this.set(e,Ar)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Cr(this._treeState);for(const[t,n]of this._changes)Pr(e,t,Or(n));return Dr(this._store,e),e}}var Vr=function(e){return t=>{e.replaceState((n=>{const r=new Mr(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Fr=Object.freeze({__proto__:null,atomicUpdater:Vr}),Ur=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:jr}=Fr,{batchUpdates:Br}=wt,{DEFAULT_VALUE:zr}=ee,{useStoreRef:qr}=Sn,{setRecoilValue:Wr}=Ze,{Snapshot:Hr,cloneSnapshot:$r}=Ht,{useGotoRecoilSnapshot:Qr}=Sr,{useCallback:Kr}=r;class Gr{}const Yr=new Gr;const{getNode:Jr}=ee,{useStoreRef:Xr}=Sn,{useCallback:Zr}=r;const{atomicUpdater:ei}=Fr,{useStoreRef:ti}=Sn,{useMemo:ni}=r;const{isReactNative:ri,isSSR:ii}=ft;function oi(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw o("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(s(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>oi(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return oi(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"==typeof n?n:oi(n,t)]=i;return oi(r,t,n)}return e instanceof Set?oi(Array.from(e).sort(((e,n)=>oi(e,t).localeCompare(oi(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?oi(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${oi(n,t)}:${oi(e[n],t,n)}`)).join(",")}}`}var si=function(e,t={allowFunctions:!1}){return oi(e,t)};const ai=(e,t,n)=>{var r;if(null==e)return;if(null==n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;const i=t(e.nodeKey);return ai(e.branches.get(i),t,n)},ui=(e,t,n,r,i,o,s)=>{var a;let u;if(null==e)if(0===t.length)u={type:"leaf",value:r,parent:n,branchKey:i};else{const[e,...a]=t,[l,c]=e;u={type:"branch",nodeKey:l,parent:n,branches:new Map,branchKey:i},u.branches.set(c,ui(null,a,u,r,c,o,s))}else if(u=e,t.length){const[n,...i]=t,[a,l]=n;if("branch"!==e.type||e.nodeKey!==a)return s(),u;e.branches.set(l,ui(e.branches.get(l),i,e,r,l,o,s))}return null==o||null===(a=o.onNodeVisit)||void 0===a||a.call(o,u),u},li=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),li(e,n,n.parent)):e===t,ci=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce(((e,t)=>e+ci(t)),0);var hi=Object.freeze({__proto__:null,TreeCache:class{constructor(e){var t,n,r;u(this,"_numLeafs",void 0),u(this,"_root",void 0),u(this,"_onHit",void 0),u(this,"_onSet",void 0),u(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return ai(this.root(),(t=>this._mapNodeValue(e(t))),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r,i=null;const o=()=>{i=ui(this.root(),e.map((([e,t])=>[e,this._mapNodeValue(t)])),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}},(()=>{this.clear(),o()}))};o(),this.root()||(this._root=i),this._numLeafs++,this._onSet(a(r))}delete(e){if(!this.root())return!1;const t=a(this.root());return!!((e,t,n)=>n?(n.branches.delete(t.branchKey),li(e,n,n.parent)):e===t)(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=ci(e),!0))}clear(){this._numLeafs=0,this._root=null}}}),fi=class{constructor(e){var t;u(this,"_maxSize",void 0),u(this,"_size",void 0),u(this,"_head",void 0),u(this,"_tail",void 0),u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=a(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},di=Object.freeze({__proto__:null,LRUCache:fi});const{LRUCache:pi}=di,{TreeCache:mi}=hi;var gi=function(e,t=(e=>e)){const n=new pi({maxSize:e}),r=new mi({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{const i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};const{TreeCache:vi}=hi,yi={equality:"reference",eviction:"keep-all",maxSize:1/0};const{loadableWithError:bi,loadableWithPromise:wi,loadableWithValue:Ei}=O,{getNodeLoadable:Si,peekNodeLoadable:ki,setNodeValue:_i}=De,{saveDependencyMapToStore:Ti}=he,{DEFAULT_VALUE:Ii,RecoilValueNotReady:xi,getConfigDeletionHandler:Oi,getNode:Ai,registerNode:Ni}=ee,{isRecoilValue:Ci}=W,{AbstractRecoilValue:Ri}=W,{markRecoilValueModified:Di,setRecoilValueLoadable:Pi}=Ze,{retainedByOptionWithDefault:Li}=ht,{cloneSnapshot:Mi}=Ht,{startPerfBlock:Vi}={startPerfBlock:function(e){return()=>null}};class Fi{}const Ui=new Fi,ji=[],Bi=new Map,zi=(()=>{let e=0;return()=>e++})();var qi=function(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,u=null!=e.set?e.set:void 0,l=new Set,c=function({equality:e=yi.equality,eviction:t=yi.eviction,maxSize:n=yi.maxSize}=yi){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new vi({mapNodeValue:n});case"lru":return gi(a(t),n);case"most-recent":return gi(1,n)}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i}(null!=i?i:{equality:"reference",eviction:"keep-all"}),h=Li(e.retainedBy_UNSTABLE),f=new Map;let d=0;function p(){return!P("recoil_memory_managament_2020")||d>0}function m(e){return f.has(e)||f.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),a(f.get(e))}function g(e){return d++,e.getState().knownSelectors.add(n),()=>{d--,e.getState().knownSelectors.delete(n),f.delete(e)}}function v(){return void 0!==Oi(n)&&!p()}function y(e,t,n){if("loading"===t.state){let t=Bi.get(n);null==t&&Bi.set(n,t=new Set),t.add(e)}}function b(e,t,n){const r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return a(t.atomValues.get(n));const i=Si(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function w(e,t,n,r,i,o){return t.then((r=>{if(!p())throw N(e,i),Ui;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,Ei(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const s=_(e,n);if(s&&"hasValue"===s.state)return O(s,e),s.contents;if(!C(e,i)){var a;const e=I(n);if("loading"===(null==e||null===(a=e.latestLoadable)||void 0===a?void 0:a.state))return e.latestLoadable.contents}const[u,l]=k(e,n,i);if(C(e,i)&&A(l,e,i),"loading"!==u.state&&(D(n,T(l),u),S(e,n,new Set(l.keys()),i),E(e,u,i)),"hasError"===u.state)throw u.contents;return u.contents})).catch((t=>{if(t instanceof Fi)throw Ui;if(!p())throw N(e,i),Ui;const o=bi(t);throw R(),D(n,T(r),bi(t)),S(e,n,new Set(r.keys()),i),E(e,o,i),t}))}function E(e,t,r){C(e,r)&&(O(t,e),function(e,t){const r=Bi.get(t);if(void 0!==r){for(const t of r)Pi(t,new Ri(n),e);Bi.delete(t)}}(t,r))}function S(e,t,r,i){var o,s,a,u,l,c,h;(C(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(s=o.currentTree)||void 0===s?void 0:s.version)||t.version===(null===(a=e.getState())||void 0===a||null===(u=a.nextTree)||void 0===u?void 0:u.version))&&Ti(new Map([[n,r]]),e,null!==(l=null===(c=e.getState())||void 0===c||null===(h=c.nextTree)||void 0===h?void 0:h.version)&&void 0!==l?l:e.getState().currentTree.version)}function k(e,t,i){const a=Vi(n);let u,l,c=!1;const h={loadingDepKey:null,loadingDepPromise:null},f=new Map,d=new Set;function m(n){const{key:r}=n;!function(e,t,n,r,i){n.add(r),S(e,t,n,i)}(e,t,d,r,i);const s=b(e,t,r);switch(f.set(r,s),s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":throw h.loadingDepKey=r,h.loadingDepPromise=s.contents,s.contents}throw o("Invalid Loadable state")}S(e,t,d,i);let g=!1;const v=t=>(...n)=>{if(!g)throw o("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");const r=Mi(e),i=t({snapshot:r});if("function"!=typeof i)throw o("getCallback() expects a function that returns a function.");return i(...n)};try{u=r({get:m,getCallback:v}),u=Ci(u)?m(u):u,g=!0,s(u)?u=function(e,t,n,r,i,o){return t.then((t=>{if(!p())throw N(e,i),Ui;const o=Ei(t);return R(),D(n,T(r),o),S(e,n,new Set(r.keys()),i),E(e,o,i),t})).catch((t=>{if(!p())throw N(e,i),Ui;if(C(e,i)&&A(r,e,i),s(t))return w(e,t,n,r,i,o);const a=bi(t);throw R(),D(n,T(r),a),S(e,n,new Set(r.keys()),i),E(e,a,i),t}))}(e,u,t,f,i,h).finally(a):a()}catch(n){u=n,s(u)?u=w(e,u,t,f,i,h).finally(a):(c=!0,a())}return l=c?bi(u):s(u)?wi(u):Ei(u),"loading"!==l.state&&R(l.contents),[l,f]}function _(e,t){const r=new Set,i=m(e);let s;try{s=c.get((n=>("string"!=typeof n&&Ur(!1),b(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&"string"==typeof e.nodeKey&&(r.add(e.nodeKey),l.add(e.nodeKey))}})}catch(e){throw o(`Problem with cache lookup for selector "${n}": ${e.message}`)}return s&&S(e,t,r,i.latestExecutionId),s}function T(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}function I(e){var t;const[,n]=null!==(t=Array.from(f.entries()).find((([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;const i=m(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,s=Array((null!==(r=x.get(t.version))&&void 0!==r?r:new Map).entries()),a=x.has(t.version)&&s.length===o.size&&s.every((([e,t])=>o.get(e)===t));return null!=o&&t.version!==i.stateVersion&&!a&&(x.set(t.version,new Map(o)),Array.from(o).some((([n,r])=>b(e,t,n).contents!==r.contents)))}(t,e))))&&void 0!==t?t:[];return n}const x=new Map;function O(e,t,n,r,i){const o=m(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null==i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function A(e,t,n){const r=m(t);C(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function N(e,t){C(e,t)&&f.delete(e)}function C(e,t){return t===m(e).latestExecutionId}function R(e){}function D(e,t,r){e.atomValues.set(n,r);try{c.set(t,r)}catch(e){throw o(`Problem with setting cache for selector "${n}": ${e.message}`)}}function L(e,t){return c.get((n=>{"string"!=typeof n&&Ur(!1);const r=ki(e,t,n);return null==r?void 0:r.contents}))}function M(e,t){return function(r){if(ji.includes(n)){const e=`Recoil selector has circular dependencies: ${ji.slice(ji.indexOf(n)).join("  ")}`;return bi(o(e))}ji.push(n);try{return function(e,t){const n=_(e,t);if(null!=n)return O(n,e),n;const r=I(t);if(r){const t=r;return y(e,a(t.latestLoadable),a(t.latestExecutionId)),a(t.latestLoadable)}return function(e,t){const n=zi(),[r,i]=k(e,t,n);return O(r,e,i,n,t),function(e,t,n){"loading"!==n.state&&D(e,t,n)}(t,T(i),r),y(e,r,n),r}(e,t)}(e,t)}finally{ji.pop()}}()}function V(e){e.atomValues.delete(n)}function F(e,n){null==t&&Ur(!1);for(const t of l){var r;const i=Ai(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}V(n),c.clear(),Di(e,t)}if(null!=u){const r=(e,t,n)=>{let r=!1;const i=new Map;function a({key:n}){if(r)throw o("Recoil: Async selector sets are not currently supported.");const i=b(e,t,n);if("hasValue"===i.state)return i.contents;throw"loading"===i.state?new xi(n):i.contents}function l(n,s){if(r)throw o("Recoil: Async selector sets are not currently supported.");const u="function"==typeof s?s(a(n)):s;_i(e,t,n.key,u).forEach(((e,t)=>i.set(t,e)))}const c=u({set:l,get:a,reset:function(e){l(e,Ii)}},n);if(void 0!==c)throw s(c)?o("Recoil: Async selector sets are not currently supported."):o("Recoil: selector set should be a void function.");return r=!0,i};return t=Ni({key:n,nodeType:"selector",peek:L,get:M,set:r,init:g,invalidate:V,clearCache:F,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:h})}return t=Ni({key:n,nodeType:"selector",peek:L,get:M,init:g,invalidate:V,clearCache:F,shouldDeleteConfigOnRelease:v,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:h})};const{loadableWithError:Wi,loadableWithPromise:Hi,loadableWithValue:$i}=O,{peekNodeInfo:Qi}=De,{DEFAULT_VALUE:Ki,DefaultValue:Gi,getConfigDeletionHandler:Yi,registerNode:Ji,setConfigDeletionHandler:Xi}=ee,{isRecoilValue:Zi}=W,{getRecoilValueAsLoadable:eo,markRecoilValueModified:to,setRecoilValue:no,setRecoilValueLoadable:ro}=Ze,{retainedByOptionWithDefault:io}=ht;var oo=function e(t){const{default:n,...r}=t;return Zi(n)?function(t){const n=e({...t,default:Ki,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof Gi?e:a(t.persistence_UNSTABLE).validator(e,Ki)},effects_UNSTABLE:t.effects_UNSTABLE}),r=qi({key:`${t.key}__withFallback`,get:({get:e})=>{const r=e(n);return r instanceof Gi?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Xi(r.key,Yi(t.key)),r}({...r,default:n}):function(e){const{key:t,persistence_UNSTABLE:n}=e,r=io(e.retainedBy_UNSTABLE);let i,u=0,l=s(e.default)?Hi(e.default.then((e=>(l=$i(e),e))).catch((e=>{throw l=Wi(e),e}))):$i(e.default);e.default;const c=new Map,h=Ji({key:t,nodeType:"atom",peek:function(e,n){var r,o;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:i)&&void 0!==r?r:l},get:function(e,r){if(r.atomValues.has(t))return a(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=i)return i;if(null==n)return l;const e=r.nonvalidatedAtoms.get(t),o=n.validator(e,Ki),s=o instanceof Gi?l:$i(o);return i=s,i}return l},set:function(e,n,r){if(n.atomValues.has(t)){const e=a(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Gi)return new Map;return i=void 0,(new Map).set(t,$i(r))},init:function(n,r,i){u++;const a=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===l.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||to(n,h)};l.contents.then(e).catch(e)}let f=Ki,d=null;if(null!=e.effects_UNSTABLE&&!a){let r=!0;function a(e){if(r&&e.key===t&&!(f instanceof Gi)){const e=f;return e instanceof Gi?l:s(e)?Hi(e.then((e=>e instanceof Gi?l.toPromise():e))):$i(e)}return eo(n,e)}function u(e){return a(e).toPromise()}function g(e){var i;const o=Qi(n,null!==(i=n.getState().nextTree)&&void 0!==i?i:n.getState().currentTree,e.key);return!r||e.key!==t||f instanceof Gi?o:{...o,isSet:!0,loadable:a(e)}}const v=e=>t=>{if(r){const n=f instanceof Gi||s(f)?"hasValue"===l.state?l.contents:Ki:f;f="function"==typeof t?t(n):t,s(f)&&(f=f.then((t=>(d={effect:e,value:t},t))))}else{if(s(t))throw o("Setting atoms to async values is not implemented.");"function"!=typeof t&&(d={effect:e,value:t}),no(n,h,"function"==typeof t?n=>{const r=t(n);return d={effect:e,value:r},r}:t)}},y=e=>()=>v(e)(Ki),b=e=>r=>{n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:s}=n.getState();s||(s=o);const a=null!==(i=o.atomValues.get(t))&&void 0!==i?i:l;if("hasValue"===a.state){var u,c,h,f;const n=a.contents,i=null!==(u=s.atomValues.get(t))&&void 0!==u?u:l,p="hasValue"===i.state?i.contents:Ki;(null===(c=d)||void 0===c?void 0:c.effect)!==e||(null===(h=d)||void 0===h?void 0:h.value)!==n?r(n,p,!o.atomValues.has(t)):(null===(f=d)||void 0===f?void 0:f.effect)===e&&(d=null)}}),t)};for(const t of null!==(p=e.effects_UNSTABLE)&&void 0!==p?p:[]){var p;const e=t({node:h,trigger:i,setSelf:v(t),resetSelf:y(t),onSet:b(t),getPromise:u,getLoadable:a,getInfo_UNSTABLE:g});var m;null!=e&&c.set(n,[...null!==(m=c.get(n))&&void 0!==m?m:[],e])}r=!1}if(!(f instanceof Gi)){var g;const e=f,i=s(e)?Hi(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&no(e,h,n),n})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&ro(e,h,Wi(n)),n}));return r}(n,e)):$i(e);r.atomValues.set(t,i),null===(g=n.getState().nextTree)||void 0===g||g.atomValues.set(t,i)}return()=>{var e;u--,null===(e=c.get(n))||void 0===e||e.forEach((e=>e())),c.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){i=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Yi(t)&&u<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return h}({...r,default:n})},so=class{constructor(e){var t;u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},ao=Object.freeze({__proto__:null,MapCache:so});const{LRUCache:uo}=di,{MapCache:lo}=ao,co={equality:"reference",eviction:"none",maxSize:1/0};var ho=function({equality:e=co.equality,eviction:t=co.eviction,maxSize:n=co.maxSize}=co){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new lo({mapKey:n});case"lru":return new uo({mapKey:n,maxSize:a(t)});case"most-recent":return new uo({mapKey:n,maxSize:1})}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:fo}=ee;const{setConfigDeletionHandler:po}=ee;let mo=0;var go=function(e){var t,n;const r=ho({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=si(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${mo++}`,s=n=>e.get(t)(n),a=e.cachePolicy_UNSTABLE,u="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let l;if(null!=e.set){const n=e.set;l=qi({key:o,get:s,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else l=qi({key:o,get:s,cachePolicy_UNSTABLE:a,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,l),po(l.key,(()=>{r.delete(t)})),l}};const vo=go({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});const yo=go({key:"__error",get:e=>()=>{throw o(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:bo,loadableWithPromise:wo,loadableWithValue:Eo}=O;function So(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function ko(e){return null!=e&&!s(e)}function _o(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function To(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function Io(e,t,n){return To(e,n.map(((e,n)=>null==e?Eo(t[n]):s(e)?wo(e):bo(e))))}const xo=go({key:"__waitForNone",get:e=>({get:t})=>{const n=_o(e),[r,i]=So(t,n);return Io(e,r,i)},dangerouslyAllowMutability:!0}),Oo=go({key:"__waitForAny",get:e=>({get:t})=>{const n=_o(e),[r,i]=So(t,n);return i.some((e=>!s(e)))?Io(e,r,i):new Promise((t=>{for(const[n,o]of i.entries())s(o)&&o.then((o=>{r[n]=o,i[n]=void 0,t(Io(e,r,i))})).catch((o=>{i[n]=o,t(Io(e,r,i))}))}))},dangerouslyAllowMutability:!0}),Ao=go({key:"__waitForAll",get:e=>({get:t})=>{const n=_o(e),[r,i]=So(t,n);if(i.every((e=>null==e)))return To(e,r);const o=i.find(ko);if(null!=o)throw o;return Promise.all(i).then((t=>{return To(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),No=go({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=_o(e),[r,i]=So(t,n);return i.every((e=>!s(e)))?Io(e,r,i):Promise.all(i.map(((e,t)=>s(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>Io(e,r,i)))},dangerouslyAllowMutability:!0}),Co=go({key:"__noWait",get:e=>({get:t})=>{try{return Eo(t(e))}catch(e){return s(e)?wo(e):bo(e)}},dangerouslyAllowMutability:!0});var Ro={waitForNone:xo,waitForAny:Oo,waitForAll:Ao,waitForAllSettled:No,noWait:Co};const{RecoilLoadable:Do}=O,{DefaultValue:Po}=ee,{RecoilRoot:Lo}=Sn,{isRecoilValue:Mo}=W,{retentionZone:Vo}=Se,{freshSnapshot:Fo}=Ht,{useRecoilState:Uo,useRecoilStateLoadable:jo,useRecoilValue:Bo,useRecoilValueLoadable:zo,useResetRecoilState:qo,useSetRecoilState:Wo,useSetUnvalidatedAtomValues:Ho}=ir,{useGotoRecoilSnapshot:$o,useRecoilSnapshot:Qo,useRecoilTransactionObserver:Ko,useTransactionObservation_DEPRECATED:Go}=Sr,{noWait:Yo,waitForAll:Jo,waitForAllSettled:Xo,waitForAny:Zo,waitForNone:es}=Ro;var ts={DefaultValue:Po,isRecoilValue:Mo,RecoilLoadable:Do,RecoilRoot:Lo,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){const e=Ir().current;return xr((()=>function({children:t}){return r.createElement(Tr,{store_INTERNAL:e},t)}),[e])},atom:oo,selector:qi,atomFamily:function(e){var t,n;const r=ho({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const{cachePolicyForParams_UNSTABLE:o,...s}=e,a=oo({...s,key:`${e.key}__${null!==(n=si(t))&&void 0!==n?n:"void"}`,default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE});return r.set(t,a),fo(a.key,(()=>{r.delete(t)})),a}},selectorFamily:go,constSelector:function(e){return vo(e)},errorSelector:function(e){return yo(e)},readOnlySelector:function(e){return e},noWait:Yo,waitForNone:es,waitForAny:Zo,waitForAll:Jo,waitForAllSettled:Xo,useRecoilValue:Bo,useRecoilValueLoadable:zo,useRecoilState:Uo,useRecoilStateLoadable:jo,useSetRecoilState:Wo,useResetRecoilState:qo,useGetRecoilValueInfo_UNSTABLE:function(){const e=_r();return({key:t})=>kr(e.current,e.current.getState().currentTree,t)},useRecoilRefresher_UNSTABLE:function(e){const t=Xr();return Zr((()=>{var n;const r=t.current,{currentTree:i}=r.getState(),o=Jr(e.key);null===(n=o.clearCache)||void 0===n||n.call(o,r,i)}),[e,t])},useRecoilCallback:function(e,t){const n=qr(),r=Qr();return Kr(((...t)=>{function i(e,t){Wr(n.current,e,t)}function s(e){Wr(n.current,e,zr)}const a=$r(n.current),u=jr(n.current);let l=Yr;return Br((()=>{const n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw o(n);const c=e({set:i,reset:s,snapshot:a,gotoSnapshot:r,transact_UNSTABLE:u});if("function"!=typeof c)throw o(n);l=c(...t)})),l instanceof Gr&&Ur(!1),l}),null!=t?[...t,n]:void 0)},useRecoilTransaction_UNSTABLE:function(e,t){const n=ti();return ni((()=>(...t)=>{ei(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)},useGotoRecoilSnapshot:$o,useRecoilSnapshot:Qo,useRecoilTransactionObserver_UNSTABLE:Ko,useTransactionObservation_UNSTABLE:Go,useSetUnvalidatedAtomValues_UNSTABLE:Ho,snapshot_UNSTABLE:Fo,useRetain:Ln,retentionZone:Vo},ns=ts.DefaultValue,rs=ts.RecoilRoot,is=ts.atom,os=ts.selector,ss=ts.atomFamily,as=ts.selectorFamily,us=ts.useRecoilValue,ls=ts.useRecoilState,cs=ts.useSetRecoilState;function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gs(e,t,n){return t&&ms(e.prototype,t),n&&ms(e,n),e}function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bs,ws={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},Es=r.createContext();function Ss(){return ws}var ks=function(){function e(){ps(this,e),this.usedNamespaces={}}return gs(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function _s(){return bs}var Ts={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ws=ys(ys({},ws),e)}(e.options.react),function(e){bs=e}(e)}};function Is(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var xs={};function Os(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&xs[t[0]]||("string"==typeof t[0]&&(xs[t[0]]=new Date),Is.apply(void 0,t))}function As(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function Ns(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Os("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!s(r,e)||i&&!s(o,e)))}function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,r.useContext)(Es)||{},o=i.i18n,s=i.defaultNS,a=n||o||_s();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new ks),!a){Os("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}a.options.react&&void 0!==a.options.react.wait&&Os("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Rs(Rs(Rs({},Ss()),a.options.react),t),h=c.useSuspense,f=c.keyPrefix,d=e||s||a.options&&a.options.defaultNS;d="string"==typeof d?[d]:d||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(d);var p=(a.isInitialized||a.initializedStoreOnce)&&d.every((function(e){return Ns(e,a,c)}));function m(){return a.getFixedT(null,"fallback"===c.nsMode?d:d[0],f)}var g=(0,r.useState)(m),v=fs(g,2),y=v[0],b=v[1],w=(0,r.useRef)(!0);(0,r.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){w.current&&b(m)}return w.current=!0,p||h||As(a,d,(function(){w.current&&b(m)})),e&&a&&a.on(e,n),t&&a&&a.store.on(t,n),function(){w.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,n)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,n)}))}}),[a,d.join()]);var E=(0,r.useRef)(!0);(0,r.useEffect)((function(){w.current&&!E.current&&b(m),E.current=!1}),[a]);var S=[y,a,p];if(S.t=y,S.i18n=a,S.ready=p,p)return S;if(!p&&!h)return S;throw new Promise((function(e){As(a,d,(function(){e()}))}))}const Ps={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,l=i>>2,c=(3&i)<<4|s>>4;let h=(15&s)<<2|u>>6,f=63&u;a||(f=64,o||(h=64)),r.push(n[l],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const u=i<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ms(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vs(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function Fs(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Us(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function js(){const e=Ms();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}class Bs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(qs,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new Bs(r,s,n)}}const qs=/\{\$([^}]+)}/g;function Ws(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Hs(n)&&Hs(o)){if(!Ws(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Hs(e){return null!==e&&"object"==typeof e}function $s(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Qs(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ks(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Gs{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ys),void 0===r.error&&(r.error=Ys),void 0===r.complete&&(r.complete=Ys);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ys(){}function Js(e){return e&&e._delegate?e._delegate:e}class Xs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class ea{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ls;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Zs?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ta{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ea(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const na=[];var ra,ia;(ia=ra||(ra={}))[ia.DEBUG=0]="DEBUG",ia[ia.VERBOSE=1]="VERBOSE",ia[ia.INFO=2]="INFO",ia[ia.WARN=3]="WARN",ia[ia.ERROR=4]="ERROR",ia[ia.SILENT=5]="SILENT";const oa={debug:ra.DEBUG,verbose:ra.VERBOSE,info:ra.INFO,warn:ra.WARN,error:ra.ERROR,silent:ra.SILENT},sa=ra.INFO,aa={[ra.DEBUG]:"log",[ra.VERBOSE]:"log",[ra.INFO]:"info",[ra.WARN]:"warn",[ra.ERROR]:"error"},ua=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=aa[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class la{constructor(e){this.name=e,this._logLevel=sa,this._logHandler=ua,this._userLogHandler=null,na.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ra))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?oa[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ra.DEBUG,...e),this._logHandler(this,ra.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ra.VERBOSE,...e),this._logHandler(this,ra.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ra.INFO,...e),this._logHandler(this,ra.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ra.WARN,...e),this._logHandler(this,ra.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ra.ERROR,...e),this._logHandler(this,ra.ERROR,...e)}}class ca{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const ha="@firebase/app",fa="0.7.11",da=new la("@firebase/app"),pa={[ha]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ma=new Map,ga=new Map;function va(e,t){try{e.container.addComponent(t)}catch(n){da.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ya(e){const t=e.name;if(ga.has(t))return da.debug(`There were multiple attempts to register component ${t}.`),!1;ga.set(t,e);for(const t of ma.values())va(t,e);return!0}function ba(e,t){return e.container.getProvider(t)}const wa=new zs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ea{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}const Sa="9.6.1";function ka(e="[DEFAULT]"){const t=ma.get(e);if(!t)throw wa.create("no-app",{appName:e});return t}function _a(e,t,n){var r;let i=null!==(r=pa[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void da.warn(e.join(" "))}ya(new Xs(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}ya(new Xs("platform-logger",(e=>new ca(e)),"PRIVATE")),_a(ha,fa,""),_a(ha,fa,"esm2017"),_a("fire-js","");var Ta,Ia="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},xa={},Oa=Oa||{},Aa=Ia||self;function Na(){}function Ca(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ra(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Da="closure_uid_"+(1e9*Math.random()>>>0),Pa=0;function La(e,t,n){return e.call.apply(e.bind,arguments)}function Ma(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Va(e,t,n){return(Va=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?La:Ma).apply(null,arguments)}function Fa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ua(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ja(){this.s=this.s,this.o=this.o}var Ba={};ja.prototype.s=!1,ja.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Da)&&e[Da]||(e[Da]=++Pa)}(this);delete Ba[e]}},ja.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const za=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Wa(e){return Array.prototype.concat.apply([],arguments)}function Ha(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function $a(e){return/^[\s\xa0]*$/.test(e)}var Qa,Ka=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ga(e,t){return-1!=e.indexOf(t)}function Ya(e,t){return e<t?-1:e>t?1:0}e:{var Ja=Aa.navigator;if(Ja){var Xa=Ja.userAgent;if(Xa){Qa=Xa;break e}}Qa=""}function Za(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function eu(e){const t={};for(const n in e)t[n]=e[n];return t}var tu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nu(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<tu.length;t++)n=tu[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ru(e){return ru[" "](e),e}ru[" "]=Na;var iu,ou=Ga(Qa,"Opera"),su=Ga(Qa,"Trident")||Ga(Qa,"MSIE"),au=Ga(Qa,"Edge"),uu=au||su,lu=Ga(Qa,"Gecko")&&!(Ga(Qa.toLowerCase(),"webkit")&&!Ga(Qa,"Edge"))&&!(Ga(Qa,"Trident")||Ga(Qa,"MSIE"))&&!Ga(Qa,"Edge"),cu=Ga(Qa.toLowerCase(),"webkit")&&!Ga(Qa,"Edge");function hu(){var e=Aa.document;return e?e.documentMode:void 0}e:{var fu="",du=function(){var e=Qa;return lu?/rv:([^\);]+)(\)|;)/.exec(e):au?/Edge\/([\d\.]+)/.exec(e):su?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):cu?/WebKit\/(\S+)/.exec(e):ou?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(du&&(fu=du?du[1]:""),su){var pu=hu();if(null!=pu&&pu>parseFloat(fu)){iu=String(pu);break e}}iu=fu}var mu,gu={};function vu(){return function(e){var t=gu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let e=0;const t=Ka(String(iu)).split("."),n=Ka("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=Ya(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Ya(0==i[2].length,0==o[2].length)||Ya(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}()}()}Aa.document&&su?mu=hu()||parseInt(iu,10)||void 0:mu=void 0;var yu=mu,bu=function(){if(!Aa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Aa.addEventListener("test",Na,t),Aa.removeEventListener("test",Na,t)}catch(e){}return e}();function wu(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Eu(e,t){if(wu.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(lu){e:{try{ru(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Su[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Eu.Z.h.call(this)}}wu.prototype.h=function(){this.defaultPrevented=!0},Ua(Eu,wu);var Su={2:"touch",3:"pen",4:"mouse"};Eu.prototype.h=function(){Eu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ku="closure_listenable_"+(1e6*Math.random()|0),_u=0;function Tu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_u,this.ca=this.fa=!1}function Iu(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function xu(e){this.src=e,this.g={},this.h=0}function Ou(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=za(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Iu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Au(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}xu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=Au(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Tu(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Nu="closure_lm_"+(1e6*Math.random()|0),Cu={};function Ru(e,t,n,r,i){if(r&&r.once)return Pu(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ru(e,t[o],n,r,i);return null}return n=Bu(n),e&&e[ku]?e.N(t,n,Ra(r)?!!r.capture:!!r,i):Du(e,t,n,!1,r,i)}function Du(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Ra(i)?!!i.capture:!!i,a=Uu(e);if(a||(e[Nu]=a=new xu(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Fu;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bu||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Pu(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Pu(e,t[o],n,r,i);return null}return n=Bu(n),e&&e[ku]?e.O(t,n,Ra(r)?!!r.capture:!!r,i):Du(e,t,n,!0,r,i)}function Lu(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Lu(e,t[o],n,r,i);else r=Ra(r)?!!r.capture:!!r,n=Bu(n),e&&e[ku]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Au(o=e.g[t],n,r,i))&&(Iu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Uu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Au(t,n,r,i)),(n=-1<e?t[e]:null)&&Mu(n))}function Mu(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ku])Ou(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uu(t))?(Ou(n,e),0==n.h&&(n.src=null,t[Nu]=null)):Iu(e)}}}function Vu(e){return e in Cu?Cu[e]:Cu[e]="on"+e}function Fu(e,t){if(e.ca)e=!0;else{t=new Eu(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Mu(e),e=n.call(r,t)}return e}function Uu(e){return(e=e[Nu])instanceof xu?e:null}var ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bu(e){return"function"==typeof e?e:(e[ju]||(e[ju]=function(t){return e.handleEvent(t)}),e[ju])}function zu(){ja.call(this),this.i=new xu(this),this.P=this,this.I=null}function qu(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new wu(t,e);else if(t instanceof wu)t.target=t.target||e;else{var i=t;nu(t=new wu(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Wu(s,r,!0,t)&&i}if(i=Wu(s=t.g=e,r,!0,t)&&i,i=Wu(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Wu(s=t.g=n[o],r,!1,t)&&i}function Wu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Ou(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ua(zu,ja),zu.prototype[ku]=!0,zu.prototype.removeEventListener=function(e,t,n,r){Lu(this,e,t,n,r)},zu.prototype.M=function(){if(zu.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iu(n[r]);delete t.g[e],t.h--}}this.I=null},zu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},zu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Hu=Aa.JSON.stringify;function $u(){var e=Zu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qu,Ku=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Gu),(e=>e.reset()));class Gu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yu(e){Aa.setTimeout((()=>{throw e}),0)}function Ju(e,t){Qu||function(){var e=Aa.Promise.resolve(void 0);Qu=function(){e.then(el)}}(),Xu||(Qu(),Xu=!0),Zu.add(e,t)}var Xu=!1,Zu=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ku.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function el(){for(var e;e=$u();){try{e.h.call(e.g)}catch(e){Yu(e)}var t=Ku;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xu=!1}function tl(e,t){zu.call(this),this.h=e||1,this.g=t||Aa,this.j=Va(this.kb,this),this.l=Date.now()}function nl(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function rl(e,t,n){if("function"==typeof e)n&&(e=Va(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Va(e.handleEvent,e)}return 2147483647<Number(t)?-1:Aa.setTimeout(e,t||0)}function il(e){e.g=rl((()=>{e.g=null,e.i&&(e.i=!1,il(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ua(tl,zu),(Ta=tl.prototype).da=!1,Ta.S=null,Ta.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qu(this,"tick"),this.da&&(nl(this),this.start()))}},Ta.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ta.M=function(){tl.Z.M.call(this),nl(this),delete this.g};class ol extends ja{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:il(this)}M(){super.M(),this.g&&(Aa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(e){ja.call(this),this.h=e,this.g={}}Ua(sl,ja);var al=[];function ul(e,t,n,r){Array.isArray(n)||(n&&(al[0]=n.toString()),n=al);for(var i=0;i<n.length;i++){var o=Ru(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ll(e){Za(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mu(e)}),e),e.g={}}function cl(){this.g=!0}function hl(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Hu(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}sl.prototype.M=function(){sl.Z.M.call(this),ll(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cl.prototype.Aa=function(){this.g=!1},cl.prototype.info=function(){};var fl={},dl=null;function pl(){return dl=dl||new zu}function ml(e){wu.call(this,fl.Ma,e)}function gl(e){const t=pl();qu(t,new ml(t,e))}function vl(e,t){wu.call(this,fl.STAT_EVENT,e),this.stat=t}function yl(e){const t=pl();qu(t,new vl(t,e))}function bl(e,t){wu.call(this,fl.Na,e),this.size=t}function wl(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Aa.setTimeout((function(){e()}),t)}fl.Ma="serverreachability",Ua(ml,wu),fl.STAT_EVENT="statevent",Ua(vl,wu),fl.Na="timingevent",Ua(bl,wu);var El={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kl(){}function _l(e){return e.h||(e.h=e.i())}function Tl(){}kl.prototype.h=null;var Il,xl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ol(){wu.call(this,"d")}function Al(){wu.call(this,"c")}function Nl(){}function Cl(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new sl(this),this.P=Dl,e=uu?125:void 0,this.W=new tl(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rl}function Rl(){this.i=null,this.g="",this.h=!1}Ua(Ol,wu),Ua(Al,wu),Ua(Nl,kl),Nl.prototype.g=function(){return new XMLHttpRequest},Nl.prototype.i=function(){return{}},Il=new Nl;var Dl=45e3,Pl={},Ll={};function Ml(e,t,n){e.K=1,e.v=oc(Zl(t)),e.s=n,e.U=!0,Vl(e,null)}function Vl(e,t){e.F=Date.now(),Bl(e),e.A=Zl(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Rl,e.g=yh(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ol(Va(e.Ia,e,e.g),e.O)),ul(e.V,e.g,"readystatechange",e.gb),t=e.H?eu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),gl(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+l+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Fl(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ul(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=jl(e,n),r==Ll){4==t&&(e.o=4,yl(14),i=!1),hl(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pl){e.o=4,yl(15),hl(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hl(e.j,e.m,r,null),$l(e,r)}Fl(e)&&r!=Ll&&r!=Pl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yl(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ch(t),t.L=!0,yl(11))):(hl(e.j,e.m,n,"[Invalid Chunked Response]"),Hl(e),Wl(e))}function jl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ll:(n=Number(t.substring(n,r)),isNaN(n)?Pl:(r+=1)+n>t.length?Ll:(t=t.substr(r,n),e.C=r+n,t))}function Bl(e){e.Y=Date.now()+e.P,zl(e,e.P)}function zl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wl(Va(e.eb,e),t)}function ql(e){e.B&&(Aa.clearTimeout(e.B),e.B=null)}function Wl(e){0==e.l.G||e.I||dh(e.l,e)}function Hl(e){ql(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,nl(e.W),ll(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function $l(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_c(n.i,e)))if(n.I=e.N,!e.J&&_c(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fh(n),th(n)}lh(n),yl(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wl(Va(n.ab,n),6e3));if(1>=kc(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else mh(n,11)}else if((e.J||n.g==e)&&fh(n),!$a(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(Ga(e,"spdy")||Ga(e,"quic")||Ga(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Tc(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,ic(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=vh(r,r.H?r.la:null,r.W),s.J){Ic(r.i,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(ql(a),Bl(a)),r.g=s}else uh(r);0<n.l.length&&ih(n)}else"stop"!=l[0]&&"close"!=l[0]||mh(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?mh(n,7):eh(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}gl(4)}catch(e){}}function Ql(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ca(e)||"string"==typeof e)qa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ca(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Ca(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Kl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Kl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Gl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yl(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Yl(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Yl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ta=Cl.prototype).setTimeout=function(e){this.P=e},Ta.gb=function(e){e=e.target;const t=this.L;t&&3==Gc(e)?t.l():this.Ia(e)},Ta.Ia=function(e){try{if(e==this.g)e:{const c=Gc(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||uu||this.g&&(this.h.h||this.g.ga()||Yc(this.g)))){this.I||4!=c||7==t||gl(8==t||0>=h?3:2),ql(this);var n=this.g.ba();this.N=n;t:if(Fl(this)){var r=Yc(this.g);e="";var i=r.length,o=4==Gc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hl(this),Wl(this);var s="";break t}this.h.i=new Aa.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$a(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,yl(12),Hl(this),Wl(this);break e}hl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$l(this,n)}this.U?(Ul(this,c,s),uu&&this.i&&3==c&&(ul(this.V,this.W,"tick",this.fb),this.W.start())):(hl(this.j,this.m,s,null),$l(this,s)),4==c&&Hl(this),this.i&&!this.I&&(4==c?dh(this.l,this):(this.i=!1,Bl(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,yl(12)):(this.o=0,yl(13)),Hl(this),Wl(this)}}}catch(e){}},Ta.fb=function(){if(this.g){var e=Gc(this.g),t=this.g.ga();this.C<t.length&&(ql(this),Ul(this,e,t),this.i&&4!=e&&Bl(this))}},Ta.cancel=function(){this.I=!0,Hl(this)},Ta.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(gl(3),yl(17)),Hl(this),this.o=2,Wl(this)):zl(this,this.Y-e)},(Ta=Kl.prototype).R=function(){Gl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ta.T=function(){return Gl(this),this.g.concat()},Ta.get=function(e,t){return Yl(this.h,e)?this.h[e]:t},Ta.set=function(e,t){Yl(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ta.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Jl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xl(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Xl){this.g=void 0!==t?t:e.g,ec(this,e.j),this.s=e.s,tc(this,e.i),nc(this,e.m),this.l=e.l,t=e.h;var n=new pc;n.i=t.i,t.g&&(n.g=new Kl(t.g),n.h=t.h),rc(this,n),this.o=e.o}else e&&(n=String(e).match(Jl))?(this.g=!!t,ec(this,n[1]||"",!0),this.s=sc(n[2]||""),tc(this,n[3]||"",!0),nc(this,n[4]),this.l=sc(n[5]||"",!0),rc(this,n[6]||"",!0),this.o=sc(n[7]||"")):(this.g=!!t,this.h=new pc(null,this.g))}function Zl(e){return new Xl(e)}function ec(e,t,n){e.j=n?sc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tc(e,t,n){e.i=n?sc(t,!0):t}function nc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rc(e,t,n){t instanceof pc?(e.h=t,function(e,t){t&&!e.j&&(mc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gc(this,t),yc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ac(t,fc)),e.h=new pc(t,e.g))}function ic(e,t,n){e.h.set(t,n)}function oc(e){return ic(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ac(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,uc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ac(t,lc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ac(t,lc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ac(n,"/"==n.charAt(0)?hc:cc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ac(n,dc)),e.join("")};var lc=/[#\/\?@]/g,cc=/[#\?:]/g,hc=/[#\?]/g,fc=/[#\?@]/g,dc=/#/g;function pc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mc(e){e.g||(e.g=new Kl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gc(e,t){mc(e),t=bc(e,t),Yl(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Yl((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Gl(e)))}function vc(e,t){return mc(e),t=bc(e,t),Yl(e.g.h,t)}function yc(e,t,n){gc(e,t),0<n.length&&(e.i=null,e.g.set(bc(e,t),Ha(n)),e.h+=n.length)}function bc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wc(e){this.l=e||Ec,e=Aa.PerformanceNavigationTiming?0<(e=Aa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Aa.g&&Aa.g.Ea&&Aa.g.Ea()&&Aa.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ta=pc.prototype).add=function(e,t){mc(this),this.i=null,e=bc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ta.forEach=function(e,t){mc(this),this.g.forEach((function(n,r){qa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ta.T=function(){mc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ta.R=function(e){mc(this);var t=[];if("string"==typeof e)vc(this,e)&&(t=Wa(t,this.g.get(bc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Wa(t,e[n])}return t},Ta.set=function(e,t){return mc(this),this.i=null,vc(this,e=bc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ta.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ta.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var Ec=10;function Sc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kc(e){return e.h?1:e.g?e.g.size:0}function _c(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tc(e,t){e.g?e.g.add(t):e.h=t}function Ic(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Ha(e.i)}function Oc(){}function Ac(){this.g=new Oc}function Nc(e,t,n){const r=n||"";try{Ql(e,(function(e,n){let i=e;Ra(e)&&(i=Hu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Cc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Rc(e){this.l=e.$b||null,this.j=e.ib||!1}function Dc(e,t){zu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Pc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wc.prototype.cancel=function(){if(this.i=xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Oc.prototype.stringify=function(e){return Aa.JSON.stringify(e,void 0)},Oc.prototype.parse=function(e){return Aa.JSON.parse(e,void 0)},Ua(Rc,kl),Rc.prototype.g=function(){return new Dc(this.l,this.j)},Rc.prototype.i=function(e){return function(){return e}}({}),Ua(Dc,zu);var Pc=0;function Lc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Mc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vc(e)}function Vc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ta=Dc.prototype).open=function(e,t){if(this.readyState!=Pc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vc(this)},Ta.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Aa).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ta.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mc(this)),this.readyState=Pc},Ta.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Aa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ta.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mc(this):Vc(this),3==this.readyState&&Lc(this)}},Ta.Ua=function(e){this.g&&(this.response=this.responseText=e,Mc(this))},Ta.Ta=function(e){this.g&&(this.response=e,Mc(this))},Ta.ha=function(){this.g&&Mc(this)},Ta.setRequestHeader=function(e,t){this.v.append(e,t)},Ta.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ta.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fc=Aa.JSON.parse;function Uc(e){zu.call(this),this.headers=new Kl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jc,this.K=this.L=!1}Ua(Uc,zu);var jc="",Bc=/^https?$/i,zc=["POST","PUT"];function qc(e){return"content-type"==e.toLowerCase()}function Wc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hc(e),Qc(e)}function Hc(e){e.D||(e.D=!0,qu(e,"complete"),qu(e,"error"))}function $c(e){if(e.h&&void 0!==Oa&&(!e.C[1]||4!=Gc(e)||2!=e.ba()))if(e.v&&4==Gc(e))rl(e.Fa,0,e);else if(qu(e,"readystatechange"),4==Gc(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Jl)[1]||null;if(!i&&Aa.self&&Aa.self.location){var o=Aa.self.location.protocol;i=o.substr(0,o.length-1)}r=!Bc.test(i?i.toLowerCase():"")}n=r}if(n)qu(e,"complete"),qu(e,"success");else{e.m=6;try{var s=2<Gc(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Hc(e)}}finally{Qc(e)}}}function Qc(e,t){if(e.g){Kc(e);const n=e.g,r=e.C[0]?Na:null;e.g=null,e.C=null,t||qu(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Kc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Aa.clearTimeout(e.A),e.A=null)}function Gc(e){return e.g?e.g.readyState:0}function Yc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Za(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ic(e,t,n))}function Xc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zc(e){this.za=0,this.l=[],this.h=new cl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xc("baseRetryDelayMs",5e3,e),this.$a=Xc("retryDelaySeedMs",1e4,e),this.Ya=Xc("forwardChannelMaxRetries",2,e),this.ra=Xc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wc(e&&e.concurrentRequestLimit),this.Ca=new Ac,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function eh(e){if(nh(e),3==e.G){var t=e.V++,n=Zl(e.F);ic(n,"SID",e.J),ic(n,"RID",t),ic(n,"TYPE","terminate"),sh(e,n),(t=new Cl(e,e.h,t,void 0)).K=2,t.v=oc(Zl(n)),n=!1,Aa.navigator&&Aa.navigator.sendBeacon&&(n=Aa.navigator.sendBeacon(t.v.toString(),"")),!n&&Aa.Image&&((new Image).src=t.v,n=!0),n||(t.g=yh(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Bl(t)}gh(e)}function th(e){e.g&&(ch(e),e.g.cancel(),e.g=null)}function nh(e){th(e),e.u&&(Aa.clearTimeout(e.u),e.u=null),fh(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Aa.clearTimeout(e.m),e.m=null)}function rh(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&ih(e)}function ih(e){Sc(e.i)||e.m||(e.m=!0,Ju(e.Ha,e),e.C=0)}function oh(e,t){var n;n=t?t.m:e.V++;const r=Zl(e.F);ic(r,"SID",e.J),ic(r,"RID",n),ic(r,"AID",e.U),sh(e,r),e.o&&e.s&&Jc(r,e.o,e.s),n=new Cl(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ah(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Tc(e.i,n),Ml(n,r,t)}function sh(e,t){e.j&&Ql({},(function(e,n){ic(t,n,e)}))}function ah(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Va(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{Nc(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function uh(e){e.g||e.u||(e.Y=1,Ju(e.Ga,e),e.A=0)}function lh(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=wl(Va(e.Ga,e),ph(e,e.A)),e.A++,0))}function ch(e){null!=e.B&&(Aa.clearTimeout(e.B),e.B=null)}function hh(e){e.g=new Cl(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zl(e.oa);ic(t,"RID","rpc"),ic(t,"SID",e.J),ic(t,"CI",e.N?"0":"1"),ic(t,"AID",e.U),sh(e,t),ic(t,"TYPE","xmlhttp"),e.o&&e.s&&Jc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=oc(Zl(t)),n.s=null,n.U=!0,Vl(n,e)}function fh(e){null!=e.v&&(Aa.clearTimeout(e.v),e.v=null)}function dh(e,t){var n=null;if(e.g==t){fh(e),ch(e),e.g=null;var r=2}else{if(!_c(e.i,t))return;n=t.D,Ic(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qu(r=pl(),new bl(r,n,t,i)),ih(e)}else uh(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(kc(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=wl(Va(e.Ha,e,t),ph(e,e.C)),e.C++,0)))}(e,t)||2==r&&lh(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mh(e,5);break;case 4:mh(e,10);break;case 3:mh(e,6);break;default:mh(e,2)}}function ph(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mh(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Va(e.jb,e);n||(n=new Xl("//www.google.com/images/cleardot.gif"),Aa.location&&"http"==Aa.location.protocol||ec(n,"https"),oc(n)),function(e,t){const n=new cl;if(Aa.Image){const r=new Image;r.onload=Fa(Cc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fa(Cc,n,r,"TestLoadImage: error",!1,t),r.onabort=Fa(Cc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fa(Cc,n,r,"TestLoadImage: timeout",!1,t),Aa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else yl(2);e.G=0,e.j&&e.j.va(t),gh(e),nh(e)}function gh(e){e.G=0,e.I=-1,e.j&&(0==xc(e.i).length&&0==e.l.length||(e.i.i.length=0,Ha(e.l),e.l.length=0),e.j.ua())}function vh(e,t,n){let r=function(e){return e instanceof Xl?Zl(e):new Xl(e,void 0)}(n);if(""!=r.i)t&&tc(r,t+"."+r.i),nc(r,r.m);else{const e=Aa.location;r=function(e,t,n,r){var i=new Xl(null,void 0);return e&&ec(i,e),t&&tc(i,t),n&&nc(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Za(e.aa,(function(e,t){ic(r,t,e)})),t=e.D,n=e.sa,t&&n&&ic(r,t,n),ic(r,"VER",e.ma),sh(e,r),r}function yh(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Uc(new Rc({ib:!0})):new Uc(e.qa)).L=e.H,t}function bh(){}function wh(){if(su&&!(10<=Number(yu)))throw Error("Environmental error: no available transport.")}function Eh(e,t){zu.call(this),this.g=new Zc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$a(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$a(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _h(this)}function Sh(e){Ol.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function kh(){Al.call(this),this.status=1}function _h(e){this.g=e}(Ta=Uc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Il.g(),this.C=this.u?_l(this.u):_l(Il),this.g.onreadystatechange=Va(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Wc(this,e)}e=n||"";const i=new Kl(this.headers);r&&Ql(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=qc;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Aa.FormData&&e instanceof Aa.FormData,!(0<=za(zc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kc(this),0<this.B&&((this.K=function(e){return su&&vu()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Va(this.pa,this)):this.A=rl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Wc(this,e)}},Ta.pa=function(){void 0!==Oa&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qu(this,"timeout"),this.abort(8))},Ta.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qu(this,"complete"),qu(this,"abort"),Qc(this))},Ta.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qc(this,!0)),Uc.Z.M.call(this)},Ta.Fa=function(){this.s||(this.F||this.v||this.l?$c(this):this.cb())},Ta.cb=function(){$c(this)},Ta.ba=function(){try{return 2<Gc(this)?this.g.status:-1}catch(e){return-1}},Ta.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Ta.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fc(t)}},Ta.Da=function(){return this.m},Ta.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ta=Zc.prototype).ma=8,Ta.G=1,Ta.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},Ta.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Cl(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=eu(o),nu(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ah(this,i,t),ic(n=Zl(this.F),"RID",e),ic(n,"CVER",22),this.D&&ic(n,"X-HTTP-Session-Id",this.D),sh(this,n),this.o&&o&&Jc(n,this.o,o),Tc(this.i,i),this.Ra&&ic(n,"TYPE","init"),this.ja?(ic(n,"$req",t),ic(n,"SID","null"),i.$=!0,Ml(i,n,null)):Ml(i,n,t),this.G=2}}else 3==this.G&&(e?oh(this,e):0==this.l.length||Sc(this.i)||oh(this))},Ta.Ga=function(){if(this.u=null,hh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wl(Va(this.bb,this),e)}},Ta.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yl(10),th(this),hh(this))},Ta.ab=function(){null!=this.v&&(this.v=null,th(this),lh(this),yl(19))},Ta.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yl(2)):(this.h.info("Failed to ping google.com"),yl(1))},(Ta=bh.prototype).xa=function(){},Ta.wa=function(){},Ta.va=function(){},Ta.ua=function(){},Ta.Oa=function(){},wh.prototype.g=function(e,t){return new Eh(e,t)},Ua(Eh,zu),Eh.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ju(Va(e.hb,e,t))),yl(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=vh(e,null,e.W),ih(e)},Eh.prototype.close=function(){eh(this.g)},Eh.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,rh(this.g,t)}else this.v?((t={}).__data__=Hu(e),rh(this.g,t)):rh(this.g,e)},Eh.prototype.M=function(){this.g.j=null,delete this.j,eh(this.g),delete this.g,Eh.Z.M.call(this)},Ua(Sh,Ol),Ua(kh,Al),Ua(_h,bh),_h.prototype.xa=function(){qu(this.g,"a")},_h.prototype.wa=function(e){qu(this.g,new Sh(e))},_h.prototype.va=function(e){qu(this.g,new kh(e))},_h.prototype.ua=function(){qu(this.g,"b")},wh.prototype.createWebChannel=wh.prototype.g,Eh.prototype.send=Eh.prototype.u,Eh.prototype.open=Eh.prototype.m,Eh.prototype.close=Eh.prototype.close,El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Sl.COMPLETE="complete",Tl.EventType=xl,xl.OPEN="a",xl.CLOSE="b",xl.ERROR="c",xl.MESSAGE="d",zu.prototype.listen=zu.prototype.N,Uc.prototype.listenOnce=Uc.prototype.O,Uc.prototype.getLastError=Uc.prototype.La,Uc.prototype.getLastErrorCode=Uc.prototype.Da,Uc.prototype.getStatus=Uc.prototype.ba,Uc.prototype.getResponseJson=Uc.prototype.Qa,Uc.prototype.getResponseText=Uc.prototype.ga,Uc.prototype.send=Uc.prototype.ea;var Th=xa.createWebChannelTransport=function(){return new wh},Ih=xa.getStatEventTarget=function(){return pl()},xh=xa.ErrorCode=El,Oh=xa.EventType=Sl,Ah=xa.Event=fl,Nh=xa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ch=xa.FetchXmlHttpFactory=Rc,Rh=xa.WebChannel=Tl,Dh=xa.XhrIo=Uc;const Ph="@firebase/firestore";class Lh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lh.UNAUTHENTICATED=new Lh(null),Lh.GOOGLE_CREDENTIALS=new Lh("google-credentials-uid"),Lh.FIRST_PARTY=new Lh("first-party-uid"),Lh.MOCK_USER=new Lh("mock-user");let Mh="9.6.1";const Vh=new la("@firebase/firestore");function Fh(){return Vh.logLevel}function Uh(e,...t){if(Vh.logLevel<=ra.DEBUG){const n=t.map(zh);Vh.debug(`Firestore (${Mh}): ${e}`,...n)}}function jh(e,...t){if(Vh.logLevel<=ra.ERROR){const n=t.map(zh);Vh.error(`Firestore (${Mh}): ${e}`,...n)}}function Bh(e,...t){if(Vh.logLevel<=ra.WARN){const n=t.map(zh);Vh.warn(`Firestore (${Mh}): ${e}`,...n)}}function zh(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qh(e="Unexpected state"){const t=`FIRESTORE (${Mh}) INTERNAL ASSERTION FAILED: `+e;throw jh(t),new Error(t)}function Wh(e,t){e||qh()}function Hh(e,t){return e}const $h={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qh extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kh{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Gh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Lh.UNAUTHENTICATED)))}shutdown(){}}class Jh{constructor(e){this.t=e,this.currentUser=Lh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Kh;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kh,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Uh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Uh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kh)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Uh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wh("string"==typeof t.accessToken),new Gh(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wh(null===e||"string"==typeof e),new Lh(e)}}class Xh{constructor(e,t,n){this.type="FirstParty",this.user=Lh.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Zh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Xh(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Lh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ef{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tf{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Uh("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Uh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Uh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Wh("string"==typeof e.token),new ef(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function rf(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}nf.I=-1;class of{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=rf(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function sf(e,t){return e<t?-1:e>t?1:0}function af(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class uf{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qh($h.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qh($h.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qh($h.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qh($h.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return uf.fromMillis(Date.now())}static fromDate(e){return uf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new uf(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sf(this.nanoseconds,e.nanoseconds):sf(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lf{constructor(e){this.timestamp=e}static fromTimestamp(e){return new lf(e)}static min(){return new lf(new uf(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hf(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ff(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class df{constructor(e,t,n){void 0===t?t=0:t>e.length&&qh(),void 0===n?n=e.length-t:n>e.length-t&&qh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===df.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof df?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pf extends df{construct(e,t,n){return new pf(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Qh($h.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new pf(t)}static emptyPath(){return new pf([])}}const mf=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gf extends df{construct(e,t,n){return new gf(e,t,n)}static isValidIdentifier(e){return mf.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gf.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gf(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qh($h.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qh($h.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qh($h.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Qh($h.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gf(t)}static emptyPath(){return new gf([])}}class vf{constructor(e){this.fields=e,e.sort(gf.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class yf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yf(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sf(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yf.EMPTY_BYTE_STRING=new yf("");const bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wf(e){if(Wh(!!e),"string"==typeof e){let t=0;const n=bf.exec(e);if(Wh(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ef(e.seconds),nanos:Ef(e.nanos)}}function Ef(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sf(e){return"string"==typeof e?yf.fromBase64String(e):yf.fromUint8Array(e)}function kf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _f(e){const t=e.mapValue.fields.__previous_value__;return kf(t)?_f(t):t}function Tf(e){const t=wf(e.mapValue.fields.__local_write_time__.timestampValue);return new uf(t.seconds,t.nanos)}function If(e){return null==e}function xf(e){return 0===e&&1/e==-1/0}class Of{constructor(e){this.path=e}static fromPath(e){return new Of(pf.fromString(e))}static fromName(e){return new Of(pf.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===pf.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pf.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Of(new pf(e.slice()))}}function Af(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kf(e)?4:10:qh()}function Nf(e,t){const n=Af(e);if(n!==Af(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tf(e).isEqual(Tf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=wf(e.timestampValue),r=wf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sf(e.bytesValue).isEqual(Sf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ef(e.geoPointValue.latitude)===Ef(t.geoPointValue.latitude)&&Ef(e.geoPointValue.longitude)===Ef(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ef(e.integerValue)===Ef(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ef(e.doubleValue),r=Ef(t.doubleValue);return n===r?xf(n)===xf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return af(e.arrayValue.values||[],t.arrayValue.values||[],Nf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(cf(n)!==cf(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Nf(n[e],r[e])))return!1;return!0}(e,t);default:return qh()}}function Cf(e,t){return void 0!==(e.values||[]).find((e=>Nf(e,t)))}function Rf(e,t){const n=Af(e),r=Af(t);if(n!==r)return sf(n,r);switch(n){case 0:return 0;case 1:return sf(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ef(e.integerValue||e.doubleValue),r=Ef(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Df(e.timestampValue,t.timestampValue);case 4:return Df(Tf(e),Tf(t));case 5:return sf(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sf(e),r=Sf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=sf(n[e],r[e]);if(0!==t)return t}return sf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sf(Ef(e.latitude),Ef(t.latitude));return 0!==n?n:sf(Ef(e.longitude),Ef(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Rf(n[e],r[e]);if(t)return t}return sf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=sf(r[e],o[e]);if(0!==t)return t;const s=Rf(n[r[e]],i[o[e]]);if(0!==s)return s}return sf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw qh()}}function Df(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sf(e,t);const n=wf(e),r=wf(t),i=sf(n.seconds,r.seconds);return 0!==i?i:sf(n.nanos,r.nanos)}function Pf(e){return Lf(e)}function Lf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=wf(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Of.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Lf(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Lf(e.fields[i])}`;return n+"}"}(e.mapValue):qh();var t,n}function Mf(e){return!!e&&"integerValue"in e}function Vf(e){return!!e&&"arrayValue"in e}function Ff(e){return!!e&&"nullValue"in e}function Uf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jf(e){return!!e&&"mapValue"in e}function Bf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hf(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Bf(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Bf(e.arrayValue.values[n]);return t}return Object.assign({},e)}class zf{constructor(e){this.value=e}static empty(){return new zf({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(t)}setAll(e){let t=gf.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Bf(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hf(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new zf(Bf(this.value))}}function qf(e){const t=[];return hf(e.fields,((e,n)=>{const r=new gf([e]);if(jf(n)){const e=qf(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new vf(t)}class Wf{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Wf(e,0,lf.min(),zf.empty(),0)}static newFoundDocument(e,t,n){return new Wf(e,1,t,n,0)}static newNoDocument(e,t){return new Wf(e,2,t,zf.empty(),0)}static newUnknownDocument(e,t){return new Wf(e,3,t,zf.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zf.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wf&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Wf(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hf{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function $f(e,t=null,n=[],r=[],i=null,o=null,s=null){return new Hf(e,t,n,r,i,o,s)}function Qf(e){const t=Hh(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Pf(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),If(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=sd(t.startAt)),t.endAt&&(e+="|ub:",e+=sd(t.endAt)),t.R=e}return t.R}function Kf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ud(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Nf(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cd(e.startAt,t.startAt)&&cd(e.endAt,t.endAt)}function Gf(e){return Of.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Yf extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Jf(e,t,n):"array-contains"===t?new td(e,n):"in"===t?new nd(e,n):"not-in"===t?new rd(e,n):"array-contains-any"===t?new id(e,n):new Yf(e,t,n)}static P(e,t,n){return"in"===t?new Xf(e,n):new Zf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Rf(t,this.value)):null!==t&&Af(this.value)===Af(t)&&this.v(Rf(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qh()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jf extends Yf{constructor(e,t,n){super(e,t,n),this.key=Of.fromName(n.referenceValue)}matches(e){const t=Of.comparator(e.key,this.key);return this.v(t)}}class Xf extends Yf{constructor(e,t){super(e,"in",t),this.keys=ed(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zf extends Yf{constructor(e,t){super(e,"not-in",t),this.keys=ed(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ed(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Of.fromName(e.referenceValue)))}class td extends Yf{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vf(t)&&Cf(t.arrayValue,this.value)}}class nd extends Yf{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cf(this.value.arrayValue,t)}}class rd extends Yf{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cf(this.value.arrayValue,t)}}class id extends Yf{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cf(this.value.arrayValue,e)))}}class od{constructor(e,t){this.position=e,this.before=t}}function sd(e){return`${e.before?"b":"a"}:${e.position.map((e=>Pf(e))).join(",")}`}class ad{constructor(e,t="asc"){this.field=e,this.dir=t}}function ud(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ld(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Of.comparator(Of.fromName(s.referenceValue),n.key):Rf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function cd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nf(e.position[n],t.position[n]))return!1;return!0}class hd{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function fd(e){return new hd(e)}function dd(e){return!If(e.limit)&&"F"===e.limitType}function pd(e){return!If(e.limit)&&"L"===e.limitType}function md(e){const t=Hh(e);if(null===t.S){t.S=[];const e=function(e){for(const t of e.filters)if(t.V())return t.field;return null}(t),n=function(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new ad(e)),t.S.push(new ad(gf.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ad(gf.keyField(),e))}}}return t.S}function gd(e){const t=Hh(e);if(!t.D)if("F"===t.limitType)t.D=$f(t.path,t.collectionGroup,md(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of md(t)){const t="desc"===n.dir?"asc":"desc";e.push(new ad(n.field,t))}const n=t.endAt?new od(t.endAt.position,!t.endAt.before):null,r=t.startAt?new od(t.startAt.position,!t.startAt.before):null;t.D=$f(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function vd(e,t){return Kf(gd(e),gd(t))&&e.limitType===t.limitType}function yd(e){return`${Qf(gd(e))}|lt:${e.limitType}`}function bd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Pf(t.value)}`;var t})).join(", ")}]`),If(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+sd(e.startAt)),e.endAt&&(t+=", endAt: "+sd(e.endAt)),`Target(${t})`}(gd(e))}; limitType=${e.limitType})`}function wd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Of.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ld(e.startAt,md(e),t)||e.endAt&&ld(e.endAt,md(e),t))}(e,t)}function Ed(e){return(t,n)=>{let r=!1;for(const i of md(e)){const e=Sd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Sd(e,t,n){const r=e.field.isKeyField()?Of.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rf(r,i):qh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qh()}}function kd(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(t)?"-0":t}}function _d(e){return{integerValue:""+e}}function Td(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!xf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?_d(t):kd(e,t)}class Id{constructor(){this._=void 0}}function xd(e,t,n){return e instanceof Nd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cd?Rd(e,t):e instanceof Dd?Pd(e,t):function(e,t){const n=Ad(e,t),r=Md(n)+Md(e.N);return Mf(n)&&Mf(e.N)?_d(r):kd(e.k,r)}(e,t)}function Od(e,t,n){return e instanceof Cd?Rd(e,t):e instanceof Dd?Pd(e,t):n}function Ad(e,t){return e instanceof Ld?Mf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Nd extends Id{}class Cd extends Id{constructor(e){super(),this.elements=e}}function Rd(e,t){const n=Vd(t);for(const t of e.elements)n.some((e=>Nf(e,t)))||n.push(t);return{arrayValue:{values:n}}}class Dd extends Id{constructor(e){super(),this.elements=e}}function Pd(e,t){let n=Vd(t);for(const t of e.elements)n=n.filter((e=>!Nf(e,t)));return{arrayValue:{values:n}}}class Ld extends Id{constructor(e,t){super(),this.k=e,this.N=t}}function Md(e){return Ef(e.integerValue||e.doubleValue)}function Vd(e){return Vf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Fd{constructor(e,t){this.version=e,this.transformResults=t}}class Ud{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ud}static exists(e){return new Ud(void 0,e)}static updateTime(e){return new Ud(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bd{}function zd(e,t,n){e instanceof Qd?function(e,t,n){const r=e.value.clone(),i=Yd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kd?function(e,t,n){if(!jd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Yd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qd(e,t,n){e instanceof Qd?function(e,t,n){if(!jd(e.precondition,t))return;const r=e.value.clone(),i=Jd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument($d(t),r).setHasLocalMutations()}(e,t,n):e instanceof Kd?function(e,t,n){if(!jd(e.precondition,t))return;const r=Jd(e.fieldTransforms,n,t),i=t.data;i.setAll(Gd(e)),i.setAll(r),t.convertToFoundDocument($d(t),i).setHasLocalMutations()}(e,t,n):function(e,t){jd(e.precondition,t)&&t.convertToNoDocument(lf.min())}(e,t)}function Wd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ad(r.transform,e||null);null!=i&&(null==n&&(n=zf.empty()),n.set(r.field,i))}return n||null}function Hd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&af(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cd&&t instanceof Cd||e instanceof Dd&&t instanceof Dd?af(e.elements,t.elements,Nf):e instanceof Ld&&t instanceof Ld?Nf(e.N,t.N):e instanceof Nd&&t instanceof Nd}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function $d(e){return e.isFoundDocument()?e.version:lf.min()}class Qd extends Bd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Kd extends Bd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Gd(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Yd(e,t,n){const r=new Map;Wh(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Od(s,a,n[i]))}return r}function Jd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,xd(e,o,t))}return r}class Xd extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Zd extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ep{constructor(e){this.count=e}}var tp,np;function rp(e){if(void 0===e)return jh("GRPC error has no .code"),$h.UNKNOWN;switch(e){case tp.OK:return $h.OK;case tp.CANCELLED:return $h.CANCELLED;case tp.UNKNOWN:return $h.UNKNOWN;case tp.DEADLINE_EXCEEDED:return $h.DEADLINE_EXCEEDED;case tp.RESOURCE_EXHAUSTED:return $h.RESOURCE_EXHAUSTED;case tp.INTERNAL:return $h.INTERNAL;case tp.UNAVAILABLE:return $h.UNAVAILABLE;case tp.UNAUTHENTICATED:return $h.UNAUTHENTICATED;case tp.INVALID_ARGUMENT:return $h.INVALID_ARGUMENT;case tp.NOT_FOUND:return $h.NOT_FOUND;case tp.ALREADY_EXISTS:return $h.ALREADY_EXISTS;case tp.PERMISSION_DENIED:return $h.PERMISSION_DENIED;case tp.FAILED_PRECONDITION:return $h.FAILED_PRECONDITION;case tp.ABORTED:return $h.ABORTED;case tp.OUT_OF_RANGE:return $h.OUT_OF_RANGE;case tp.UNIMPLEMENTED:return $h.UNIMPLEMENTED;case tp.DATA_LOSS:return $h.DATA_LOSS;default:return qh()}}(np=tp||(tp={}))[np.OK=0]="OK",np[np.CANCELLED=1]="CANCELLED",np[np.UNKNOWN=2]="UNKNOWN",np[np.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",np[np.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",np[np.NOT_FOUND=5]="NOT_FOUND",np[np.ALREADY_EXISTS=6]="ALREADY_EXISTS",np[np.PERMISSION_DENIED=7]="PERMISSION_DENIED",np[np.UNAUTHENTICATED=16]="UNAUTHENTICATED",np[np.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",np[np.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",np[np.ABORTED=10]="ABORTED",np[np.OUT_OF_RANGE=11]="OUT_OF_RANGE",np[np.UNIMPLEMENTED=12]="UNIMPLEMENTED",np[np.INTERNAL=13]="INTERNAL",np[np.UNAVAILABLE=14]="UNAVAILABLE",np[np.DATA_LOSS=15]="DATA_LOSS";class ip{constructor(e,t){this.comparator=e,this.root=t||sp.EMPTY}insert(e,t){return new ip(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sp.BLACK,null,null))}remove(e){return new ip(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new op(this.root,e,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new op(this.root,e,this.comparator,!0)}}class op{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sp{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sp.RED,this.left=null!=r?r:sp.EMPTY,this.right=null!=i?i:sp.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sp(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sp.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sp.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sp.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sp.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qh();if(this.right.isRed())throw qh();const e=this.left.check();if(e!==this.right.check())throw qh();return e+(this.isRed()?0:1)}}sp.EMPTY=null,sp.RED=!0,sp.BLACK=!1,sp.EMPTY=new class{constructor(){this.size=0}get key(){throw qh()}get value(){throw qh()}get color(){throw qh()}get left(){throw qh()}get right(){throw qh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new sp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ap{constructor(e){this.comparator=e,this.data=new ip(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new up(this.data.getIterator())}getIteratorFrom(e){return new up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ap))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ap(this.comparator);return t.data=e,t}}class up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const lp=new ip(Of.comparator);function cp(){return lp}const hp=new ip(Of.comparator);function fp(){return hp}const dp=new ip(Of.comparator);const pp=new ap(Of.comparator);function mp(...e){let t=pp;for(const n of e)t=t.add(n);return t}const gp=new ap(sf);function vp(){return gp}class yp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,bp.createSynthesizedTargetChangeForCurrentChange(e,t)),new yp(lf.min(),n,vp(),cp(),mp())}}class bp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new bp(yf.EMPTY_BYTE_STRING,t,mp(),mp(),mp())}}class wp{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class Ep{constructor(e,t){this.targetId=e,this.O=t}}class Sp{constructor(e,t,n=yf.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class kp{constructor(){this.M=0,this.L=Ip(),this.B=yf.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=mp(),t=mp(),n=mp();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qh()}})),new bp(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Ip()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class _p{constructor(e){this.et=e,this.nt=new Map,this.st=cp(),this.it=Tp(),this.rt=new ap(sf)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:qh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(Gf(e))if(0===n){const n=new Of(e.path);this.ct(t,n,Wf.newNoDocument(n,lf.min()))}else Wh(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Gf(i.target)){const t=new Of(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,Wf.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=mp();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new yp(e,t,this.rt,this.st,n);return this.st=cp(),this.it=Tp(),this.rt=new ap(sf),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new kp,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new ap(sf),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Uh("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new kp),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Tp(){return new ip(Of.comparator)}function Ip(){return new ip(Of.comparator)}const xp={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ap{constructor(e,t){this.databaseId=e,this.C=t}}function Np(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cp(e,t){return e.C?t.toBase64():t.toUint8Array()}function Rp(e,t){return Np(e,t.toTimestamp())}function Dp(e){return Wh(!!e),lf.fromTimestamp(function(e){const t=wf(e);return new uf(t.seconds,t.nanos)}(e))}function Pp(e,t){return function(e){return new pf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lp(e){const t=pf.fromString(e);return Wh(tm(t)),t}function Mp(e,t){return Pp(e.databaseId,t.path)}function Vp(e,t){const n=Lp(t);if(n.get(1)!==e.databaseId.projectId)throw new Qh($h.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qh($h.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Of(jp(n))}function Fp(e,t){return Pp(e.databaseId,t)}function Up(e){return new pf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jp(e){return Wh(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bp(e,t,n){return{name:Mp(e,t),fields:n.value.mapValue.fields}}function zp(e,t){return{documents:[Fp(e,t.path)]}}function qp(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Fp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Uf(e.value))return{unaryFilter:{field:Yp(e.field),op:"IS_NAN"}};if(Ff(e.value))return{unaryFilter:{field:Yp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uf(e.value))return{unaryFilter:{field:Yp(e.field),op:"IS_NOT_NAN"}};if(Ff(e.value))return{unaryFilter:{field:Yp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yp(e.field),op:Gp(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Yp(e.field),direction:Kp(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.C||If(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=$p(t.startAt)),t.endAt&&(n.structuredQuery.endAt=$p(t.endAt)),n}function Wp(e){let t=function(e){const t=Lp(e);return 4===t.length?pf.emptyPath():jp(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wh(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=Hp(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new ad(Jp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,If(t)?null:t}(n.limit));let u=null;n.startAt&&(u=Qp(n.startAt));let l=null;return n.endAt&&(l=Qp(n.endAt)),function(e,t,n,r,i,o,s,a){return new hd(e,t,n,r,i,o,s,a)}(t,i,s,o,a,"F",u,l)}function Hp(e){return e?void 0!==e.unaryFilter?[Zp(e)]:void 0!==e.fieldFilter?[Xp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Hp(e))).reduce(((e,t)=>e.concat(t))):qh():[]}function $p(e){return{before:e.before,values:e.position}}function Qp(e){const t=!!e.before,n=e.values||[];return new od(n,t)}function Kp(e){return xp[e]}function Gp(e){return Op[e]}function Yp(e){return{fieldPath:e.canonicalString()}}function Jp(e){return gf.fromServerFormat(e.fieldPath)}function Xp(e){return Yf.create(Jp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qh()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zp(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Jp(e.unaryFilter.field);return Yf.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Jp(e.unaryFilter.field);return Yf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Jp(e.unaryFilter.field);return Yf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Jp(e.unaryFilter.field);return Yf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qh()}}function em(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function tm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function nm(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=im(t)),t=rm(e.get(n),t);return im(t)}function rm(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function im(e){return e+""}class om{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}om.store="owner",om.key="owner";class sm{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}sm.store="mutationQueues",sm.keyPath="userId";class am{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}am.store="mutations",am.keyPath="batchId",am.userMutationsIndex="userMutationsIndex",am.userMutationsKeyPath=["userId","batchId"];class um{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,nm(t)]}static key(e,t,n){return[e,nm(t),n]}}um.store="documentMutations",um.PLACEHOLDER=new um;class lm{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}lm.store="remoteDocuments",lm.readTimeIndex="readTimeIndex",lm.readTimeIndexPath="readTime",lm.collectionReadTimeIndex="collectionReadTimeIndex",lm.collectionReadTimeIndexPath=["parentPath","readTime"];class cm{constructor(e){this.byteSize=e}}cm.store="remoteDocumentGlobal",cm.key="remoteDocumentGlobalKey";class hm{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}hm.store="targets",hm.keyPath="targetId",hm.queryTargetsIndexName="queryTargetsIndex",hm.queryTargetsKeyPath=["canonicalId","targetId"];class fm{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}fm.store="targetDocuments",fm.keyPath=["targetId","path"],fm.documentTargetsIndex="documentTargetsIndex",fm.documentTargetsKeyPath=["path","targetId"];class dm{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}dm.key="targetGlobalKey",dm.store="targetGlobal";class pm{constructor(e,t){this.collectionId=e,this.parent=t}}pm.store="collectionParents",pm.keyPath=["collectionId","parent"];class mm{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}mm.store="clientMetadata",mm.keyPath="clientId";class gm{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}gm.store="bundles",gm.keyPath="bundleId";class vm{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}vm.store="namedQueries",vm.keyPath="name",sm.store,am.store,um.store,lm.store,hm.store,om.store,dm.store,fm.store,mm.store,cm.store,pm.store,gm.store,vm.store;class ym{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ym(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ym?t:ym.resolve(t)}catch(e){return ym.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ym.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ym.reject(t)}static resolve(e){return new ym(((t,n)=>{t(e)}))}static reject(e){return new ym(((t,n)=>{n(e)}))}static waitFor(e){return new ym(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=ym.resolve(!1);for(const n of e)t=t.next((e=>e?ym.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}function bm(e){return"IndexedDbTransactionError"===e.name}class wm{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&zd(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&qd(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&qd(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(lf.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),mp())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,((e,t)=>Hd(e,t)))&&af(this.baseMutations,e.baseMutations,((e,t)=>Hd(e,t)))}}class Em{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wh(e.mutations.length===n.length);let r=dp;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Em(e,t,n,r)}}class Sm{constructor(e,t,n,r,i=lf.min(),o=lf.min(),s=yf.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new Sm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class km{constructor(e){this.Gt=e}}function _m(e){const t=Wp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?function(e,t,n){return new hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}(t,t.limit,"L"):t}class Tm{constructor(){this.zt=new Im}addToCollectionParentIndex(e,t){return this.zt.add(t),ym.resolve()}getCollectionParents(e,t){return ym.resolve(this.zt.getEntries(t))}}class Im{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ap(pf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ap(pf.comparator)).toArray()}}class xm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new xm(e,xm.DEFAULT_COLLECTION_PERCENTILE,xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xm.DEFAULT_COLLECTION_PERCENTILE=10,xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xm.DEFAULT=new xm(41943040,xm.DEFAULT_COLLECTION_PERCENTILE,xm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xm.DISABLED=new xm(-1,0,0);class Om{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Om(0)}static re(){return new Om(-1)}}async function Am(e){if(e.code!==$h.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Uh("LocalStore","Unexpectedly lost primary lease")}class Nm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){hf(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ff(this.inner)}}class Cm{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Of.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new Of(t)).next((e=>{let t=fp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=fp();return this.Jt.getCollectionParents(e,r).next((o=>ym.forEach(o,(o=>{const s=function(e,t){return new hd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Cn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Wf.newInvalidDocument(n),r=r.insert(n,i)),qd(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{wd(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=mp();for(const e of t)for(const t of e.mutations)t instanceof Kd&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Rm{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=mp(),r=mp();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Rm(e,t.fromCache,n,r)}}class Dm{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(lf.min())?this.Mn(e,t):this.On.vn(e,r).next((i=>{const o=this.Ln(t,i);return(dd(t)||pd(t))&&this.Bn(t.limitType,o,r,n)?this.Mn(e,t):(Fh()<=ra.DEBUG&&Uh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bd(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new ap(Ed(e));return t.forEach(((t,r)=>{wd(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return Fh()<=ra.DEBUG&&Uh("QueryEngine","Using full collection scan to execute query:",bd(t)),this.On.getDocumentsMatchingQuery(e,t,lf.min())}}class Pm{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new ip(sf),this.Kn=new Nm((e=>Qf(e)),Kf),this.jn=lf.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Cm(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}async function Lm(e,t){const n=Hh(e);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.An.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new Cm(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=mp();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.vn(e,s).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),o}function Mm(e){const t=Hh(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function Vm(e,t){const n=Hh(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}async function Fm(e,t,n){const r=Hh(e),i=r.qn.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!bm(e))throw e;Uh("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Um(e,t,n){const r=Hh(e);let i=lf.min(),o=mp();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Hh(e),i=r.Kn.get(n);return void 0!==i?ym.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,gd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:lf.min(),n?o:mp()))).next((e=>({documents:e,zn:o})))))}class jm{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return ym.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Dp(n.createTime)}),ym.resolve()}getNamedQuery(e,t){return ym.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:_m(e.bundledQuery),readTime:Dp(e.readTime)}}(t)),ym.resolve()}}class Bm{constructor(){this.ts=new ap(zm.es),this.ns=new ap(zm.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new zm(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new zm(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new Of(new pf([])),n=new zm(t,e),r=new zm(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Of(new pf([])),n=new zm(t,e),r=new zm(t,e+1);let i=mp();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zm(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zm{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Of.comparator(e.key,t.key)||sf(e.fs,t.fs)}static ss(e,t){return sf(e.fs,t.fs)||Of.comparator(e.key,t.key)}}class qm{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new ap(zm.es)}checkEmpty(e){return ym.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new wm(i,t,n,r);this.An.push(o);for(const t of r)this.ws=this.ws.add(new zm(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return ym.resolve(o)}lookupMutationBatch(e,t){return ym.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return ym.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return ym.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return ym.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zm(t,0),r=new zm(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),ym.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ap(sf);return t.forEach((e=>{const t=new zm(e,0),r=new zm(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),ym.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Of.isDocumentKey(i)||(i=i.child(""));const o=new zm(new Of(i),0);let s=new ap(sf);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.fs)),!0)}),o),ym.resolve(this.ys(s))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Wh(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return ym.forEach(t.mutations,(r=>{const i=new zm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new zm(t,0),r=this.ws.firstAfterOrEqual(n);return ym.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,ym.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Wm{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new ip(Of.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ym.resolve(n?n.document.clone():Wf.newInvalidDocument(t))}getEntries(e,t){let n=cp();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Wf.newInvalidDocument(e))})),ym.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=cp();const i=new Of(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||wd(t,i)&&(r=r.insert(i.key,i.clone()))}return ym.resolve(r)}Es(e,t){return ym.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Hm(this)}getSize(e){return ym.resolve(this.size)}}class Hm extends class{constructor(){this.changes=new Nm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:lf.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Wf.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ym.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),ym.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class $m{constructor(e){this.persistence=e,this.Is=new Nm((e=>Qf(e)),Kf),this.lastRemoteSnapshotVersion=lf.min(),this.highestTargetId=0,this.As=0,this.Rs=new Bm,this.targetCount=0,this.Ps=Om.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),ym.resolve()}getLastRemoteSnapshotVersion(e){return ym.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ym.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),ym.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),ym.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new Om(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,ym.resolve()}updateTargetData(e,t){return this.ce(t),ym.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,ym.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),ym.waitFor(i).next((()=>r))}getTargetCount(e){return ym.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return ym.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),ym.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ym.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),ym.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return ym.resolve(n)}containsKey(e,t){return ym.resolve(this.Rs.containsKey(t))}}class Qm{constructor(e,t){this.bs={},this.Be=new nf(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new $m(this),this.Jt=new Tm,this.Je=function(e,t){return new Wm(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new km(t),this.Ye=new jm(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new qm(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Uh("MemoryPersistence","Starting transaction:",e);const r=new Km(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return ym.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class Km extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Cs=new Bm,this.Ns=null}static ks(e){return new Gm(e)}get xs(){if(this.Ns)return this.Ns;throw qh()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),ym.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),ym.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),ym.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ym.forEach(this.xs,(n=>{const r=Of.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return ym.or([()=>ym.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}class Ym{constructor(){this.activeTargetIds=vp()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jm{constructor(){this.pi=new Ym,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new Ym,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Xm{Ei(e){}shutdown(){}}class Zm{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Uh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){Uh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class tg{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class ng extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const o=this.Ui(e,t);Uh("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(e,o,s,n).then((e=>(Uh("RestConnection","Received: ",e),e)),(t=>{throw Bh("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=eg[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,o)=>{const s=new Dh;s.listenOnce(Oh.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case xh.NO_ERROR:const t=s.getResponseJson();Uh("Connection","XHR received:",JSON.stringify(t)),i(t);break;case xh.TIMEOUT:Uh("Connection",'RPC "'+e+'" timed out'),o(new Qh($h.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const n=s.getStatus();if(Uh("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values($h).indexOf(t)>=0?t:$h.UNKNOWN}(e.status);o(new Qh(t,e.message))}else o(new Qh($h.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qh($h.UNAVAILABLE,"Connection failed."));break;default:qh()}}finally{Uh("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Th(),o=Ih(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ch({})),this.qi(s.initMessageHeaders,t,n),Vs()||Us()||Ms().indexOf("Electron/")>=0||js()||Ms().indexOf("MSAppHost/")>=0||Fs()||(s.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Uh("Connection","Creating WebChannel: "+a,s);const u=i.createWebChannel(a,s);let l=!1,c=!1;const h=new tg({Vi:e=>{c?Uh("Connection","Not sending because WebChannel is closed:",e):(l||(Uh("Connection","Opening WebChannel transport."),u.open(),l=!0),Uh("Connection","WebChannel sending:",e),u.send(e))},Si:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Rh.EventType.OPEN,(()=>{c||Uh("Connection","WebChannel transport opened.")})),f(u,Rh.EventType.CLOSE,(()=>{c||(c=!0,Uh("Connection","WebChannel transport closed"),h.Fi())})),f(u,Rh.EventType.ERROR,(e=>{c||(c=!0,Bh("Connection","WebChannel transport errored:",e),h.Fi(new Qh($h.UNAVAILABLE,"The operation could not be completed")))})),f(u,Rh.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Wh(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Uh("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=tp[e];if(void 0!==t)return rp(t)}(e),n=i.message;void 0===t&&(t=$h.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Fi(new Qh(t,n)),u.close()}else Uh("Connection","WebChannel received:",n),h.Oi(n)}})),f(o,Ah.STAT_EVENT,(e=>{e.stat===Nh.PROXY?Uh("Connection","Detected buffering proxy"):e.stat===Nh.NOPROXY&&Uh("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.$i()}),0),h}}function rg(){return"undefined"!=typeof document?document:null}function ig(e){return new Ap(e,!0)}class og{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&Uh("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class sg{constructor(e,t,n,r,i,o,s,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new og(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===$h.RESOURCE_EXHAUSTED?(jh(t.toString()),jh("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===$h.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Qh($h.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Uh("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(Uh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ag extends sg{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.C?(Wh(void 0===t||"string"==typeof t),yf.fromBase64String(t||"")):(Wh(void 0===t||t instanceof Uint8Array),yf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?$h.UNKNOWN:rp(e.code);return new Qh(t,e.message||"")}(s);n=new Sp(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vp(e,r.document.name),o=Dp(r.document.updateTime),s=new zf({mapValue:{fields:r.document.fields}}),a=Wf.newFoundDocument(i,o,s),u=r.targetIds||[],l=r.removedTargetIds||[];n=new wp(u,l,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vp(e,r.document),o=r.readTime?Dp(r.readTime):lf.min(),s=Wf.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wp([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vp(e,r.document),o=r.removedTargetIds||[];n=new wp([],o,i,null)}else{if(!("filter"in t))return qh();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new ep(r),o=e.targetId;n=new Ep(o,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return lf.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?lf.min():t.readTime?Dp(t.readTime):lf.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Up(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Gf(r)?{documents:zp(e,r)}:{query:qp(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Cp(e,t.resumeToken):t.snapshotVersion.compareTo(lf.min())>0&&(n.readTime=Np(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qh()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Up(this.k),t.removeTarget=e,this.gr(t)}}class ug extends sg{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Wh(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Wh(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Dp(e.updateTime):Dp(t);return n.isEqual(lf.min())&&(n=Dp(t)),new Fd(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Dp(e.commitTime);return this.listener.Cr(n,t)}return Wh(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Up(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Qd)n={update:Bp(e,t.key,t.value)};else if(t instanceof Xd)n={delete:Mp(e,t.key)};else if(t instanceof Kd)n={update:Bp(e,t.key,t.data),updateMask:em(t.fieldMask)};else{if(!(t instanceof Zd))return qh();n={verify:Mp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Nd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ld)return{fieldPath:t.field.canonicalString(),increment:n.N};throw qh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qh()}(e,t.precondition)),n}(this.k,e)))};this.gr(t)}}class lg extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Qh($h.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===$h.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qh($h.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===$h.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qh($h.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class cg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(jh(t),this.Lr=!1):Uh("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class hg{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{wg(this)&&(Uh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Hh(e);t.Gr.add(4),await dg(t),t.Jr.set("Unknown"),t.Gr.delete(4),await fg(t)}(this))}))})),this.Jr=new cg(n,r)}}async function fg(e){if(wg(e))for(const t of e.zr)await t(!0)}async function dg(e){for(const t of e.zr)await t(!1)}function pg(e,t){const n=Hh(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),bg(n)?yg(n):Mg(n).lr()&&gg(n,t))}function mg(e,t){const n=Hh(e),r=Mg(n);n.Wr.delete(t),r.lr()&&vg(n,t),0===n.Wr.size&&(r.lr()?r._r():wg(n)&&n.Jr.set("Unknown"))}function gg(e,t){e.Yr.X(t.targetId),Mg(e).br(t)}function vg(e,t){e.Yr.X(t),Mg(e).vr(t)}function yg(e){e.Yr=new _p({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),Mg(e).start(),e.Jr.Br()}function bg(e){return wg(e)&&!Mg(e).hr()&&e.Wr.size>0}function wg(e){return 0===Hh(e).Gr.size}function Eg(e){e.Yr=void 0}async function Sg(e){e.Wr.forEach(((t,n)=>{gg(e,t)}))}async function kg(e,t){Eg(e),bg(e)?(e.Jr.Kr(t),yg(e)):e.Jr.set("Unknown")}async function _g(e,t,n){if(e.Jr.set("Online"),t instanceof Sp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){Uh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Tg(e,n)}else if(t instanceof wp?e.Yr.ot(t):t instanceof Ep?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(lf.min()))try{const t=await Mm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(yf.EMPTY_BYTE_STRING,n.snapshotVersion)),vg(e,t);const r=new Sm(n.target,t,1,n.sequenceNumber);gg(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Uh("RemoteStore","Failed to raise snapshot:",t),await Tg(e,t)}}async function Tg(e,t,n){if(!bm(t))throw t;e.Gr.add(1),await dg(e),e.Jr.set("Offline"),n||(n=()=>Mm(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Uh("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await fg(e)}))}function Ig(e,t){return t().catch((n=>Tg(e,n,t)))}async function xg(e){const t=Hh(e),n=Vg(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Og(t);)try{const e=await Vm(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,Ag(t,e)}catch(e){await Tg(t,e)}Ng(t)&&Cg(t)}function Og(e){return wg(e)&&e.Qr.length<10}function Ag(e,t){e.Qr.push(t);const n=Vg(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Ng(e){return wg(e)&&!Vg(e).hr()&&e.Qr.length>0}function Cg(e){Vg(e).start()}async function Rg(e){Vg(e).kr()}async function Dg(e){const t=Vg(e);for(const n of e.Qr)t.Dr(n.mutations)}async function Pg(e,t,n){const r=e.Qr.shift(),i=Em.from(r,t,n);await Ig(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await xg(e)}async function Lg(e,t){t&&Vg(e).Sr&&await async function(e,t){if(function(e){switch(e){default:return qh();case $h.CANCELLED:case $h.UNKNOWN:case $h.DEADLINE_EXCEEDED:case $h.RESOURCE_EXHAUSTED:case $h.INTERNAL:case $h.UNAVAILABLE:case $h.UNAUTHENTICATED:return!1;case $h.INVALID_ARGUMENT:case $h.NOT_FOUND:case $h.ALREADY_EXISTS:case $h.PERMISSION_DENIED:case $h.FAILED_PRECONDITION:case $h.ABORTED:case $h.OUT_OF_RANGE:case $h.UNIMPLEMENTED:case $h.DATA_LOSS:return!0}}(n=t.code)&&n!==$h.ABORTED){const n=e.Qr.shift();Vg(e).wr(),await Ig(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await xg(e)}var n}(e,t),Ng(e)&&Cg(e)}function Mg(e){return e.Xr||(e.Xr=function(e,t,n){const r=Hh(e);return r.Fr(),new ag(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Sg.bind(null,e),Ni:kg.bind(null,e),Pr:_g.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),bg(e)?yg(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Eg(e))}))),e.Xr}function Vg(e){return e.Zr||(e.Zr=function(e,t,n){const r=Hh(e);return r.Fr(),new ug(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Rg.bind(null,e),Ni:Lg.bind(null,e),Nr:Dg.bind(null,e),Cr:Pg.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await xg(e)):(await e.Zr.stop(),e.Qr.length>0&&(Uh("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class Fg{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Kh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Fg(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qh($h.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(e,t){if(jh("AsyncQueue",`${t}: ${e}`),bm(e))return new Qh($h.UNAVAILABLE,`${t}: ${e}`);throw e}class jg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Of.comparator(t.key,n.key):(e,t)=>Of.comparator(e.key,t.key),this.keyedMap=fp(),this.sortedSet=new ip(this.comparator)}static emptySet(e){return new jg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new jg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Bg{constructor(){this.eo=new ip(Of.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):qh():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class zg{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new zg(e,t,jg.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class qg{constructor(){this.so=void 0,this.listeners=[]}}class Wg{constructor(){this.queries=new Nm((e=>yd(e)),vd),this.onlineState="Unknown",this.io=new Set}}function Hg(e,t){const n=Hh(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&Qg(n)}function $g(e,t,n){const r=Hh(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Qg(e){e.io.forEach((e=>{e.next()}))}class Kg{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new zg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=zg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Gg{constructor(e){this.key=e}}class Yg{constructor(e){this.key=e}}class Jg{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=mp(),this.mutatedKeys=mp(),this.Ao=Ed(e),this.Ro=new jg(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new Bg,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=dd(this.query)&&r.size===this.query.limit?r.last():null,u=pd(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=wd(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;l&&c?l.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.Vo(l,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.Ao(c,a)>0||u&&this.Ao(c,u)<0)&&(s=!0)):!l&&c?(n.track({type:0,doc:c}),d=!0):l&&!c&&(n.track({type:1,doc:l}),d=!0,(a||u)&&(s=!0)),d&&(c?(o=o.add(c),i=f?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),dd(this.query)||pd(this.query))for(;o.size>this.query.limit;){const e=dd(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qh()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new zg(this.query,e.Ro,r,i,e.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Bg,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=mp(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Yg(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Gg(n))})),t}ko(e){this.To=e.zn,this.Io=mp();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return zg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class Xg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Zg{constructor(e){this.key=e,this.$o=!1}}class ev{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Nm((e=>yd(e)),vd),this.Mo=new Map,this.Lo=new Set,this.Bo=new ip(Of.comparator),this.Uo=new Map,this.qo=new Bm,this.Ko={},this.jo=new Map,this.Qo=Om.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function tv(e,t){const n=function(e){const t=Hh(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ov.bind(null,t),t.Fo.Pr=Hg.bind(null,t.eventManager),t.Fo.zo=$g.bind(null,t.eventManager),t}(e);let r,i;const o=n.Oo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const e=await function(e,t){const n=Hh(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,ym.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new Sm(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}(n.localStore,gd(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await async function(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=await Um(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return fv(e,t.targetId,s.Co),s.snapshot}(e,t,n,r);const i=await Um(e.localStore,t,!0),o=new Jg(t,i.zn),s=o.bo(i.documents),a=bp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a);fv(e,n,u.Co);const l=new Xg(t,n,o);return e.Oo.set(t,l),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),u.snapshot}(n,t,r,"current"===o),n.isPrimaryClient&&pg(n.remoteStore,e)}return i}async function nv(e,t){const n=Hh(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter((e=>!vd(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fm(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),mg(n.remoteStore,r.targetId),cv(n,r.targetId)})).catch(Am)):(cv(n,r.targetId),await Fm(n.localStore,r.targetId,!0))}async function rv(e,t){const n=Hh(e);try{const e=await function(e,t){const n=Hh(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];t.targetChanges.forEach(((t,o)=>{const a=i.get(o);if(!a)return;s.push(n.He.removeMatchingKeys(e,t.removedDocuments,o).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,o))));const u=t.resumeToken;if(u.approximateByteSize()>0){const l=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,l),function(e,t,n){return Wh(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,t)&&s.push(n.He.updateTargetData(e,l))}}));let a=cp();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(function(e,t,n,r,i){let o=mp();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=cp();return n.forEach(((n,s)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(lf.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):Uh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(lf.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return ym.waitFor(s).next((()=>o.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(Wh(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?Wh(r.$o):e.removedDocuments.size>0&&(Wh(r.$o),r.$o=!1))})),await mv(n,e,t)}catch(e){await Am(e)}}function iv(e,t,n){const r=Hh(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Hh(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&Qg(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ov(e,t,n){const r=Hh(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),o=i&&i.key;if(o){let e=new ip(Of.comparator);e=e.insert(o,Wf.newNoDocument(o,lf.min()));const n=mp().add(o),i=new yp(lf.min(),new Map,new ap(sf),e,n);await rv(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(t),pv(r)}else await Fm(r.localStore,t,!1).then((()=>cv(r,t,n))).catch(Am)}async function sv(e,t){const n=Hh(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Hh(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=ym.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Wh(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);lv(n,r,null),uv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mv(n,e)}catch(e){await Am(e)}}async function av(e,t,n){const r=Hh(e);try{const e=await function(e,t){const n=Hh(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(Wh(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);lv(r,t,n),uv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mv(r,e)}catch(n){await Am(n)}}function uv(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function lv(e,t,n){const r=Hh(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function cv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||hv(e,t)}))}function hv(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(mg(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),pv(e))}function fv(e,t,n){for(const r of n)r instanceof Gg?(e.qo.addReference(r.key,t),dv(e,r)):r instanceof Yg?(Uh("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||hv(e,r.key)):qh()}function dv(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Uh("SyncEngine","New document in limbo: "+n),e.Lo.add(r),pv(e))}function pv(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new Of(pf.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Zg(n)),e.Bo=e.Bo.insert(n,r),pg(e.remoteStore,new Sm(gd(fd(n.path)),r,2,nf.I))}}async function mv(e,t,n){const r=Hh(e),i=[],o=[],s=[];r.Oo.isEmpty()||(r.Oo.forEach(((e,a)=>{s.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Rm.$n(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Fo.Pr(i),await async function(e,t){const n=Hh(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ym.forEach(t,(t=>ym.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ym.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!bm(e))throw e;Uh("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function gv(e,t){const n=Hh(e);if(!n.currentUser.isEqual(t)){Uh("SyncEngine","User change. New user:",t.toKey());const e=await Lm(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Qh($h.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mv(n,e.Gn)}}function vv(e,t){const n=Hh(e),r=n.Uo.get(t);if(r&&r.$o)return mp().add(r.key);{let e=mp();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}function yv(e){const t=Hh(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=av.bind(null,t),t}class bv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=ig(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return function(e,t,n,r){return new Pm(e,t,n,r)}(this.persistence,new Dm,e.initialUser,this.k)}Yo(e){return new Qm(Gm.ks,this.k)}Jo(e){return new Jm}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>iv(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gv.bind(null,this.syncEngine),await async function(e,t){const n=Hh(e);t?(n.Gr.delete(2),await fg(n)):t||(n.Gr.add(2),await dg(n),n.Jr.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wg}createDatastore(e){const t=ig(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ng(r));var r;return function(e,t,n,r){return new lg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>iv(this.syncEngine,e,0),o=Zm.bt()?new Zm:new Xm,new hg(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new ev(e,t,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Hh(e);Uh("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await dg(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}class Ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Sv{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Lh.UNAUTHENTICATED,this.clientId=of.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Uh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qh($h.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ug(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function kv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){return e.offlineComponents||(Uh("FirestoreClient","Using default OfflineComponentProvider"),await async function(e,t){e.asyncQueue.verifyOperationInProgress(),Uh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Lm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}(e,new bv)),e.offlineComponents}(e);Uh("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=Hh(e);n.asyncQueue.verifyOperationInProgress(),Uh("RemoteStore","RemoteStore received new credentials");const r=wg(n);n.Gr.add(3),await dg(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await fg(n)}(t.remoteStore,e))),e.onlineComponents=t}async function _v(e){return e.onlineComponents||(Uh("FirestoreClient","Using default OnlineComponentProvider"),await kv(e,new wv)),e.onlineComponents}async function Tv(e){const t=await _v(e),n=t.eventManager;return n.onListen=tv.bind(null,t.syncEngine),n.onUnlisten=nv.bind(null,t.syncEngine),n}class Iv{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class xv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xv&&e.projectId===this.projectId&&e.database===this.database}}const Ov=new Map;function Av(e,t,n){if(!n)throw new Qh($h.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Nv(e){if(!Of.isDocumentKey(e))throw new Qh($h.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Cv(e){if(Of.isDocumentKey(e))throw new Qh($h.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Rv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":qh()}function Dv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qh($h.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rv(e);throw new Qh($h.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Pv{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qh($h.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qh($h.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Qh($h.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lv{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,e instanceof xv?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qh($h.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xv(e.options.projectId)}(e))}get app(){if(!this._app)throw new Qh($h.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qh($h.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yh;switch(e.type){case"gapi":const t=e.client;return Wh(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Zh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qh($h.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ov.get(e);t&&(Uh("ComponentProvider","Removing Datastore"),Ov.delete(e),t.terminate())}(this),Promise.resolve()}}class Mv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mv(this.firestore,e,this._key)}}class Vv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Vv(this.firestore,e,this._query)}}class Fv extends Vv{constructor(e,t,n){super(e,t,fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mv(this.firestore,null,new Of(e))}withConverter(e){return new Fv(this.firestore,e,this._path)}}function Uv(e,t,...n){if(e=Js(e),1===arguments.length&&(t=of.A()),Av("doc","path",t),e instanceof Lv){const r=pf.fromString(t,...n);return Nv(r),new Mv(e,null,new Of(r))}{if(!(e instanceof Mv||e instanceof Fv))throw new Qh($h.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pf.fromString(t,...n));return Nv(r),new Mv(e.firestore,e instanceof Fv?e.converter:null,new Of(r))}}class jv{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new og(this,"async_queue_retry"),this.Ra=()=>{const e=rg();e&&Uh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new Kh;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!bm(e))throw e;Uh("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw jh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=Fg.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(r),r}Pa(){this.Ta&&qh()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function Bv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class zv extends Lv{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new jv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wv(this),this._firestoreClient.terminate()}}function qv(e){return e._firestoreClient||Wv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wv(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Iv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Sv(e._authCredentials,e._appCheckCredentials,e._queue,r)}class Hv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qh($h.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gf(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $v{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $v(yf.fromBase64String(e))}catch(e){throw new Qh($h.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $v(yf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qv{constructor(e){this._methodName=e}}class Kv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qh($h.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qh($h.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sf(this._lat,e._lat)||sf(this._long,e._long)}}const Gv=/^__.*__$/;class Yv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qd(e,this.data,t,this.fieldTransforms)}}function Jv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qh()}}class Xv{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return cy(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Jv(this.xa)&&Gv.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class Zv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||ig(e)}ja(e,t,n,r=!1){return new Xv({xa:e,methodName:t,Ka:n,path:gf.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function ey(e){const t=e._freezeSettings(),n=ig(e._databaseId);return new Zv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ty(e,t,n,r,i,o={}){const s=e.ja(o.merge||o.mergeFields?2:0,t,n,i);sy("Data must be an object, but it was:",s,r);const a=iy(r,s);let u,l;if(o.merge)u=new vf(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ay(t,r,n);if(!s.contains(i))throw new Qh($h.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);hy(e,i)||e.push(i)}u=new vf(e),l=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=s.fieldTransforms;return new Yv(new zf(a),u,l)}class ny extends Qv{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(`${this._methodName}() can only appear at the top level of your update data`):e.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ny}}function ry(e,t){if(oy(e=Js(e)))return sy("Unsupported field value:",t,e),iy(e,t);if(e instanceof Qv)return function(e,t){if(!Jv(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ry(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Js(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Td(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=uf.fromDate(e);return{timestampValue:Np(t.k,n)}}if(e instanceof uf){const n=new uf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Np(t.k,n)}}if(e instanceof Kv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $v)return{bytesValue:Cp(t.k,e._byteString)};if(e instanceof Mv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Pp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${Rv(e)}`)}(e,t)}function iy(e,t){const n={};return ff(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hf(e,((e,r)=>{const i=ry(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function oy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uf||e instanceof Kv||e instanceof $v||e instanceof Mv||e instanceof Qv)}function sy(e,t,n){if(!oy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Rv(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function ay(e,t,n){if((t=Js(t))instanceof Hv)return t._internalPath;if("string"==typeof t)return ly(e,t);throw cy("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const uy=new RegExp("[~\\*/\\[\\]]");function ly(e,t,n){if(t.search(uy)>=0)throw cy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hv(...t.split("."))._internalPath}catch(r){throw cy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cy(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Qh($h.INVALID_ARGUMENT,a+e+u)}function hy(e,t){return e.some((e=>e.isEqual(t)))}class fy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dy extends fy{data(){return super.data()}}function py(e,t){return"string"==typeof t?ly(e,t):t instanceof Hv?t._internalPath:t._delegate._internalPath}class my{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gy extends fy{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(py("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class vy extends gy{data(e={}){return super.data(e)}}class yy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new my(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new vy(this._firestore,this._userDataWriter,n.key,n,new my(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qh($h.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new vy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new my(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new vy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new my(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:by(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function by(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qh()}}class wy extends class{convertValue(e,t="none"){switch(Af(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ef(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qh()}}convertObject(e,t){const n={};return hf(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Kv(Ef(e.latitude),Ef(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_f(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tf(e));default:return null}}convertTimestamp(e){const t=wf(e);return new uf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pf.fromString(e);Wh(tm(n));const r=new xv(n.get(1),n.get(3)),i=new Of(n.popFirst(5));return r.isEqual(t)||jh(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new $v(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mv(this.firestore,null,t)}}function Ey(e,t,n){e=Dv(e,Mv);const r=Dv(e.firestore,zv),i=function(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}(e.converter,t,n);return function(e,t){return function(e,t){const n=new Kh;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yv(e);try{const e=await function(e,t){const n=Hh(e),r=uf.now(),i=t.reduce(((e,t)=>e.add(t.key)),mp());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=Wd(e,o.get(e.key));null!=t&&s.push(new Kd(e.key,t,qf(t.value.mapValue),Ud.exists(!0)))}return n.An.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new ip(sf)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await mv(r,e.changes),await xg(r.remoteStore)}catch(e){const t=Ug(e,"Failed to persist write");n.reject(t)}}(await function(e){return _v(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(qv(e),t)}(r,[ty(ey(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ud.none())])}function Sy(e,...t){var n,r,i;e=Js(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||Bv(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Bv(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,c;if(e instanceof Mv)l=Dv(e.firestore,zv),c=fd(e._key.path),u={next:n=>{t[s]&&t[s](function(e,t,n){const r=n.docs.get(t._key),i=new wy(e);return new gy(e,i,t._key,r,new my(n.hasPendingWrites,n.fromCache),t.converter)}(l,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Dv(e,Vv);l=Dv(n.firestore,zv),c=n._query;const r=new wy(l);u={next:e=>{t[s]&&t[s](new yy(l,r,n,e))},error:t[s+1],complete:t[s+2]},function(e){if(pd(e)&&0===e.explicitOrderBy.length)throw new Qh($h.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){const i=new Ev(r),o=new Kg(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Hh(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new qg),i)try{o.so=await n.onListen(r)}catch(e){const n=Ug(e,`Initialization of query '${bd(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.ro(n.onlineState),o.so&&t.oo(o.so)&&Qg(n)}(await Tv(e),o))),()=>{i.na(),e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Hh(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}(await Tv(e),o)))}}(qv(l),c,a,u)}function ky(){return new ny("deleteField")}!function(e,t=!0){Mh="9.6.1",ya(new Xs("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new zv(r,new Jh(e.getProvider("auth-internal")),new tf(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),_a(Ph,"3.4.1",e),_a(Ph,"3.4.1","esm2017")}();var _y=function(e,t){return _y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_y(e,t)};function Ty(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Iy=function(){return Iy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Iy.apply(this,arguments)};function xy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Oy(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Ay(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Ny(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Cy(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;var Ry="Invariant Violation",Dy=Object.setPrototypeOf,Py=void 0===Dy?function(e,t){return e.__proto__=t,e}:Dy,Ly=function(e){function t(n){void 0===n&&(n=Ry);var r=e.call(this,"number"==typeof n?Ry+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Ry,Py(r,t.prototype),r}return Ty(t,e),t}(Error);function My(e,t){if(!e)throw new Ly(t)}var Vy,Fy=["debug","log","warn","error","silent"],Uy=Fy.indexOf("log");function jy(e){return function(){if(Fy.indexOf(e)>=Uy){var t=console[e]||console.log;return t.apply(console,arguments)}}}function By(e){try{return e()}catch(e){}}(Vy=My||(My={})).debug=jy("debug"),Vy.log=jy("log"),Vy.warn=jy("warn"),Vy.error=jy("error");const zy=By((function(){return globalThis}))||By((function(){return window}))||By((function(){return self}))||By((function(){return global}))||By((function(){return By.constructor("return this")()}));var qy="__",Wy=[qy,qy].join("DEV");const Hy=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(zy,Wy,{value:"production"!==By((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),zy[Wy]}}();function $y(e){try{return e()}catch(e){}}var Qy=$y((function(){return globalThis}))||$y((function(){return window}))||$y((function(){return self}))||$y((function(){return n.g}))||$y((function(){return $y.constructor("return this")()})),Ky=!1;function Gy(e){return Yy(e,[])}function Yy(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Yy(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let r=0;r<n;++r)i.push(Yy(e[r],t));return 1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+Yy(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function Jy(e,t){if(!Boolean(e))throw new Error(t)}!Qy||$y((function(){return"production"}))||$y((function(){return process}))||(Object.defineProperty(Qy,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),Ky=!0);class Xy{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||Jy(!1,`Body must be a string. Received: ${Gy(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||Jy(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Jy(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Zy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tb(e,t,n){return t&&eb(e.prototype,t),n&&eb(e,n),e}Ky&&(delete Qy.process,Ky=!1),__DEV__?My("boolean"==typeof Hy,Hy):My("boolean"==typeof Hy,36);var nb=function(){return"function"==typeof Symbol},rb=function(e){return nb()&&Boolean(Symbol[e])},ib=function(e){return rb(e)?Symbol[e]:"@@"+e};nb()&&!rb("observable")&&(Symbol.observable=Symbol("observable"));var ob=ib("iterator"),sb=ib("observable"),ab=ib("species");function ub(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function lb(e){var t=e.constructor;return void 0!==t&&null===(t=t[ab])&&(t=void 0),void 0!==t?t:bb}function cb(e){return e instanceof bb}function hb(e){hb.log?hb.log(e):setTimeout((function(){throw e}))}function fb(e){Promise.resolve().then((function(){try{e()}catch(e){hb(e)}}))}function db(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=ub(t,"unsubscribe");n&&n.call(t)}}catch(e){hb(e)}}function pb(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function mb(e,t,n){e._state="running";var r=e._observer;try{var i=ub(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(pb(e),!i)throw n;i.call(r,n);break;case"complete":pb(e),i&&i.call(r)}}catch(e){hb(e)}"closed"===e._state?db(e):"running"===e._state&&(e._state="ready")}function gb(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void fb((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(mb(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void mb(e,t,n);e._queue.push({type:t,value:n})}}var vb=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new yb(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(pb(this),db(this))},tb(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),yb=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){gb(this._subscription,"next",e)},t.error=function(e){gb(this._subscription,"error",e)},t.complete=function(){gb(this._subscription,"complete")},tb(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),bb=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new vb(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(lb(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(lb(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=lb(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lb(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=lb(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[sb]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=ub(t,sb);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return cb(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(rb("iterator")&&(r=ub(t,ob)))return new n((function(e){fb((function(){if(!e.closed){for(var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zy(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){fb((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){fb((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},tb(e,null,[{key:ab,get:function(){return this}}]),e}();function wb(e){return null!==e&&"object"==typeof e}function Eb(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new Ly("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Ly(41);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(__DEV__?My(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):My(1===r.length,42),n=r[0].name.value),Iy(Iy({},e),{definitions:Cy([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function Sb(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function kb(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?My(n,"No fragment named ".concat(e.name.value,".")):My(n,43),n;default:return null}}function _b(e){return{__ref:String(e)}}function Tb(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function Ib(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return Ib(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Ib(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new Ly('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Ly(52);e[t.value]=null}}nb()&&Object.defineProperty(bb,Symbol("extensions"),{value:{symbol:sb,hostReportError:hb},configurable:!0});var xb=["connection","include","skip","client","rest","export"],Ob=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(Ab(i),")")}return n.connection.key}var o=e;if(t){var s=Ab(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===xb.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(Ab(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=Ab;return Ab=e,t}}),Ab=function(e){return JSON.stringify(e,Nb)};function Nb(e,t){return wb(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Cb(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return Ib(n,r,i,t)})),n}return null}function Rb(e){return e.alias?e.alias.value:e.name.value}function Db(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(Pb(o)){if("__typename"===o.name.value)return e[Rb(o)]}else{var s=Db(e,kb(o,n).selectionSet,n);if("string"==typeof s)return s}}}function Pb(e){return"Field"===e.kind}function Lb(e){return"InlineFragment"===e.kind}function Mb(e){__DEV__?My(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):My(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new Ly('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new Ly(45);return e}));return __DEV__?My(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):My(t.length<=1,46),e}function Vb(e){return Mb(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function Fb(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function Ub(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function jb(e){var t=Vb(e);return __DEV__?My(t&&"query"===t.operation,"Must contain a query definition."):My(t&&"query"===t.operation,47),t}function Bb(e){var t;Mb(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new Ly("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Ly(51)}function zb(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&Ib(t,e.variable.name,e.defaultValue)})),t}function qb(e,t){return t?t(e):bb.of()}function Wb(e){return"function"==typeof e?new Qb(e):e}function Hb(e){return e.request.length<=1}var $b=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return Ty(t,e),t}(Error),Qb=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return bb.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Wb).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Wb(n),o=Wb(r||new e(qb));return Hb(i)&&Hb(o)?new e((function(e){return t(e)?i.request(e)||bb.of():o.request(e)||bb.of()})):new e((function(e,n){return t(e)?i.request(e,n)||bb.of():o.request(e,n)||bb.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=Iy({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Iy(Iy({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Iy({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?Fb(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new Ly("illegal argument: ".concat(i)):new Ly(24)}return e}(t))))||bb.of()},e.concat=function(t,n){var r=Wb(t);if(Hb(r))return __DEV__&&My.warn(new $b("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Wb(n);return Hb(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||bb.of()}))||bb.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||bb.of()}))||bb.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(qb)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new Ly("request is not implemented"):new Ly(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),Kb=Qb.execute;function Gb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}class Yb{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Jb{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Xb={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Zb=new Set(Object.keys(Xb));function ew(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&Zb.has(t)}let tw,nw;var rw;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(tw||(tw={})),(rw=nw||(nw={})).NAME="Name",rw.DOCUMENT="Document",rw.OPERATION_DEFINITION="OperationDefinition",rw.VARIABLE_DEFINITION="VariableDefinition",rw.SELECTION_SET="SelectionSet",rw.FIELD="Field",rw.ARGUMENT="Argument",rw.FRAGMENT_SPREAD="FragmentSpread",rw.INLINE_FRAGMENT="InlineFragment",rw.FRAGMENT_DEFINITION="FragmentDefinition",rw.VARIABLE="Variable",rw.INT="IntValue",rw.FLOAT="FloatValue",rw.STRING="StringValue",rw.BOOLEAN="BooleanValue",rw.NULL="NullValue",rw.ENUM="EnumValue",rw.LIST="ListValue",rw.OBJECT="ObjectValue",rw.OBJECT_FIELD="ObjectField",rw.DIRECTIVE="Directive",rw.NAMED_TYPE="NamedType",rw.LIST_TYPE="ListType",rw.NON_NULL_TYPE="NonNullType",rw.SCHEMA_DEFINITION="SchemaDefinition",rw.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",rw.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",rw.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",rw.FIELD_DEFINITION="FieldDefinition",rw.INPUT_VALUE_DEFINITION="InputValueDefinition",rw.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",rw.UNION_TYPE_DEFINITION="UnionTypeDefinition",rw.ENUM_TYPE_DEFINITION="EnumTypeDefinition",rw.ENUM_VALUE_DEFINITION="EnumValueDefinition",rw.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",rw.DIRECTIVE_DEFINITION="DirectiveDefinition",rw.SCHEMA_EXTENSION="SchemaExtension",rw.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",rw.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",rw.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",rw.UNION_TYPE_EXTENSION="UnionTypeExtension",rw.ENUM_TYPE_EXTENSION="EnumTypeExtension",rw.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const iw=Object.freeze({});function ow(e,t,n=Xb){const r=new Map;for(const e of Object.values(nw))r.set(e,sw(t,e));let i,o,s,a,u=Array.isArray(e),l=[e],c=-1,h=[];const f=[],d=[];let p=e;do{c++;const e=c===l.length,y=e&&0!==h.length;if(e){if(s=0===d.length?void 0:f[f.length-1],o=a,a=d.pop(),y)if(u){o=o.slice();let e=0;for(const[t,n]of h){const r=t-e;null===n?(o.splice(r,1),e++):o[r]=n}}else{o=Object.defineProperties({},Object.getOwnPropertyDescriptors(o));for(const[e,t]of h)o[e]=t}c=i.index,l=i.keys,h=i.edits,u=i.inArray,i=i.prev}else{if(s=a?u?c:l[c]:void 0,o=a?a[s]:p,null==o)continue;a&&f.push(s)}let b;if(!Array.isArray(o)){var m,g;ew(o)||Jy(!1,`Invalid AST Node: ${Gy(o)}.`);const n=e?null===(m=r.get(o.kind))||void 0===m?void 0:m.leave:null===(g=r.get(o.kind))||void 0===g?void 0:g.enter;if(b=null==n?void 0:n.call(t,o,s,a,f,d),b===iw)break;if(!1===b){if(!e){f.pop();continue}}else if(void 0!==b&&(h.push([s,b]),!e)){if(!ew(b)){f.pop();continue}o=b}}var v;void 0===b&&y&&h.push([s,o]),e?f.pop():(i={inArray:u,index:c,keys:l,edits:h,prev:i},u=Array.isArray(o),l=u?o:null!==(v=n[o.kind])&&void 0!==v?v:[],c=-1,h=[],a&&d.push(a),a=o)}while(void 0!==i);return 0!==h.length&&(p=h[h.length-1][1]),p}function sw(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}var aw=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=__DEV__?new Ly("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new Ly(21);throw r.parseError=e,r}return n},uw=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},lw=Object.prototype.hasOwnProperty;function cw(e){return 9===e||32===e}function hw(e){return e>=48&&e<=57}function fw(e){return e>=97&&e<=122||e>=65&&e<=90}function dw(e){return fw(e)||95===e}function pw(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let t=0;t<e.length;++t){var o;const s=e[t],a=mw(s);a!==s.length&&(r=null!==(o=r)&&void 0!==o?o:t,i=t,0!==t&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function mw(e){let t=0;for(;t<e.length&&cw(e.charCodeAt(t));)++t;return t}const gw=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function vw(e){return yw[e.charCodeAt(0)]}const yw=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function bw(e){return ow(e,ww)}const ww={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ew(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=kw("(",Ew(e.variableDefinitions,", "),")"),n=Ew([e.operation,Ew([e.name,t]),Ew(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+kw(" = ",n)+kw(" ",Ew(r," "))},SelectionSet:{leave:({selections:e})=>Sw(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=kw("",e,": ")+t;let s=o+kw("(",Ew(n,", "),")");return s.length>80&&(s=o+kw("(\n",_w(Ew(n,"\n")),"\n)")),Ew([s,Ew(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+kw(" ",Ew(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Ew(["...",kw("on ",e),Ew(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${kw("(",Ew(n,", "),")")} on ${t} ${kw("",Ew(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||cw(e.charCodeAt(0)))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),l=a||u,c=!i||e.length>70||l||o||s;let h="";const f=i&&cw(e.charCodeAt(0));return(c&&!f||o)&&(h+="\n"),h+=n,(c||l)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(gw,vw)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ew(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ew(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+kw("(",Ew(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>kw("",e,"\n")+Ew(["schema",Ew(t," "),Sw(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>kw("",e,"\n")+Ew(["scalar",t,Ew(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>kw("",e,"\n")+Ew(["type",t,kw("implements ",Ew(n," & ")),Ew(r," "),Sw(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>kw("",e,"\n")+t+(Tw(n)?kw("(\n",_w(Ew(n,"\n")),"\n)"):kw("(",Ew(n,", "),")"))+": "+r+kw(" ",Ew(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>kw("",e,"\n")+Ew([t+": "+n,kw("= ",r),Ew(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>kw("",e,"\n")+Ew(["interface",t,kw("implements ",Ew(n," & ")),Ew(r," "),Sw(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>kw("",e,"\n")+Ew(["union",t,Ew(n," "),kw("= ",Ew(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>kw("",e,"\n")+Ew(["enum",t,Ew(n," "),Sw(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>kw("",e,"\n")+Ew([t,Ew(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>kw("",e,"\n")+Ew(["input",t,Ew(n," "),Sw(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>kw("",e,"\n")+"directive @"+t+(Tw(n)?kw("(\n",_w(Ew(n,"\n")),"\n)"):kw("(",Ew(n,", "),")"))+(r?" repeatable":"")+" on "+Ew(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ew(["extend schema",Ew(e," "),Sw(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ew(["extend scalar",e,Ew(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ew(["extend type",e,kw("implements ",Ew(t," & ")),Ew(n," "),Sw(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ew(["extend interface",e,kw("implements ",Ew(t," & ")),Ew(n," "),Sw(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Ew(["extend union",e,Ew(t," "),kw("= ",Ew(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Ew(["extend enum",e,Ew(t," "),Sw(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Ew(["extend input",e,Ew(t," "),Sw(n)]," ")}};function Ew(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function Sw(e){return kw("{\n",_w(Ew(e,"\n")),"\n}")}function kw(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function _w(e){return kw("  ",e.replace(/\n/g,"\n  "))}function Tw(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Iw={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},xw=function(e,t){return t(e)};function Ow(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach((function(e){i=Iy(Iy(Iy({},i),e.options),{headers:Iy(Iy({},i.headers),Aw(e.headers))}),e.credentials&&(i.credentials=e.credentials),o=Iy(Iy({},o),e.http)}));var s=e.operationName,a=e.extensions,u=e.variables,l=e.query,c={operationName:s,variables:u};return o.includeExtensions&&(c.extensions=a),o.includeQuery&&(c.query=t(l,bw)),{options:i,body:c}}function Aw(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function Nw(e){return new bb((function(t){t.error(e)}))}var Cw=By((function(){return fetch})),Rw=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,o=void 0===i?xw:i,s=e.includeExtensions,a=e.useGETForQueries,u=e.includeUnusedVariables,l=void 0!==u&&u,c=xy(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw __DEV__?new Ly("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new Ly(20)}(r||Cw);var h={http:{includeExtensions:s},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new Qb((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),s={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,f=u.version;c&&(s["apollographql-client-name"]=c),f&&(s["apollographql-client-version"]=f)}var d,p=Iy(Iy({},s),i.headers),m={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},g=Ow(e,o,Iw,h,m),v=g.options,y=g.body;if(y.variables&&!l){var b=new Set(Object.keys(y.variables));ow(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(y.variables=Iy({},y.variables),b.forEach((function(e){delete y.variables[e]})))}if(!v.signal){var w=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),E=w.controller,S=w.signal;(d=E)&&(v.signal=S)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(v.method="GET"),"GET"===v.method){var k=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=aw(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=aw(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var s="",a=e,u=e.indexOf("#");-1!==u&&(s=e.substr(u),a=e.substr(0,u));var l=-1===a.indexOf("?")?"?":"&";return{newURI:a+l+n.join("&")+s}}(t,y),_=k.newURI,T=k.parseError;if(T)return Nw(T);t=_}else try{v.body=aw(y,"Payload")}catch(T){return Nw(T)}return new bb((function(n){var i;return(r||By((function(){return fetch}))||Cw)(t,v).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&uw(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||lw.call(t,"data")||lw.call(t,"errors")||uw(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){d&&d.abort()}}))}))}(t).request)||this;return n.options=t,n}return Ty(t,e),t}(Qb),Dw=Object.prototype,Pw=Dw.toString,Lw=Dw.hasOwnProperty,Mw=Function.prototype.toString,Vw=new Map;function Fw(e,t){try{return Uw(e,t)}finally{Vw.clear()}}function Uw(e,t){if(e===t)return!0;var n,r,i,o=Pw.call(e);if(o!==Pw.call(t))return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(qw(e,t))return!0;var s=jw(e),a=jw(t),u=s.length;if(u!==a.length)return!1;for(var l=0;l<u;++l)if(!Lw.call(t,s[l]))return!1;for(l=0;l<u;++l){var c=s[l];if(!Uw(e[c],t[c]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(qw(e,t))return!0;for(var h=e.entries(),f="[object Map]"===o;;){var d=h.next();if(d.done)break;var p=d.value,m=p[0],g=p[1];if(!t.has(m))return!1;if(f&&!Uw(g,t.get(m)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var v=e.byteLength;if(v===t.byteLength)for(;v--&&e[v]===t[v];);return-1===v;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var y=Mw.call(e);return y===Mw.call(t)&&(r=zw,!((i=(n=y).length-r.length)>=0&&n.indexOf(r,i)===i))}return!1}function jw(e){return Object.keys(e).filter(Bw,e)}function Bw(e){return void 0!==this[e]}var zw="{ [native code] }";function qw(e,t){var n=Vw.get(e);if(n){if(n.has(t))return!0}else Vw.set(e,n=new Set);return n.add(t),!1}var Ww,Hw,$w=function(){return Object.create(null)},Qw=Array.prototype,Kw=Qw.forEach,Gw=Qw.slice,Yw=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=$w),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return Kw.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(Gw.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}(),Jw="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),Xw="function"==typeof WeakSet,Zw="function"==typeof Symbol&&"function"==typeof Symbol.for,eE=function(){function e(){this.known=new(Xw?WeakSet:Set),this.pool=new Yw(Jw),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return wb(e)&&this.known.has(e)},e.prototype.pass=function(e){if(wb(e)){var t=function(e){return wb(e)?Array.isArray(e)?e.slice(0):Iy({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(wb(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],s=this.sortedKeys(e);o.push(s.json);var a,u=o.length;if(s.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(o)).object){var l=a.object=Object.create(i);this.known.add(l),s.sorted.forEach((function(e,t){l[e]=o[u+t]})),__DEV__&&Object.freeze(l)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),tE=Object.assign((function(e){if(wb(e)){void 0===Ww&&nE();var t=Ww.admit(e),n=Hw.get(t);return void 0===n&&Hw.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:nE});function nE(){Ww=new eE,Hw=new(Jw?WeakMap:Map)}function rE(e,t,n){return new bb((function(r){var i=r.next,o=r.error,s=r.complete,a=0,u=!1,l={then:function(e){return new Promise((function(t){return t(e())}))}};function c(e,t){return e?function(t){++a;var n=function(){return e(t)};l=l.then(n,n).then((function(e){--a,i&&i.call(r,e),u&&h.complete()}),(function(e){throw--a,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var h={next:c(t,i),error:c(n,o),complete:function(){u=!0,a||s&&s.call(r)}},f=e.subscribe(h);return function(){return f.unsubscribe()}}))}function iE(e){return e.errors&&e.errors.length>0||!1}function oE(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var sE={kind:"Field",name:{kind:"Name",value:"__typename"}};function aE(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&aE(t[e.name.value],t)}))}function uE(e){return aE(Vb(e)||function(e){__DEV__?My("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):My("Document"===e.kind,48),__DEV__?My(e.definitions.length<=1,"Fragment must have exactly one definition."):My(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?My("FragmentDefinition"===t.kind,"Must be a fragment definition."):My("FragmentDefinition"===t.kind,50),t}(e),Sb(Ub(e)))?null:e}function lE(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function cE(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],s=uE(ow(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(lE(e)))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&dE(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(lE(e)(t))return null}}}));return s&&oE(r,(function(e){return!!e.name&&!n[e.name]})).length&&(s=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return uE(ow(t,{OperationDefinition:{enter:function(t){return Iy(Iy({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,s)),s&&oE(o,(function(e){return!!e.name&&!i[e.name]})).length&&(s=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return uE(ow(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,s)),s}var hE=Object.assign((function(e){return ow(Mb(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some((function(e){return Pb(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(Pb(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Iy(Iy({},e),{selections:Cy(Cy([],r,!0),[sE],!1)})}}}}})}),{added:function(e){return e===sE}}),fE={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&My.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function dE(e){var t=[];return e.selections.forEach((function(e){(Pb(e)||Lb(e))&&e.selectionSet?dE(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function pE(e){return"query"===Bb(e).operation?e:ow(e,{OperationDefinition:{enter:function(e){return Iy(Iy({},e),{operation:"query"})}}})}function mE(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?My(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):My(n&&1===n.length,38);var i=n[0];__DEV__?My(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):My(i.name&&"if"===i.name.value,39);var o=i.value;__DEV__?My(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):My(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:i})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?My(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):My(void 0!==i,37)):i=r.value.value,"skip"===n.name.value?!i:i}))}function gE(e,t){return function(e){var t=[];return ow(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function vE(e){return e&&gE(["client"],e)&&gE(["export"],e)}var yE=new Map;function bE(e){var t=yE.get(e)||1;return yE.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function wE(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function EE(e){function t(t){Object.defineProperty(e,t,{value:bb})}return Zw&&Symbol.species&&t(Symbol.species),t("@@species"),e}function SE(e){return e&&"function"==typeof e.then}var kE=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],wE(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),wE(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?SE(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),wE(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new bb(t)]),SE(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return Ty(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(bb);function _E(e){return Array.isArray(e)&&e.length>0}EE(kE);var TE,IE=function(e){function t(n){var r,i,o=n.graphQLErrors,s=n.clientErrors,a=n.networkError,u=n.errorMessage,l=n.extraInfo,c=e.call(this,u)||this;return c.graphQLErrors=o||[],c.clientErrors=s||[],c.networkError=a||null,c.message=u||(i="",(_E((r=c).graphQLErrors)||_E(r.clientErrors))&&(r.graphQLErrors||[]).concat(r.clientErrors||[]).forEach((function(e){var t=e?e.message:"Error message not found.";i+="".concat(t,"\n")})),r.networkError&&(i+="".concat(r.networkError.message,"\n")),i=i.replace(/\n$/,"")),c.extraInfo=l,c.__proto__=t.prototype,c}return Ty(t,e),t}(Error);function xE(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(TE||(TE={}));var OE=Object.prototype.toString;function AE(e){return NE(e)}function NE(e,t){switch(OE.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=NE(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=NE(e[n],t)})),r;default:return e}}var CE=Object.assign,RE=Object.hasOwnProperty,DE=!1,PE=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=LE)}catch(e){}var n=!o.observers.size;o.observers.add(e);var r=o.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=i,o.queryId=r.queryId||n.generateQueryId();var s=Vb(i.query);return o.queryName=s&&s.name&&s.name.value,o.initialFetchPolicy=i.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return Ty(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||TE.ready,r=Iy(Iy({},t),{loading:xE(n),networkStatus:n}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),Fw(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,!s.complete||r.networkStatus!==TE.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=TE.ready,r.loading=!1)):r.partial=!0,!__DEV__||s.complete||this.options.partialRefetch||r.loading||r.data||r.error||ME(s.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!Fw(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Fw(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="standby"===r||"cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&RE.call(e,"variables")){var i=jb(this.options.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&My.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!Fw(this.options.variables,e)&&(n.variables=this.options.variables=Iy(Iy({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,TE.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Iy(Iy({},e.query?e:Iy(Iy(Iy({},this.options),e),{variables:Iy(Iy({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=TE.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,TE.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?(__DEV__&&!DE&&(__DEV__&&My.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),DE=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&My.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return Fw(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},TE.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?My(n,"Attempted to start a polling query without a polling interval."):My(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(xE(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"network-only"},TE.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=Iy(Iy({},this.last),{result:this.queryManager.assumeImmutableResults?e:AE(e),variables:t}),_E(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===TE.refetch||t===TE.fetchMore||t===TE.poll,i=this.options.variables,o=r?Gb(this.options,e):CE(this.options,Gb(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!Fw(e.variables,i)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=TE.setVariables)));var s=o.variables&&Iy({},o.variables),a=this.fetch(o,t),u={next:function(e){n.reportResult(e,s)},error:function(e){n.reportError(e,s)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=a,this.observer=u),a.addObserver(u),a.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),wE(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=Iy(Iy({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:TE.error,loading:!1});this.updateLastResult(n,t),wE(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(bb);function LE(e){__DEV__&&My.error("Unhandled error",e.message,e.stack)}function ME(e){__DEV__&&e&&__DEV__&&My.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}EE(PE);var VE=Object.prototype.hasOwnProperty;function FE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return UE(e)}function UE(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new BE,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var jE=function(e,t,n){return this.merge(e[n],t[n])},BE=function(){function e(e){void 0===e&&(e=jE),this.reconciler=e,this.isObject=wb,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return wb(t)&&wb(e)?(Object.keys(t).forEach((function(i){if(VE.call(e,i)){var o=e[i];if(t[i]!==o){var s=n.reconciler.apply(n,Cy([e,t,i],r,!1));s!==o&&((e=n.shallowCopyForMerge(e))[i]=s)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(wb(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):Iy({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),zE=null,qE={},WE=1,HE="@wry/context:Slot",$E=Array,QE=$E[HE]||function(){var e=function(){function e(){this.id=["slot",WE++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=zE;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===qE)break;return e!==zE&&(zE.slots[this.id]=t),!0}return zE&&(zE.slots[this.id]=qE),!1},e.prototype.getValue=function(){if(this.hasValue())return zE.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),s=zE;zE={parent:s,slots:o};try{return t.apply(r,n)}finally{zE=s}},e.bind=function(e){var t=zE;return function(){var n=zE;try{return zE=t,e.apply(this,arguments)}finally{zE=n}}},e.noContext=function(e,t,n){if(!zE)return e.apply(n,t);var r=zE;try{return zE=null,e.apply(n,t)}finally{zE=r}},e}();try{Object.defineProperty($E,HE,{value:$E[HE]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function KE(){}QE.bind,QE.noContext;var GE,YE=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=KE),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),JE=new QE,XE=Object.prototype.hasOwnProperty,ZE=void 0===(GE=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:GE;function eS(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var tS=[];function nS(e,t){if(!e)throw new Error(t||"assertion failure")}function rS(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var iS=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!aS(this))return oS(this),this.value[0]},e.prototype.recompute=function(e){return nS(!this.recomputing,"already recomputing"),oS(this),aS(this)?function(e,t){return pS(e),JE.withValue(e,sS,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{eS(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,aS(e)||lS(e)}(e),rS(e.value)}(this,e):rS(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,uS(this),eS(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),pS(this),cS(this,(function(t,n){t.setDirty(),mS(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=tS.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(ZE(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),tS.push(this.deps),this.deps=null)},e.count=0,e}();function oS(e){var t=JE.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),aS(e)?hS(t,e):fS(t,e),t}function sS(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function aS(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function uS(e){cS(e,hS)}function lS(e){cS(e,fS)}function cS(e,t){var n=e.parents.size;if(n)for(var r=ZE(e.parents),i=0;i<n;++i)t(r[i],e)}function hS(e,t){nS(e.childValues.has(t)),nS(aS(t));var n=!aS(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=tS.pop()||new Set;e.dirtyChildren.add(t),n&&uS(e)}function fS(e,t){nS(e.childValues.has(t)),nS(!aS(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),dS(e,t),aS(e)||lS(e)}function dS(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(tS.length<100&&tS.push(n),e.dirtyChildren=null))}function pS(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){mS(e,n)})),e.forgetDeps(),nS(null===e.dirtyChildren)}function mS(e,t){t.parents.delete(e),e.childValues.delete(t),dS(e,t)}var gS={setDirty:!0,dispose:!0,forget:!0};function vS(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=JE.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(eS(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&XE.call(gS,n)?n:"setDirty";ZE(r).forEach((function(e){return e[i]()})),t.delete(e),eS(r)}},r}function yS(){var e=new Yw("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}yS();var bS=new Set;function wS(e,t){void 0===t&&(t=Object.create(null));var n=new YE(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||yS(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var s=n.get(o);s||(n.set(o,s=new iS(e)),s.subscribe=t.subscribe,s.forget=function(){return n.delete(o)});var a=s.recompute(Array.prototype.slice.call(arguments));return n.set(o,s),bS.add(n),JE.hasValue()||(bS.forEach((function(e){return e.clean()})),bS.clear()),a};function s(e){var t=n.get(e);t&&t.setDirty()}function a(e){var t=n.get(e);if(t)return t.peek()}function u(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=a,o.peek=function(){return a(i.apply(null,arguments))},o.forgetKey=u,o.forget=function(){return u(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var ES=new QE,SS=new WeakMap;function kS(e){var t=SS.get(e);return t||SS.set(e,t={vars:new Set,dep:vS()}),t}function _S(e){kS(e).vars.forEach((function(t){return t.forgetCache(e)}))}function TS(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){kS(e).dep.dirty(r),IS(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=ES.getValue();a&&(i(a),kS(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),kS(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function IS(e){e.broadcastWatches&&e.broadcastWatches()}var xS=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=FE(t.resolvers,e)})):this.resolvers=FE(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,s=void 0!==o&&o;return Oy(this,void 0,void 0,(function(){return Ay(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,s).then((function(e){return Iy(Iy({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return gE(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){Mb(e);var t=cE([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=ow(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Pb(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Iy(Iy({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Oy(this,void 0,void 0,(function(){return Ay(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Iy(Iy({},t),e.exportedVariables)}))]:[2,Iy({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return ow(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return iw}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:pE(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),Oy(this,void 0,void 0,(function(){var s,a,u,l,c,h,f,d,p;return Ay(this,(function(m){return s=Bb(e),a=Ub(e),u=Sb(a),l=s.operation,c=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",f=(h=this).cache,d=h.client,p={fragmentMap:u,context:Iy(Iy({},n),{cache:f,client:d}),variables:r,fragmentMatcher:i,defaultOperationType:c,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(s.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Oy(this,void 0,void 0,(function(){var r,i,o,s,a,u=this;return Ay(this,(function(l){return r=n.fragmentMap,i=n.context,o=n.variables,s=[t],a=function(e){return Oy(u,void 0,void 0,(function(){var a,u;return Ay(this,(function(l){return mE(e,o)?Pb(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&s.push(((n={})[Rb(e)]=t,n))}))]:(Lb(e)?a=e:(a=r[e.name.value],__DEV__?My(a,"No fragment named ".concat(e.name.value)):My(a,9)),a&&a.typeCondition&&(u=a.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(a.selectionSet,t,n).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(a)).then((function(){return UE(s)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Oy(this,void 0,void 0,(function(){var r,i,o,s,a,u,l,c,h,f=this;return Ay(this,(function(d){return r=n.variables,i=e.name.value,o=Rb(e),s=i!==o,a=t[o]||t[i],u=Promise.resolve(a),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||n.defaultOperationType,(c=this.resolvers&&this.resolvers[l])&&(h=c[s?i:o])&&(u=Promise.resolve(ES.withValue(this.cache,h,[t,Cb(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=a),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?f.resolveSubSelectedArray(e,t,n):e.selectionSet?f.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),OS=new(Jw?WeakMap:Map);function AS(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return OS.set(e,(OS.get(e)+1)%1e15),n.apply(this,arguments)})}function NS(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var CS=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;OS.has(n)||(OS.set(n,0),AS(n,"evict"),AS(n,"modify"),AS(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||TE.loading;return this.variables&&this.networkStatus!==TE.loading&&!Fw(this.variables,e.variables)&&(t=TE.setVariables),Fw(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){NS(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Fw(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Fw(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;NS(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(xE(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=Iy(Iy({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Fw(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===OS.get(this.cache)&&Fw(t,n.variables)&&Fw(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=_E(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(RS(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(r.shouldWrite(e,t.variables))i.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:OS.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),s=i.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(s,o),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=TE.ready},e.prototype.markError=function(e){return this.networkStatus=TE.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function RS(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!iE(e);return!r&&n&&e.data&&(r=!0),r}var DS=Object.prototype.hasOwnProperty,PS=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,s=e.ssrMode,a=void 0!==s&&s,u=e.clientAwareness,l=void 0===u?{}:u,c=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Jw?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=l,this.localState=c||new xS({cache:t}),this.ssrMode=a,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new Ly("QueryManager stopped while query was in flight"):new Ly(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,s=void 0===o?[]:o,a=e.awaitRefetchQueries,u=void 0!==a&&a,l=e.update,c=e.onQueryUpdated,h=e.errorPolicy,f=void 0===h?"none":h,d=e.fetchPolicy,p=void 0===d?"network-only":d,m=e.keepRootFields,g=e.context;return Oy(this,void 0,void 0,(function(){var e,o,a;return Ay(this,(function(h){switch(h.label){case 0:return __DEV__?My(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):My(t,12),__DEV__?My("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):My("network-only"===p||"no-cache"===p,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,g)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:p,errorPolicy:f,context:g,updateQueries:i,update:l,keepRootFields:m}),this.broadcastQueries(),a=this,[2,new Promise((function(h,d){return rE(a.getObservableFromLink(t,Iy(Iy({},g),{optimisticResponse:r}),n,!1),(function(h){if(iE(h)&&"none"===f)throw new IE({graphQLErrors:h.errors});o&&(o.loading=!1,o.error=null);var d=Iy({},h);return"function"==typeof s&&(s=s(d)),"ignore"===f&&iE(d)&&delete d.errors,a.markMutationResult({mutationId:e,result:d,document:t,variables:n,fetchPolicy:p,errorPolicy:f,context:g,update:l,updateQueries:i,awaitRefetchQueries:u,refetchQueries:s,removeOptimistic:r?e:void 0,onQueryUpdated:c,keepRootFields:m})})).subscribe({next:function(e){a.broadcastQueries(),h(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&a.cache.removeOptimistic(e),a.broadcastQueries(),d(t instanceof IE?t:new IE({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&RS(r,e.errorPolicy)){i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var s=e.updateQueries;s&&this.queries.forEach((function(e,o){var a=e.observableQuery,u=a&&a.queryName;if(u&&DS.call(s,u)){var l=s[u],c=n.queries.get(o),h=c.document,f=c.variables,d=t.diff({query:h,variables:f,returnPartialData:!0,optimistic:!1}),p=d.result;if(d.complete&&p){var m=l(p,{mutationResult:r,queryName:h&&Fb(h)||void 0,queryVariables:f});m&&i.push({result:m,dataId:"ROOT_QUERY",query:h,variables:f})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var a=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var s=e.update;if(s){if(!o){var a=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});a.complete&&(r=Iy(Iy({},r),{data:a.result}))}s(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return a.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(a).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Iy(Iy({},t),{result:{data:r}}),e)}catch(e){__DEV__&&My.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),cE([fE],Mb(t))),o=this.localState.clientQuery(r),s=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:vE(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:s,defaultVars:zb(Vb(r)),asQuery:Iy(Iy({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Iy(Iy({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,a)};u(e),u(r),u(o),u(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return Iy(Iy({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=Iy(Iy({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new CS(this),n=new PE({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?My(e.query,"query option is required. You must specify your GraphQL document in the query option."):My(e.query,14),__DEV__?My("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):My("Document"===e.query.kind,15),__DEV__?My(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):My(!e.returnPartialData,16),__DEV__?My(!e.pollInterval,"pollInterval option only supported on watchQuery."):My(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Ly("Store reset while query was in flight (not completed in link chain)"):new Ly(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=TE.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):wb(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):wb(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,s=t.document;if(o){if("all"===e)return void n.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(s))&&(n.set(i,o),a&&r.set(a,!0),s&&r.set(s,!0))}})),i.size&&i.forEach((function(e){var r=bE("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new PE({queryManager:t,queryInfo:i,options:Iy(Iy({},e),{fetchPolicy:"network-only"})});My(o.queryId===r),i.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&My.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,s=e.context,a=void 0===s?{}:s;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,a,e).map((function(o){if("no-cache"!==r&&(RS(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),iE(o))throw new IE({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var l=this.localState.addExportedVariables(n,o,a).then(u);return new bb((function(e){var t=null;return l.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o,s=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var u=this.inFlightLinkObservables,l=this.link,c={query:a,variables:n,operationName:Fb(a)||void 0,context:this.prepareContext(Iy(Iy({},t),{forceFetch:!r}))};if(t=c.context,r){var h=u.get(a)||new Map;u.set(a,h);var f=tE(n);if(!(o=h.get(f))){var d=new kE([Kb(l,c)]);h.set(f,o=d),d.cleanup((function(){h.delete(f)&&h.size<1&&u.delete(a)}))}}else o=new kE([Kb(l,c)])}else o=new kE([bb.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=rE(o,(function(e){return s.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return rE(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=_E(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new IE({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var s={data:i.data,loading:!1,networkStatus:e.networkStatus||TE.ready};return o&&"ignore"!==n.errorPolicy&&(s.errors=i.errors),s}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new IE({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=TE.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),s=this.getQuery(e),a=t.fetchPolicy,u=void 0===a?"cache-first":a,l=t.errorPolicy,c=void 0===l?"none":l,h=t.returnPartialData,f=void 0!==h&&h,d=t.notifyOnNetworkStatusChange,p=void 0!==d&&d,m=t.context,g=void 0===m?{}:m,v=Object.assign({},t,{query:i,variables:o,fetchPolicy:u,errorPolicy:c,returnPartialData:f,notifyOnNetworkStatusChange:p,context:g}),y=function(e){return v.variables=e,r.fetchQueryByPolicy(s,v,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return b.cancel(e)}))}));var b=new kE(this.transform(v.query).hasClientExports?this.localState.addExportedVariables(v.query,v.variables,v.context).then(y):y(v.variables));return b.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"==typeof r?r.call(e,n):r)}(t)})),b},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,s=e.removeOptimistic,a=void 0===s?o?bE("refetchQueries"):void 0:s,u=e.onQueryUpdated,l=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){l.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var c=new Map;return n&&this.cache.batch({update:n,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof CS&&e.watcher.observableQuery;if(r){if(u){l.delete(r.queryId);var i=u(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&c.set(r,i),i}null!==u&&l.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),l.size&&l.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,s=e.diff;if(u){if(!s){var a=i.queryInfo;a.reset(),s=a.getDiff()}r=u(i,s,o)}u&&!0!==r||(r=i.refetch()),!1!==r&&c.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),c},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,o=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,u=t.errorPolicy,l=t.returnPartialData,c=t.context,h=t.notifyOnNetworkStatusChange,f=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var d=function(){return e.getDiff(o)},p=function(t,n){void 0===n&&(n=e.networkStatus||TE.loading);var s=t.result;!__DEV__||l||Fw(s,{})||ME(t.missing);var a=function(e){return bb.of(Iy({data:e,loading:xE(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:s},context:c,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):a(s)},m="no-cache"===s?0:n===TE.refetch&&"merge"!==a?1:2,g=function(){return r.getResultsFromLink(e,m,{variables:o,context:c,fetchPolicy:s,errorPolicy:u})},v=h&&"number"==typeof f&&f!==n&&xE(n);switch(s){default:case"cache-first":return(y=d()).complete?[p(y,e.markReady())]:l||v?[p(y),g()]:[g()];case"cache-and-network":var y;return(y=d()).complete||l||v?[p(y),g()]:[g()];case"cache-only":return[p(d(),e.markReady())];case"network-only":return v?[p(d()),g()]:[g()];case"no-cache":return v?[p(e.getDiff()),g()]:[g()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new CS(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Iy(Iy({},t),{clientAwareness:this.clientAwareness})},e}(),LS=!1;function MS(e,t){return Gb(e,t,t.variables&&{variables:Iy(Iy({},e.variables),t.variables)})}var VS=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,s=e.ssrMode,a=void 0!==s&&s,u=e.ssrForceFetchDelay,l=void 0===u?0:u,c=e.connectToDevTools,h=void 0===c?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:c,f=e.queryDeduplication,d=void 0===f||f,p=e.defaultOptions,m=e.assumeImmutableResults,g=void 0!==m&&m,v=e.resolvers,y=e.typeDefs,b=e.fragmentMatcher,w=e.name,E=e.version,S=e.link;if(S||(S=n?new Rw({uri:n,credentials:r,headers:i}):Qb.empty()),!o)throw __DEV__?new Ly("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new Ly(7);if(this.link=S,this.cache=o,this.disableNetworkFetches=a||l>0,this.queryDeduplication=d,this.defaultOptions=p||{},this.typeDefs=y,l&&setTimeout((function(){return t.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!LS&&__DEV__&&(LS=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var k=window.navigator,_=k&&k.userAgent,T=void 0;"string"==typeof _&&(_.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":_.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&My.log("Download the Apollo DevTools for a better development experience: "+T)}this.version="3.5.6",this.localState=new xS({cache:o,client:this,resolvers:v,fragmentMatcher:b}),this.queryManager=new PS({cache:this.cache,link:this.link,queryDeduplication:d,ssrMode:a,clientAwareness:{name:w,version:E},localState:this.localState,assumeImmutableResults:g,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=MS(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Iy(Iy({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=MS(this.defaultOptions.query,e)),__DEV__?My("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):My("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Iy(Iy({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=MS(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Kb(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&My.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),FS=function(){function e(){this.getFragmentDoc=wS(Eb)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Iy(Iy({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Iy(Iy({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=xy(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=xy(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return null==i?r:(n.writeQuery(Iy(Iy({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return null==i?r:(n.writeFragment(Iy(Iy({},e),{data:i})),i)}})},e}(),US=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function jS(e){return __DEV__&&(t=e,(n=new Set([t])).forEach((function(e){wb(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){wb(e[t])&&n.add(e[t])}))}))),e;var t,n}var BS=Object.prototype.hasOwnProperty;function zS(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var qS={dataIdFromObject:zS,addTypename:!0,resultCaching:!0,canonizeResults:!1};function WS(e){var t=e.canonizeResults;return void 0===t?qS.canonizeResults:t}var HS=/^[_a-z][_0-9a-z]*/i;function $S(e){var t=e.match(HS);return t?t[0]:e}function QS(e,t,n){return!!wb(t)&&(Array.isArray(t)?t.every((function(t){return QS(e,t,n)})):e.selections.every((function(e){if(Pb(e)&&mE(e,n)){var r=Rb(e);return BS.call(t,r)&&(!e.selectionSet||QS(e.selectionSet,t[r],n))}return!0})))}function KS(e){return wb(e)&&!Tb(e)&&!Array.isArray(e)}var GS=Object.create(null),YS=function(){return GS},JS=Object.create(null),XS=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return jS(Tb(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Tb(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return _b(e);if(Tb(e))return e;var r=n.policies.identify(e)[0];if(r){var i=_b(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return Iy({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),BS.call(this.data,e)){var n=this.data[e];if(n&&BS.call(n,t))return n[t]}return"__typename"===t&&BS.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof nk?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),BS.call(this.data,e)?this.data[e]:this instanceof nk?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;Tb(e)&&(e=e.__ref),Tb(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){__DEV__?My("string"==typeof n,"store.merge expects a string ID"):My("string"==typeof n,1);var s=new BE(ik).merge(i,o);if(this.data[n]=s,s!==i&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);i||(a.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==s[e]){a[e]=1;var t=$S(e);t===e||r.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||r instanceof nk||delete s[e]}})),!a.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,s=!0,a={DELETE:GS,INVALIDATE:JS,isReference:Tb,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||_b(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var l=$S(u),c=r[u];if(void 0!==c){var h="function"==typeof t?t:t[u]||t[l];if(h){var f=h===YS?GS:h(jS(c),Iy(Iy({},a),{fieldName:l,storeFieldName:u,storage:n.getStorage(e,u)}));f===JS?n.group.dirty(e,u):(f===GS&&(f=void 0),f!==c&&(i[u]=f,o=!0,c=f))}void 0!==c&&(s=!1)}})),o)return this.merge(e,i),s&&(this instanceof nk?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=YS,r):YS)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(BS.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof nk&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){BS.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&BS.call(e,n)||t.delete(n)})),e){var n=e.__META,r=xy(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof nk?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){BS.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof nk;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!BS.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){Tb(e)&&(t[e.__ref]=!0),wb(e)&&Object.keys(e).forEach((function(t){var n=e[t];wb(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),ZS=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?vS():null,this.keyMaker=new Yw(Jw)},e.prototype.depend=function(e,t){if(this.d){this.d(ek(e,t));var n=$S(t);n!==t&&this.d(ek(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(ek(e,t),"__exists"===t?"forget":"setDirty")},e}();function ek(e,t){return t+"#"+e}function tk(e,t){ok(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,s=e.call(this,n,new ZS(i))||this;return s.stump=new rk(s),s.storageTrie=new Yw(Jw),o&&s.replace(o),s}return Ty(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(XS||(XS={}));var nk=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return Ty(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){Fw(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Iy(Iy({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return BS.call(this.data,t)?Iy(Iy({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(XS),rk=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new ZS(t.group.caching,t.group))||this}return Ty(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(nk);function ik(e,t,n){var r=e[n],i=t[n];return Fw(r,i)?r:i}function ok(e){return!!(e instanceof XS&&e.group.caching)}function sk(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var ak=function(){function e(e){var t=this;this.knownResults=new(Jw?WeakMap:Map),this.config=Gb(e,{addTypename:!1!==e.addTypename,canonizeResults:WS(e)}),this.canon=e.canon||new eE,this.executeSelectionSet=wS((function(e){var n,r=e.context.canonizeResults,i=sk(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?Iy(Iy({},o),{result:t.canon.admit(o.result)}):o:(tk(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:sk,makeCacheKey:function(e,t,n,r){if(ok(n.store))return n.store.makeCacheKey(e,Tb(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=wS((function(e){return tk(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(ok(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new eE},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,s=e.returnPartialData,a=void 0===s||s,u=e.canonizeResults,l=void 0===u?this.config.canonizeResults:u,c=this.config.cache.policies;o=Iy(Iy({},zb(jb(n))),o);var h,f=_b(i),d=new BE,p=this.executeSelectionSet({selectionSet:Bb(n).selectionSet,objectOrReference:f,enclosingRef:f,context:{store:t,query:n,policies:c,variables:o,varString:tE(o),canonizeResults:l,fragmentMap:Sb(Ub(n)),merge:function(e,t){return d.merge(e,t)}}});if(p.missing&&(h=[new US(uk(p.missing),p.missing,n,o)],!a))throw h[0];return{result:p.result,complete:!h,missing:h}},e.prototype.isFresh=function(e,t,n,r){if(ok(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(Tb(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=o.variables,u=o.policies,l=o.store.getFieldValue(r,"__typename"),c={};function h(e,t){var n;return e.missing&&(s=o.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof l&&!u.rootIdsByTypename[l]&&(c={__typename:l});var f=new Set(n.selections);f.forEach((function(e){var n,d;if(mE(e,a))if(Pb(e)){var p=u.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=Rb(e);void 0===p?hE.added(e)||(s=o.merge(s,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(Tb(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Array.isArray(p)?p=h(t.executeSubSelectedArray({field:e,array:p,enclosingRef:i,context:o}),m):e.selectionSet?null!=p&&(p=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:p,enclosingRef:Tb(p)?p:i,context:o}),m)):o.canonizeResults&&(p=t.canon.pass(p)),void 0!==p&&(c=o.merge(c,((d={})[m]=p,d)))}else{var g=kb(e,o.fragmentMap);g&&u.fragmentMatches(g,l)&&g.selectionSet.selections.forEach(f.add,f)}}));var d={result:c,missing:s},p=o.canonizeResults?this.canon.admit(d):jS(d);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context;function a(e,n){var r;return e.missing&&(t=s.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map((function(e,t){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:s}),t):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:Tb(e)?e:o,context:s}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){wb(n)&&(__DEV__?My(!Tb(n),"Missing selection set for object of type ".concat(function(e,t){return Tb(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):My(!Tb(n),5),Object.values(n).forEach(r.add,r))}))}}(s.store,r,e),e)})),{result:s.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function uk(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var lk=Object.create(null);function ck(e){var t=JSON.stringify(e);return lk[t]||(lk[t]=Object.create(null))}function hk(e){var t=ck(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=dk(e,(function(e){var i=gk(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&BS.call(t,e[0])&&(i=gk(t,e,mk)),__DEV__?My(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):My(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function fk(e){var t=ck(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,s=dk(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return gk(t,e)}else{var s=n.slice(1);if(i&&BS.call(i,s)){var a=e.slice(0);return a[0]=s,gk(i,a)}}else if(r&&_E(r.directives)){var u=n.slice(1),l=r.directives.find((function(e){return e.name.value===u})),c=l&&Cb(l,i);return c&&gk(c,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(o+=":"+a),o})}function dk(e,t){var n=new BE;return pk(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var s=r.length-1;s>=0;--s)(i={})[r[s]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function pk(e){var t=ck(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){Array.isArray(t)?(pk(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Array.isArray(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function mk(e,t){return e[t]}function gk(e,t,n){return n=n||mk,vk(t.reduce((function e(t,r){return Array.isArray(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function vk(e){return wb(e)?Array.isArray(e)?e.map(vk):dk(Object.keys(e).sort(),(function(t){return gk(e,t)})):e}function yk(e){return void 0!==e.args?e.args:e.field?Cb(e.field,e.variables):null}Ob.setStringify(tE);var bk=function(){},wk=function(e,t){return t.fieldName},Ek=function(e,t,n){return(0,n.mergeObjects)(e,t)},Sk=function(e,t){return t},kk=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Iy({dataIdFromObject:zS},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,s=t&&t.storeObject||e,a=Iy(Iy({},t),{typename:i,storeObject:s,readField:t&&t.readField||function(){var e=Tk(arguments,s);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=i&&this.getTypePolicy(i),l=u&&u.keyFn||this.config.dataIdFromObject;l;){var c=l(e,a);if(!Array.isArray(c)){o=c;break}l=hk(c)}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,s=r.subscriptionType,a=xy(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),BS.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?Ek:!1===t?Sk:e.merge}s(r,t.merge),r.keyFn=!1===i?bk:Array.isArray(i)?hk(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var a=i.keyArgs,u=i.read,l=i.merge;r.keyFn=!1===a?wk:Array.isArray(a)?fk(a):"function"==typeof a?a:r.keyFn,"function"==typeof u&&(r.read=u),s(r,l)}r.read&&r.merge&&(r.keyFn=r.keyFn||wk)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?My(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):My(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(HS);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!BS.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=xy(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),a=[s],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},l=!(!n||!this.fuzzySubtypes.size),c=!1,h=0;h<a.length;++h){var f=a[h];if(f.has(o))return s.has(o)||(c&&__DEV__&&My.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),s.add(o)),!0;f.forEach(u),l&&h===a.length-1&&QS(e.selectionSet,n,r)&&(l=!1,c=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=yk(e);o;){var u=o(a,s);if(!Array.isArray(u)){t=u||r;break}o=fk(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return Ib(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return Ib(r,n,i,t)}))),Ob(e.name.value,r,n)}(e.field,e.variables):Ob(r,yk(e))),!1===t?r:r===$S(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=$S(i),s=t.store.getFieldValue(n,i),a=this.getFieldPolicy(e.typename,o,!1),u=a&&a.read;if(u){var l=_k(this,n,e,t,t.store.getStorage(Tb(n)?n.__ref:n,i));return ES.withValue(this.cache,u,[s,l])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,s=n.typename,a=n.merge;return a===Ek?Ik(r.store)(e,t):a===Sk?t:(r.overwrite&&(e=void 0),a(e,t,_k(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function _k(e,t,n,r,i){var o=e.getStoreFieldName(n),s=$S(o),a=n.variables||r.variables,u=r.store,l=u.toReference,c=u.canRead;return{args:yk(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:Tb,toReference:l,storage:i,cache:e.cache,canRead:c,readField:function(){return e.readField(Tk(arguments,t,r),r)},mergeObjects:Ik(r.store)}}function Tk(e,t,n){var r,i,o,s=e[0],a=e[1],u=e.length;return"string"==typeof s?r={fieldName:s,from:u>1?a:t}:(r=Iy({},s),BS.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&My.warn("Undefined 'from' passed to readField with arguments ".concat((i=Array.from(e),o=bE("stringifyForDisplay"),JSON.stringify(i,(function(e,t){return void 0===t?o:t})).split(JSON.stringify(o)).join("<undefined>")))),void 0===r.variables&&(r.variables=n),r}function Ik(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new Ly("Cannot automatically merge arrays"):new Ly(4);if(wb(t)&&wb(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(Tb(t)&&KS(n))return e.merge(t.__ref,n),t;if(KS(t)&&Tb(n))return e.merge(t,n.__ref),n;if(KS(t)&&KS(n))return Iy(Iy({},t),n)}return n}}function xk(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:Iy(Iy({},e),{clientOnly:t,deferred:n})),i}var Ok=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,s=t.variables,a=t.overwrite,u=Vb(r),l=new BE;s=Iy(Iy({},zb(u)),s);var c={store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:s,varString:tE(s),fragmentMap:Sb(Ub(r)),overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},h=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:c});if(!Tb(h))throw __DEV__?new Ly("Could not identify object ".concat(JSON.stringify(i))):new Ly(6);return c.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,s=t.fieldNodeSet,a=_b(r);if(o&&o.map.size){var u=n.applyMerges(o,a,i,c);if(Tb(u))return;i=u}if(__DEV__&&!c.overwrite){var l=Object.create(null);s.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)})),Object.keys(i).forEach((function(e){(function(e){return!0===l[$S(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var s=i(t);if(s&&!Tb(o)&&!Fw(o,s)&&!Object.keys(o).every((function(e){return void 0!==r.getFieldValue(s,e)}))){var a=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=$S(n),l="".concat(a,".").concat(u);if(!Pk.has(l)){Pk.add(l);var c=[];Array.isArray(o)||Array.isArray(s)||[o,s].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||c.includes(t)||c.push(t)})),__DEV__&&My.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(a," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(s).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(a,i,e,c.store)}))}e.merge(r,i)})),e.retain(h.__ref),h},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,s=e.mergeTree,a=this.cache.policies,u=Object.create(null),l=n&&a.rootTypenamesById[n]||Db(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof l&&(u.__typename=l);var c=function(){var e=Tk(arguments,u,o.variables);if(Tb(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=a.readField(Iy(Iy({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return a.readField(e,o)},h=new Set;this.flattenFields(i,r,o,l).forEach((function(e,n){var i,o=Rb(n),f=r[o];if(h.add(n),void 0!==f){var d=a.getStoreFieldName({typename:l,fieldName:n.name.value,field:n,variables:e.variables}),p=Nk(s,d),m=t.processFieldValue(f,n,n.selectionSet?xk(e,!1,!1):e,p),g=void 0;n.selectionSet&&(Tb(m)||KS(m))&&(g=c("__typename",m));var v=a.getMergeFunction(l,n.name.value,g);v?p.info={field:n,typename:l,merge:v}:Dk(s,d),u=e.merge(u,((i={})[d]=m,i))}else!__DEV__||e.clientOnly||e.deferred||hE.added(n)||a.getReadFunction(l,n.name.value)||__DEV__&&My.error("Missing field '".concat(Rb(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var f=a.identify(r,{typename:l,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:u,readField:c}),d=f[0],p=f[1];n=n||d,p&&(u=o.merge(u,p))}catch(e){if(!n)throw e}if("string"==typeof n){var m=_b(n),g=o.written[n]||(o.written[n]=[]);if(g.indexOf(i)>=0)return m;if(g.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m;var v=o.incomingById.get(n);return v?(v.storeObject=o.merge(v.storeObject,u),v.mergeTree=Ck(v.mergeTree,s),h.forEach((function(e){return v.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:u,mergeTree:Rk(s)?void 0:s,fieldNodeSet:h}),m}return u},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,n,Nk(r,o));return Dk(r,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?AE(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=Db(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,s=new Yw(!1);return function e(a,u){var l=s.lookup(a,u.clientOnly,u.deferred);l.visited||(l.visited=!0,a.selections.forEach((function(s){if(mE(s,n.variables)){var a=u.clientOnly,l=u.deferred;if(a&&l||!_E(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=Cb(e,n.variables);r&&!1===r.if||(l=!0)}})),Pb(s)){var c=i.get(s);c&&(a=a&&c.clientOnly,l=l&&c.deferred),i.set(s,xk(n,a,l))}else{var h=kb(s,n.fragmentMap);h&&o.fragmentMatches(h,r,t,n.variables)&&e(h.selectionSet,xk(n,a,l))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var o,s=this;if(e.map.size&&!Tb(n)){var a,u=Array.isArray(n)||!Tb(t)&&!KS(t)?void 0:t,l=n;u&&!i&&(i=[Tb(u)?u.__ref:u]);var c=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=c(u,t),o=c(l,t);if(void 0!==o){i&&i.push(t);var h=s.applyMerges(e,n,o,r,i);h!==o&&(a=a||new Map).set(t,h),i&&My(i.pop()===t)}})),a&&(n=Array.isArray(l)?l.slice(0):Iy({},l),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),Ak=[];function Nk(e,t){var n=e.map;return n.has(t)||n.set(t,Ak.pop()||{map:new Map}),n.get(t)}function Ck(e,t){if(e===t||!t||Rk(t))return e;if(!e||Rk(e))return t;var n=e.info&&t.info?Iy(Iy({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,Ck(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){i.map.set(n,Ck(t.map.get(n),e.map.get(n)))}))}return i}function Rk(e){return!e||!(e.info||e.map.size)}function Dk(e,t){var n=e.map,r=n.get(t);r&&Rk(r)&&(Ak.push(r),n.delete(t))}var Pk=new Set,Lk=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=TS,n.txCount=0,n.config=function(e){return Gb(qS,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new kk({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return Ty(t,e),t.prototype.init=function(){var e=this.data=new XS.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new Ok(this,this.storeReader=new ak({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:WS(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=wS((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(ok(n)){var r=e.optimistic,i=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,tE({optimistic:r,rootId:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(Iy(Iy({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof US)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(BS.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(Iy(Iy({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||kS(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&_S(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){tE.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(Tb(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&My.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(BS.call(e,"id"))return!1;e=Iy(Iy({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),tE.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),_S(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,o=void 0===i||i,s=e.removeOptimistic,a=e.onWatchUpdated,u=function(e){var i=n,o=i.data,s=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=s}},l=new Set;return a&&!this.txCount&&this.broadcastWatches(Iy(Iy({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&l.size?(this.broadcastWatches(Iy(Iy({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&l.delete(e),n}})),l.size&&l.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=hE(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Fw(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(FS);_a("firebase","9.6.1","app");const Mk=["access_token","room"],Vk=is({key:"getHashParams",default:new Map,effects_UNSTABLE:[({setSelf:e})=>{const t=()=>{if(window.location.hash.length){const t=window.location.hash.slice(1),n=new Map;t.split("&").map((e=>{const t=e.split("=")[0],r=e.split("=")[1];Mk.includes(t)&&n.set(t,r)})),e(n),history.pushState("",document.title,window.location.origin+window.location.pathname)}};return window.addEventListener("hashchange",t,!1),t(),()=>window.removeEventListener("hashchange",t,!1)}]}),Fk=os({key:"getRoomId",get:({get:e})=>e(Vk).get("room")||crypto.getRandomValues(new Uint32Array(2)).join("")});const Uk=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},jk=new zs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bk=new la("@firebase/auth");function zk(e,...t){Bk.logLevel<=ra.ERROR&&Bk.error(`Auth (9.6.1): ${e}`,...t)}function qk(e,...t){throw Hk(e,...t)}function Wk(e,...t){return Hk(e,...t)}function Hk(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return jk.create(e,...t)}function $k(e,t,...n){if(!e)throw Hk(t,...n)}function Qk(e){const t="INTERNAL ASSERTION FAILED: "+e;throw zk(t),new Error(t)}function Kk(e,t){e||Qk(t)}const Gk=new Map;function Yk(e){Kk(e instanceof Function,"Expected a class definition");let t=Gk.get(e);return t?(Kk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gk.set(e,t),t)}function Jk(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Xk(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Zk{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kk(t>e,"Short delay should be less than long delay!"),this.isMobile=Vs()||Us()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Xk()||"https:"===Xk()||Fs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function e_(e,t){Kk(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class t_{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},r_=new Zk(3e4,6e4);function i_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function o_(e,t,n,r,i={}){return s_(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=$s(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),t_.fetch()(u_(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function s_(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},n_),t);try{const t=new l_(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw c_(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw c_(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw c_(e,"email-already-in-use",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},Uk()),{[t]:n});return new zs("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);qk(e,a)}}catch(t){if(t instanceof Bs)throw t;qk(e,"network-request-failed")}}async function a_(e,t,n,r,i={}){const o=await o_(e,t,n,r,i);return"mfaPendingCredential"in o&&qk(e,"multi-factor-auth-required",{_serverResponse:o}),o}function u_(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?e_(e.config,i):`${e.config.apiScheme}://${i}`}class l_{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Wk(this.auth,"timeout"))),r_.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function c_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wk(e,t,r);return i.customData._tokenResponse=n,i}function h_(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function f_(e){return 1e3*Number(e)}function d_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return zk("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return Ps.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(zk("Failed to decode base64 JWT payload"),null)}catch(e){return zk("Caught error parsing JWT payload as JSON",e),null}}async function p_(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Bs&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class m_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class g_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=h_(this.lastLoginAt),this.creationTime=h_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function v_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await p_(e,async function(e,t){return o_(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));$k(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=xy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=e.providerData,l=s,[...u.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var u,l;const c=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),f=!!c&&h,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new g_(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,d)}class y_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$k(e.idToken,"internal-error"),$k(void 0!==e.idToken,"internal-error"),$k(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=d_(e);return $k(t,"internal-error"),$k(void 0!==t.exp,"internal-error"),$k(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return $k(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await s_(e,{},(async()=>{const n=$s({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=u_(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",t_.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new y_;return n&&($k("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&($k("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&($k("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new y_,this.toJSON())}_performRefresh(){return Qk("not implemented")}}function b_(e,t){$k("string"==typeof e||void 0===e,"internal-error",{appName:t})}class w_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=xy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new m_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new g_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await p_(this,this.stsTokenManager.getToken(this.auth,e));return $k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Js(e),r=await n.getIdToken(t),i=d_(r);$k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:h_(f_(i.auth_time)),issuedAtTime:h_(f_(i.iat)),expirationTime:h_(f_(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Js(e);await v_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&($k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new w_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){$k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await v_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await p_(this,async function(e,t){return o_(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;$k(y&&S,e,"internal-error");const k=y_.fromJSON(this.name,S);$k("string"==typeof y,e,"internal-error"),b_(c,e.name),b_(h,e.name),$k("boolean"==typeof b,e,"internal-error"),$k("boolean"==typeof w,e,"internal-error"),b_(f,e.name),b_(d,e.name),b_(p,e.name),b_(m,e.name),b_(g,e.name),b_(v,e.name);const _=new w_({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:d,phoneNumber:f,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(_.providerData=E.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t,n=!1){const r=new y_;r.updateFromServerResponse(t);const i=new w_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await v_(i),i}}class E_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}E_.type="NONE";const S_=E_;function k_(e,t,n){return`firebase:${e}:${t}:${n}`}class __{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=k_(this.userKey,r.apiKey,i),this.fullPersistenceKey=k_("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?w_._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new __(Yk(S_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Yk(S_);const o=k_(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=w_._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new __(i,e,n)):new __(i,e,n)}}function T_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(I_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(C_(t))return"Blackberry";if(R_(t))return"Webos";if(x_(t))return"Safari";if((t.includes("chrome/")||O_(t))&&!t.includes("edge/"))return"Chrome";if(N_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function I_(e=Ms()){return/firefox\//i.test(e)}function x_(e=Ms()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function O_(e=Ms()){return/crios\//i.test(e)}function A_(e=Ms()){return/iemobile/i.test(e)}function N_(e=Ms()){return/android/i.test(e)}function C_(e=Ms()){return/blackberry/i.test(e)}function R_(e=Ms()){return/webos/i.test(e)}function D_(e=Ms()){return/iphone|ipad|ipod/i.test(e)}function P_(e=Ms()){return D_(e)||N_(e)||R_(e)||C_(e)||/windows phone/i.test(e)||A_(e)}function L_(e,t=[]){let n;switch(e){case"Browser":n=T_(Ms());break;case"Worker":n=`${T_(Ms())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.1/${t.length?t.join(","):"FirebaseCore-web"}`}class M_{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yk(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await __.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?($k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await v_(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Js(e):null;return t&&$k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&$k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Yk(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yk(e)||this._popupRedirectResolver;$k(t,this,"argument-error"),this.redirectPersistenceManager=await __.create(this,[Yk(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return $k(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function V_(e){return Js(e)}class F_{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Gs(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return $k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class U_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qk("not implemented")}_getIdTokenResponse(e){return Qk("not implemented")}_linkToIdToken(e,t){return Qk("not implemented")}_getReauthenticationResolver(e){return Qk("not implemented")}}class j_ extends U_{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new j_(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new j_(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return a_(e,"POST","/v1/accounts:signInWithPassword",i_(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return a_(e,"POST","/v1/accounts:signInWithEmailLink",i_(e,t))}(e,{email:this._email,oobCode:this._password});default:qk(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return o_(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return a_(e,"POST","/v1/accounts:signInWithEmailLink",i_(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:qk(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function B_(e,t){return a_(e,"POST","/v1/accounts:signInWithIdp",i_(e,t))}class z_ extends U_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new z_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qk("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=xy(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new z_(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return B_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,B_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,B_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$s(t)}return e}}const q_={USER_NOT_FOUND:"user-not-found"};class W_ extends U_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new W_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new W_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return a_(e,"POST","/v1/accounts:signInWithPhoneNumber",i_(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await a_(e,"POST","/v1/accounts:signInWithPhoneNumber",i_(e,t));if(n.temporaryProof)throw c_(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return a_(e,"POST","/v1/accounts:signInWithPhoneNumber",i_(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),q_)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new W_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class H_{constructor(e){var t,n,r,i,o,s;const a=Qs(Ks(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);$k(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=Qs(Ks(e)).link,n=t?Qs(Ks(t)).deep_link_id:null,r=Qs(Ks(e)).deep_link_id;return(r?Qs(Ks(r)).link:null)||r||n||t||e}(e);try{return new H_(t)}catch(e){return null}}}class $_{constructor(){this.providerId=$_.PROVIDER_ID}static credential(e,t){return j_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=H_.parseLink(t);return $k(n,"argument-error"),j_._fromEmailAndCode(e,n.code,n.tenantId)}}$_.PROVIDER_ID="password",$_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Q_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class K_ extends Q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class G_ extends K_{constructor(){super("facebook.com")}static credential(e){return z_._fromParams({providerId:G_.PROVIDER_ID,signInMethod:G_.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return G_.credentialFromTaggedObject(e)}static credentialFromError(e){return G_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return G_.credential(e.oauthAccessToken)}catch(e){return null}}}G_.FACEBOOK_SIGN_IN_METHOD="facebook.com",G_.PROVIDER_ID="facebook.com";class Y_ extends K_{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return z_._fromParams({providerId:Y_.PROVIDER_ID,signInMethod:Y_.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Y_.credentialFromTaggedObject(e)}static credentialFromError(e){return Y_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Y_.credential(t,n)}catch(e){return null}}}Y_.GOOGLE_SIGN_IN_METHOD="google.com",Y_.PROVIDER_ID="google.com";class J_ extends K_{constructor(){super("github.com")}static credential(e){return z_._fromParams({providerId:J_.PROVIDER_ID,signInMethod:J_.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return J_.credentialFromTaggedObject(e)}static credentialFromError(e){return J_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return J_.credential(e.oauthAccessToken)}catch(e){return null}}}J_.GITHUB_SIGN_IN_METHOD="github.com",J_.PROVIDER_ID="github.com";class X_ extends K_{constructor(){super("twitter.com")}static credential(e,t){return z_._fromParams({providerId:X_.PROVIDER_ID,signInMethod:X_.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return X_.credentialFromTaggedObject(e)}static credentialFromError(e){return X_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return X_.credential(t,n)}catch(e){return null}}}X_.TWITTER_SIGN_IN_METHOD="twitter.com",X_.PROVIDER_ID="twitter.com";class Z_{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await w_._fromIdTokenResponse(e,n,r),o=eT(n);return new Z_({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=eT(n);return new Z_({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function eT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tT extends Bs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tT.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tT(e,t,n,r)}}function nT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw tT._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const rT="__sak";class iT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rT,"1"),this.storage.removeItem(rT),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class oT extends iT{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ms();return x_(e)||D_(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=P_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);js()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}oT.type="LOCAL";const sT=oT;class aT extends iT{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aT.type="SESSION";const uT=aT;class lT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new lT(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function cT(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}lT.receivers=[];class hT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=cT("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function fT(){return window}function dT(){return void 0!==fT().WorkerGlobalScope&&"function"==typeof fT().importScripts}const pT="firebaseLocalStorageDb",mT="firebaseLocalStorage",gT="fbase_key";class vT{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function yT(e,t){return e.transaction([mT],t?"readwrite":"readonly").objectStore(mT)}function bT(){const e=indexedDB.open(pT,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(mT,{keyPath:gT})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(mT)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(pT);return new vT(e).toPromise()}(),t(await bT()))}))}))}async function wT(e,t,n){const r=yT(e,!0).put({[gT]:t,value:n});return new vT(r).toPromise()}function ET(e,t){const n=yT(e,!0).delete(t);return new vT(n).toPromise()}class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await bT()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lT._getInstance(dT()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hT(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bT();return await wT(e,rT,"1"),await ET(e,rT),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>wT(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=yT(e,!1).get(t),r=await new vT(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ET(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=yT(e,!1).getAll();return new vT(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ST.type="LOCAL";const kT=ST;function _T(e){return`__${e}${Math.floor(1e6*Math.random())}`}_T("rcb"),new Zk(3e4,6e4);class TT{constructor(e){this.providerId=TT.PROVIDER_ID,this.auth=V_(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if($k("string"==typeof i,e,"argument-error"),$k("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){$k("enroll"===t.type,e,"internal-error");const n=await function(e,t){return o_(e,"POST","/v2/accounts/mfaEnrollment:start",i_(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{$k("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;$k(n,e,"missing-multi-factor-info");const s=await function(e,t){return o_(e,"POST","/v2/accounts/mfaSignIn:start",i_(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return o_(e,"POST","/v1/accounts:sendVerificationCode",i_(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,Js(t))}static credential(e,t){return W_._fromVerification(e,t)}static credentialFromResult(e){const t=e;return TT.credentialFromTaggedObject(t)}static credentialFromError(e){return TT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?W_._fromTokenResponse(t,n):null}}TT.PROVIDER_ID="phone",TT.PHONE_SIGN_IN_METHOD="phone";class IT extends U_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return B_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return B_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return B_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xT(e){return async function(e,t,n=!1){const r="signIn",i=await nT(e,r,t),o=await Z_._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new IT(e),e.bypassAuthState)}function OT(e){const{auth:t,user:n}=e;return $k(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await p_(e,nT(r,i,t,e),n);$k(o.idToken,r,"internal-error");const s=d_(o.idToken);$k(s,r,"internal-error");const{sub:a}=s;return $k(e.uid===a,r,"user-mismatch"),Z_._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&qk(r,"user-mismatch"),e}}(n,new IT(e),e.bypassAuthState)}async function AT(e){const{auth:t,user:n}=e;return $k(n,t,"internal-error"),async function(e,t,n=!1){const r=await p_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Z_._forOperation(e,"link",r)}(n,new IT(e),e.bypassAuthState)}class NT{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xT;case"linkViaPopup":case"linkViaRedirect":return AT;case"reauthViaPopup":case"reauthViaRedirect":return OT;default:qk(this.auth,"internal-error")}}resolve(e){Kk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const CT=new Zk(2e3,1e4);class RT extends NT{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,RT.currentPopupAction&&RT.currentPopupAction.cancel(),RT.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $k(e,this.auth,"internal-error"),e}async onExecution(){Kk(1===this.filter.length,"Popup operations only handle one event");const e=cT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Wk(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Wk(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,RT.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Wk(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,CT.get())};e()}}RT.currentPopupAction=null;const DT=new Map;class PT extends NT{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=DT.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return k_("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return Yk(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}DT.set(this.auth._key(),e)}return this.bypassAuthState||DT.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function LT(e,t,n=!1){const r=V_(e),i=function(e,t){return t?Yk(t):($k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new PT(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class MT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!FT(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Wk(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(VT(e))}saveEventToCache(e){this.cachedEventUids.add(VT(e)),this.lastProcessedEventTime=Date.now()}}function VT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function FT({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const UT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jT=/^https?/;function BT(e){const t=Jk(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!jT.test(n))return!1;if(UT.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const zT=new Zk(3e4,6e4);function qT(){const e=fT().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let WT=null;function HT(e){return WT=WT||function(e){return new Promise(((t,n)=>{var r,i,o,s;function a(){qT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qT(),n(Wk(e,"network-request-failed"))},timeout:zT.get()})}if(null===(i=null===(r=fT().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=fT().gapi)||void 0===o?void 0:o.load)){const t=_T("iframefcb");return fT()[t]=()=>{gapi.load?a():n(Wk(e,"network-request-failed"))},(s=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",s),n.onload=e,n.onerror=e=>{const n=Wk("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}a()}})).catch((e=>{throw WT=null,e}))}(e),WT}const $T=new Zk(5e3,15e3),QT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GT(e){const t=e.config;$k(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?e_(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Sa},i=KT.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$s(r).slice(1)}`}const YT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function XT(e,t,n,r,i,o){$k(e.config.authDomain,e,"auth-domain-config-required"),$k(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(t instanceof Q_){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof K_){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?e_(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${$s(a).slice(1)}`}const ZT="webStorageSupport",eI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uT,this._completeRedirectFn=LT}async _openPopup(e,t,n,r){var i;return Kk(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},YT),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ms().toLowerCase();n&&(a=O_(l)?"_blank":n),I_(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=Ms()){var t;return D_(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new JT(null);const h=window.open(t||"",a,c);$k(h,e,"popup-blocked");try{h.focus()}catch(e){}return new JT(h)}(e,XT(e,t,n,Jk(),r),cT())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=XT(e,t,n,Jk(),r),fT().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Kk(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await HT(e),n=fT().gapi;return $k(n,e,"internal-error"),t.open({where:document.body,url:GT(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QT,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Wk(e,"network-request-failed"),o=fT().setTimeout((()=>{r(i)}),$T.get());function s(){fT().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new MT(e);return t.register("authEvent",(t=>($k(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ZT,{type:ZT},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),qk(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return o_(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(BT(e))return}catch(e){}qk(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P_()||x_()||D_()}};var tI,nI="@firebase/auth",rI="0.19.4";class iI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}tI="Browser",ya(new Xs("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{$k(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),$k(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:tI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L_(tI)},o=new M_(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yk);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ya(new Xs("auth-internal",(e=>{return t=V_(e.getProvider("auth").getImmediate()),new iI(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),_a(nI,rI,void 0),_a(nI,rI,"esm2017");const oI="twitch-token",sI=os({key:"getTwitchToken",get:({get:e})=>{const t=e(Vk).get("access_token"),n=window.localStorage.getItem(oI);return t?(t!==n&&window.localStorage.setItem(oI,t),t):null!=n?n:""},set:({},e)=>{"string"==typeof e?window.localStorage.setItem(oI,e):window.localStorage.removeItem(oI)}}),aI=os({key:"getFirebaseToken",get:async({get:e})=>{const t=e(sI),n=new URL("https://europe-west1-qui-est-ce-3621d.cloudfunctions.net/generateToken");n.searchParams.append("twitch",t);const r=await fetch(n.toString());if(r.status<200||r.status>299)throw new Error;return r.text()}}),uI="9c0mrfyuyvw3ylkw3qumrtueb50eu9",lI=as({key:"twitchApi",get:e=>async({get:t})=>{const n=t(sI),{path:r}=e,i=await fetch(`https://api.twitch.tv/helix/${r}`,{headers:{Authorization:`Bearer ${n}`,"Client-Id":uI}});if(i.status<200||i.status>299)throw new Error;return i.json()}}),cI=os({key:"getCurrentUser",get:async({get:e})=>{const t=function(e=ka()){const t=ba(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=ba(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Ws(n.getOptions(),null!=t?t:{}))return e;qk(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:eI,persistence:[kT,sT,uT]})}(gI),n=(await e(lI({path:"users"}))).data[0];let r=t.currentUser;if(!r){const n=e(aI);r=(await async function(e,t){const n=V_(e),r=await async function(e,t){return a_(e,"POST","/v1/accounts:signInWithCustomToken",i_(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Z_._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(t,n)).user}return r.displayName===n.display_name&&r.photoURL===n.profile_image_url||async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=Js(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await p_(r,async function(e,t){return o_(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(r,{displayName:n.display_name,photoURL:n.profile_image_url}),r},dangerouslyAllowMutability:!0}),hI=is({key:"getPlayers",default:[]}),fI=os({key:"getPlayersOnline",get:({get:e})=>e(hI).filter((e=>e.online))}),dI=os({key:"getMe",get:({get:e})=>e(hI).find((t=>t.id===e(cI).uid))}),pI=os({key:"getOpponent",get:({get:e})=>e(hI).find((t=>t.id!==e(cI).uid))}),mI=new VS({uri:"https://api-eu-central-1.graphcms.com/v2/ckx8muqxk0nxy01z0amvy5bqo/master",cache:new Lk}),gI=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw wa.create("bad-app-name",{appName:String(r)});const i=ma.get(r);if(i){if(Ws(e,i.options)&&Ws(n,i.config))return i;throw wa.create("duplicate-app",{appName:r})}const o=new ta(r);for(const e of ga.values())o.addComponent(e);const s=new Ea(e,n,o);return ma.set(r,s),s}({apiKey:"AIzaSyA8_Ap7wETmcIjgZncUn-3mPgmSGpGMiFQ",appId:"1:465604282379:web:d723f1bd0ceba84b23df0e",projectId:"qui-est-ce-3621d"}),vI=function(e=ka()){return ba(e,"firestore").getImmediate()}(gI),yI=os({key:"getFirestore",get:({get:e})=>{const t=e(Fk),n=e(cI),r=e(pI),i={room:`rooms/${t}`,users:`rooms/${t}/users`,me:`rooms/${t}/users/${n.uid}`};return r&&(i.opponent=`rooms/${t}/users/${r.id}`),i}}),bI=()=>{const e=us(Fk),t=us(yI),n=us(cI),i=cs(hI);return(0,r.useEffect)((()=>{Ey(Uv(vI,t.me),{id:n.uid,name:n.displayName,photoURL:n.photoURL,online:!0},{merge:!0});const e=function(e,t,...n){if(e=Js(e),Av("collection","path",t),e instanceof Lv){const r=pf.fromString(t,...n);return Cv(r),new Fv(e,null,r)}{if(!(e instanceof Mv||e instanceof Fv))throw new Qh($h.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(pf.fromString(t,...n));return Cv(r),new Fv(e.firestore,null,r)}}(vI,t.users),r=Sy(e,(e=>{const t=e.docs.map((e=>e.data()));i(t)}));return()=>r()}),[e,n]),(0,r.useEffect)((()=>{const e=()=>{Ey(Uv(vI,t.me),{online:!1},{merge:!0})};return window.addEventListener("beforeunload",e,!1),()=>window.removeEventListener("beforeunload",e,!1)}),[]),null};function wI(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const EI=/\r\n|[\n\r]/g;function SI(e,t){let n=0,r=1;for(const i of e.body.matchAll(EI)){if("number"==typeof i.index||wI(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function kI(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,l=`${e.name}:${s}:${u}\n`,c=r.split(/\r\n|[\n\r]/g),h=c[i];if(h.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let e=0;e<h.length;e+=80)n.push(h.slice(e,e+80));return l+_I([[`${s} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return l+_I([[s-1+" |",c[i-1]],[`${s} |`,h],["|","^".padStart(u)],[`${s+1} |`,c[i+1]]])}function _I(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class TI extends Error{constructor(e,t,n,r,i,o,s){var a,u,l;super(e),this.name="GraphQLError",this.path=null!=i?i:void 0,this.originalError=null!=o?o:void 0,this.nodes=II(Array.isArray(t)?t:t?[t]:void 0);const c=II(null===(a=this.nodes)||void 0===a?void 0:a.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=n?n:null==c||null===(u=c[0])||void 0===u?void 0:u.source,this.positions=null!=r?r:null==c?void 0:c.map((e=>e.start)),this.locations=r&&n?r.map((e=>SI(n,e))):null==c?void 0:c.map((e=>SI(e.source,e.start)));const h="object"==typeof(f=null==o?void 0:o.extensions)&&null!==f?null==o?void 0:o.extensions:void 0;var f;this.extensions=null!==(l=null!=s?s:h)&&void 0!==l?l:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,TI):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+kI((t=n.loc).source,SI(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+kI(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function II(e){return void 0===e||0===e.length?void 0:e}function xI(e,t,n){return new TI(`Syntax Error: ${n}`,void 0,e,[t])}let OI,AI;var NI;(NI=OI||(OI={})).SOF="<SOF>",NI.EOF="<EOF>",NI.BANG="!",NI.DOLLAR="$",NI.AMP="&",NI.PAREN_L="(",NI.PAREN_R=")",NI.SPREAD="...",NI.COLON=":",NI.EQUALS="=",NI.AT="@",NI.BRACKET_L="[",NI.BRACKET_R="]",NI.BRACE_L="{",NI.PIPE="|",NI.BRACE_R="}",NI.NAME="Name",NI.INT="Int",NI.FLOAT="Float",NI.STRING="String",NI.BLOCK_STRING="BlockString",NI.COMMENT="Comment",function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(AI||(AI={}));class CI{constructor(e){const t=new Jb(OI.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==OI.EOF)do{if(e.next)e=e.next;else{const t=FI(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===OI.COMMENT);return e}}function RI(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function DI(e,t){return PI(e.charCodeAt(t))&&LI(e.charCodeAt(t+1))}function PI(e){return e>=55296&&e<=56319}function LI(e){return e>=56320&&e<=57343}function MI(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return OI.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function VI(e,t,n,r,i){const o=e.line,s=1+n-e.lineStart;return new Jb(t,n,r,o,s,i)}function FI(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return UI(e,i);case 33:return VI(e,OI.BANG,i,i+1);case 36:return VI(e,OI.DOLLAR,i,i+1);case 38:return VI(e,OI.AMP,i,i+1);case 40:return VI(e,OI.PAREN_L,i,i+1);case 41:return VI(e,OI.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return VI(e,OI.SPREAD,i,i+3);break;case 58:return VI(e,OI.COLON,i,i+1);case 61:return VI(e,OI.EQUALS,i,i+1);case 64:return VI(e,OI.AT,i,i+1);case 91:return VI(e,OI.BRACKET_L,i,i+1);case 93:return VI(e,OI.BRACKET_R,i,i+1);case 123:return VI(e,OI.BRACE_L,i,i+1);case 124:return VI(e,OI.PIPE,i,i+1);case 125:return VI(e,OI.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?KI(e,i):zI(e,i)}if(hw(t)||45===t)return jI(e,i,t);if(dw(t))return GI(e,i);throw xI(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":RI(t)||DI(n,i)?`Unexpected character: ${MI(e,i)}.`:`Invalid character: ${MI(e,i)}.`)}return VI(e,OI.EOF,r,r)}function UI(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(RI(e))++i;else{if(!DI(n,i))break;i+=2}}return VI(e,OI.COMMENT,t,i,n.slice(t+1,i))}function jI(e,t,n){const r=e.source.body;let i=t,o=n,s=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),hw(o))throw xI(e.source,i,`Invalid number, unexpected digit after 0: ${MI(e,i)}.`)}else i=BI(e,i,o),o=r.charCodeAt(i);if(46===o&&(s=!0,o=r.charCodeAt(++i),i=BI(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(s=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=BI(e,i,o),o=r.charCodeAt(i)),46===o||dw(o))throw xI(e.source,i,`Invalid number, expected digit but got: ${MI(e,i)}.`);return VI(e,s?OI.FLOAT:OI.INT,t,i,r.slice(t,i))}function BI(e,t,n){if(!hw(n))throw xI(e.source,t,`Invalid number, expected digit but got: ${MI(e,t)}.`);const r=e.source.body;let i=t+1;for(;hw(r.charCodeAt(i));)++i;return i}function zI(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,s="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return s+=n.slice(o,i),VI(e,OI.STRING,t,i+1,s);if(92!==r){if(10===r||13===r)break;if(RI(r))++i;else{if(!DI(n,i))throw xI(e.source,i,`Invalid character within String: ${MI(e,i)}.`);i+=2}}else{s+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?qI(e,i):WI(e,i):QI(e,i);s+=t.value,i+=t.size,o=i}}throw xI(e.source,i,"Unterminated string.")}function qI(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!RI(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|$I(e),r<0)break}throw xI(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function WI(e,t){const n=e.source.body,r=HI(n,t+2);if(RI(r))return{value:String.fromCodePoint(r),size:6};if(PI(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=HI(n,t+8);if(LI(e))return{value:String.fromCodePoint(r,e),size:12}}throw xI(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function HI(e,t){return $I(e.charCodeAt(t))<<12|$I(e.charCodeAt(t+1))<<8|$I(e.charCodeAt(t+2))<<4|$I(e.charCodeAt(t+3))}function $I(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function QI(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw xI(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function KI(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,s=o,a="";const u=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){a+=n.slice(s,o),u.push(a);const r=VI(e,OI.BLOCK_STRING,t,o+3,pw(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(RI(r))++o;else{if(!DI(n,o))throw xI(e.source,o,`Invalid character within String: ${MI(e,o)}.`);o+=2}else a+=n.slice(s,o),u.push(a),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;else a+=n.slice(s,o),s=o+1,o+=4}throw xI(e.source,o,"Unterminated string.")}function GI(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r&&(fw(o=n.charCodeAt(i))||hw(o)||95===o);)++i;var o;return VI(e,OI.NAME,t,i,n.slice(t,i))}class YI{constructor(e,t){const n=function(e){return e instanceof Xy}(e)?e:new Xy(e);this._lexer=new CI(n),this._options=t}parseName(){const e=this.expectToken(OI.NAME);return this.node(e,{kind:nw.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:nw.DOCUMENT,definitions:this.many(OI.SOF,this.parseDefinition,OI.EOF)})}parseDefinition(){if(this.peek(OI.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===OI.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw xI(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(OI.BRACE_L))return this.node(e,{kind:nw.OPERATION_DEFINITION,operation:tw.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(OI.NAME)&&(n=this.parseName()),this.node(e,{kind:nw.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(OI.NAME);switch(e.value){case"query":return tw.QUERY;case"mutation":return tw.MUTATION;case"subscription":return tw.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(OI.PAREN_L,this.parseVariableDefinition,OI.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:nw.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(OI.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(OI.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(OI.DOLLAR),this.node(e,{kind:nw.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:nw.SELECTION_SET,selections:this.many(OI.BRACE_L,this.parseSelection,OI.BRACE_R)})}parseSelection(){return this.peek(OI.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(OI.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:nw.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(OI.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(OI.PAREN_L,t,OI.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(OI.COLON),this.node(t,{kind:nw.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(OI.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(OI.NAME)?this.node(e,{kind:nw.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:nw.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:nw.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:nw.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case OI.BRACKET_L:return this.parseList(e);case OI.BRACE_L:return this.parseObject(e);case OI.INT:return this._lexer.advance(),this.node(t,{kind:nw.INT,value:t.value});case OI.FLOAT:return this._lexer.advance(),this.node(t,{kind:nw.FLOAT,value:t.value});case OI.STRING:case OI.BLOCK_STRING:return this.parseStringLiteral();case OI.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:nw.BOOLEAN,value:!0});case"false":return this.node(t,{kind:nw.BOOLEAN,value:!1});case"null":return this.node(t,{kind:nw.NULL});default:return this.node(t,{kind:nw.ENUM,value:t.value})}case OI.DOLLAR:if(e){if(this.expectToken(OI.DOLLAR),this._lexer.token.kind===OI.NAME){const e=this._lexer.token.value;throw xI(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:nw.STRING,value:e.value,block:e.kind===OI.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:nw.LIST,values:this.any(OI.BRACKET_L,(()=>this.parseValueLiteral(e)),OI.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:nw.OBJECT,fields:this.any(OI.BRACE_L,(()=>this.parseObjectField(e)),OI.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(OI.COLON),this.node(t,{kind:nw.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(OI.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(OI.AT),this.node(t,{kind:nw.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(OI.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(OI.BRACKET_R),t=this.node(e,{kind:nw.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(OI.BANG)?this.node(e,{kind:nw.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:nw.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(OI.STRING)||this.peek(OI.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(OI.BRACE_L,this.parseOperationTypeDefinition,OI.BRACE_R);return this.node(e,{kind:nw.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(OI.COLON);const n=this.parseNamedType();return this.node(e,{kind:nw.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:nw.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:nw.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(OI.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(OI.BRACE_L,this.parseFieldDefinition,OI.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(OI.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:nw.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(OI.PAREN_L,this.parseInputValueDef,OI.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(OI.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(OI.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:nw.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:nw.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:nw.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(OI.EQUALS)?this.delimitedMany(OI.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:nw.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(OI.BRACE_L,this.parseEnumValueDefinition,OI.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:nw.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw xI(this._lexer.source,this._lexer.token.start,`${JI(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:nw.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(OI.BRACE_L,this.parseInputValueDef,OI.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===OI.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(OI.BRACE_L,this.parseOperationTypeDefinition,OI.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:nw.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:nw.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:nw.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:nw.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:nw.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:nw.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:nw.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(OI.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:nw.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(OI.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(AI,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new Yb(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw xI(this._lexer.source,t.start,`Expected ${XI(e)}, found ${JI(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==OI.NAME||t.value!==e)throw xI(this._lexer.source,t.start,`Expected "${e}", found ${JI(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===OI.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return xI(this._lexer.source,t.start,`Unexpected ${JI(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function JI(e){const t=e.value;return XI(e.kind)+(null!=t?` "${t}"`:"")}function XI(e){return function(e){return e===OI.BANG||e===OI.DOLLAR||e===OI.AMP||e===OI.PAREN_L||e===OI.PAREN_R||e===OI.SPREAD||e===OI.COLON||e===OI.EQUALS||e===OI.AT||e===OI.BRACKET_L||e===OI.BRACKET_R||e===OI.BRACE_L||e===OI.PIPE||e===OI.BRACE_R}(e)?`"${e}"`:e}var ZI=new Map,ex=new Map,tx=!0,nx=!1;function rx(e){return e.replace(/[\s,]+/g," ").trim()}function ix(e){var t,n,r,i=rx(e);if(!ZI.has(i)){var o=function(e,t){return new YI(e,t).parseDocument()}(e,{experimentalFragmentVariables:nx,allowLegacyFragmentVariables:nx});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");ZI.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=rx((s=e.loc).source.body.substring(s.start,s.end)),o=ex.get(t);o&&!o.has(i)?tx&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||ex.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var s})),Iy(Iy({},t),{definitions:r}))))}return ZI.get(i)}function ox(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),ix(r)}var sx,ax=ox;(sx=ox||(ox={})).gql=ax,sx.resetCaches=function(){ZI.clear(),ex.clear()},sx.disableFragmentWarnings=function(){tx=!1},sx.enableExperimentalFragmentVariables=function(){nx=!0},sx.disableExperimentalFragmentVariables=function(){nx=!1},ox.default=ox;const ux=is({key:"getAllCharacters",default:[],effects_UNSTABLE:[({setSelf:e})=>{(async()=>{const{data:{personages:t}}=await mI.query({query:ox`
                        query getPersonnages {
                            personages(first: 1000) {
                                id
                                nom
                                categories {
                                    nom
                                }
                                image {
                                    url(transformation: {image: {resize: {height: 200}}})
                                    offsetX
                                }
                            }
                        }
                    `}),n=t.map((e=>{if(!e.image)return;const t=e.categories.map((e=>e.nom));return{id:e.id,name:e.nom,categories:t.length>0?t:["Autre"],image:e.image}})).filter((e=>void 0!==e));e(n)})()}]}),lx=ss({key:"charactersForUserAtom",default:[],effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{if(!e)return;const r=Uv(vI,e);n((e=>{Ey(r,{characters:e},{merge:!0})}));const i=Sy(r,(e=>{const n=e.data();t(n?.characters?n.characters:[])}));return()=>i()}]}),cx=as({key:"getCharactersForUser",get:e=>({get:t})=>{if(!e)return[];const n=t(ux),r=t(lx(e)).map((e=>n.find((t=>t.id===e)))).filter((e=>null!=e));return r},set:e=>({set:t},n)=>{!e||n instanceof ns||t(lx(e),n.map((e=>e.id)))}}),hx=ss({key:"characterSecretForUserAtom",default:void 0,effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{if(!e)return;const r=Uv(vI,e);n((e=>{Ey(r,{characterSecret:e||ky()},{merge:!0})}));const i=Sy(r,(e=>{const n=e.data();t(n?.characterSecret?n.characterSecret:void 0)}));return()=>i()}]}),fx=as({key:"getCharacterSecretForUser",get:e=>({get:t})=>{if(!e)return;const n=t(ux),r=t(hx(e));return n.find((e=>e.id===r))},set:e=>({set:t},n)=>{!e||n instanceof ns||t(hx(e),n?.id)}}),dx=ss({key:"characterGuessForUserAtom",default:void 0,effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{if(!e)return;const r=Uv(vI,e);n((e=>{Ey(r,{characterGuess:e||ky()},{merge:!0})}));const i=Sy(r,(e=>{const n=e.data();t(n?.characterGuess?n.characterGuess:void 0)}));return()=>i()}]}),px=as({key:"getCharacterGuessForUser",get:e=>({get:t})=>{if(!e)return;const n=t(ux),r=t(dx(e));return n.find((e=>e.id===r))},set:e=>({set:t},n)=>{!e||n instanceof ns||t(dx(e),n?.id)}}),mx=ss({key:"getRoundState",default:"not-started",effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=Uv(vI,e);n((e=>{Ey(r,{roundState:e},{merge:!0})}));const i=Sy(r,(e=>{const n=e.data();t(n?.roundState?n.roundState:"not-started")}));return()=>i()}]}),gx=()=>{const e=us(yI),t=cs(mx(e.room)),n=cs(fx(e.me)),i=cs(px(e.me)),o=cs(fx(e.opponent)),s=cs(px(e.opponent));(0,r.useEffect)((()=>{n(void 0),i(void 0),o(void 0),s(void 0)}),[]);const{t:a}=Ds();return r.createElement("div",{className:"finished"},r.createElement("button",{className:"finished--start-again",onClick:()=>t("not-started")},a("finished.start-again")))};n(33),n(269),n(845),n(654),n(344);const vx=()=>r.createElement("div",{className:"loadassets"},["assets/case-background.webp","assets/case-front.webp","assets/plateau-background.webp","assets/plateau-front.webp","assets/TwitchGlitchPurple.svg"].map(((e,t)=>r.createElement("img",{key:t,src:e})))),yx=1/60*1e3,bx="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),wx="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(bx())),yx);let Ex=!0,Sx=!1,kx=!1;const _x={delta:0,timestamp:0},Tx=["read","update","preRender","render","postRender"],Ix=Tx.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(e,o=!1,a=!1)=>{const u=a&&i,l=u?t:n;return o&&s.add(e),-1===l.indexOf(e)&&(l.push(e),u&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:u=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(u),s.has(r)&&(a.schedule(r),e())}i=!1,o&&(o=!1,a.process(u))}}};return a}((()=>Sx=!0)),e)),{}),xx=Tx.reduce(((e,t)=>{const n=Ix[t];return e[t]=(e,t=!1,r=!1)=>(Sx||Rx(),n.schedule(e,t,r)),e}),{}),Ox=Tx.reduce(((e,t)=>(e[t]=Ix[t].cancel,e)),{}),Ax=Tx.reduce(((e,t)=>(e[t]=()=>Ix[t].process(_x),e)),{}),Nx=e=>Ix[e].process(_x),Cx=e=>{Sx=!1,_x.delta=Ex?yx:Math.max(Math.min(e-_x.timestamp,40),1),_x.timestamp=e,kx=!0,Tx.forEach(Nx),kx=!1,Sx&&(Ex=!1,wx(Cx))},Rx=()=>{Sx=!0,Ex=!0,kx||wx(Cx)},Dx=()=>_x,Px=xx;function Lx(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var Mx=(0,r.createContext)(null);function Vx(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}var Fx=0;function Ux(){var e=Fx;return Fx++,e}var jx=function(e){var t=e.children,n=e.initial,i=e.isPresent,o=e.onExitComplete,s=e.custom,a=e.presenceAffectsLayout,u=Vx(Bx),l=Vx(Ux),c=(0,r.useMemo)((function(){return{id:l,initial:n,isPresent:i,custom:s,onExitComplete:function(e){var t,n;u.set(e,!0);try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u.values()),i=r.next();!i.done;i=r.next())if(!i.value)return}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==o||o()},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}}),a?void 0:[i]);return(0,r.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[i]),r.useEffect((function(){!i&&!u.size&&(null==o||o())}),[i]),r.createElement(Mx.Provider,{value:c},t)};function Bx(){return new Map}var zx=(0,r.createContext)({});function qx(e){return e.key||""}var Wx=function(e){var t=e.children,n=e.custom,i=e.initial,o=void 0===i||i,s=e.onExitComplete,a=e.exitBeforeEnter,u=e.presenceAffectsLayout,l=void 0===u||u,c=Ny(function(){var e=(0,r.useRef)(!1),t=Ny((0,r.useState)(0),2),n=t[0],i=t[1];Lx((function(){return e.current=!0}));var o=(0,r.useCallback)((function(){!e.current&&i(n+1)}),[n]);return[(0,r.useCallback)((function(){return Px.postRender(o)}),[o]),n]}(),1),h=c[0],f=(0,r.useContext)(zx).forceRender;f&&(h=f);var d=(0,r.useRef)(!0),p=(0,r.useRef)(!0);(0,r.useEffect)((function(){return function(){p.current=!1}}),[]);var m=function(e){var t=[];return r.Children.forEach(e,(function(e){(0,r.isValidElement)(e)&&t.push(e)})),t}(t),g=(0,r.useRef)(m),v=(0,r.useRef)(new Map).current,y=(0,r.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=qx(e);t.set(n,e)}))}(m,v),d.current)return d.current=!1,r.createElement(r.Fragment,null,m.map((function(e){return r.createElement(jx,{key:qx(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:l},e)})));for(var b=Cy([],Ny(m),!1),w=g.current.map(qx),E=m.map(qx),S=w.length,k=0;k<S;k++){var _=w[k];-1===E.indexOf(_)?y.add(_):y.delete(_)}return a&&y.size&&(b=[]),y.forEach((function(e){if(-1===E.indexOf(e)){var t=v.get(e);if(t){var i=w.indexOf(e);b.splice(i,0,r.createElement(jx,{key:qx(t),isPresent:!1,onExitComplete:function(){v.delete(e),y.delete(e);var t=g.current.findIndex((function(t){return t.key===e}));if(g.current.splice(t,1),!y.size){if(g.current=m,!1===p.current)return;h(),s&&s()}},custom:n,presenceAffectsLayout:l},t))}}})),b=b.map((function(e){var t=e.key;return y.has(t)?e:r.createElement(jx,{key:qx(e),isPresent:!0,presenceAffectsLayout:l},e)})),g.current=b,r.createElement(r.Fragment,null,y.size?b:b.map((function(e){return(0,r.cloneElement)(e)})))},Hx=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},$x={measureLayout:Hx(["layout","layoutId","drag"]),animation:Hx(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Hx(["exit"]),drag:Hx(["drag","dragControls"]),focus:Hx(["whileFocus"]),hover:Hx(["whileHover","onHoverStart","onHoverEnd"]),tap:Hx(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Hx(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Hx(["whileInView","onViewportEnter","onViewportLeave"])},Qx=(0,r.createContext)({strict:!1}),Kx=Object.keys($x),Gx=Kx.length,Yx=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),Jx=(0,r.createContext)({}),Xx="undefined"!=typeof window,Zx=Xx?r.useLayoutEffect:r.useEffect;function eO(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tO(e){return Array.isArray(e)}function nO(e){return"string"==typeof e||tO(e)}function rO(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function iO(e,t,n){var r=e.getProps();return rO(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function oO(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||nO(e.initial)||nO(e.animate)||nO(e.whileHover)||nO(e.whileDrag)||nO(e.whileTap)||nO(e.whileFocus)||nO(e.exit)}function sO(e){return Boolean(oO(e)||e.variants)}function aO(e){return Array.isArray(e)?e.join(" "):e}const uO=(e,t,n)=>-n*e+n*t+e;function lO(e,t){return t?e*(1e3/t):0}function cO(e,t){-1===e.indexOf(t)&&e.push(t)}function hO(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var fO=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return cO(this.subscriptions,e),function(){return hO(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),dO=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new fO,this.velocityUpdateSubscribers=new fO,this.renderSubscribers=new fO,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=Dx(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,Px.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return Px.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?lO(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function pO(e){return new dO(e)}var mO=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)};const gO=(e,t,n)=>Math.min(Math.max(n,e),t);function vO(e,t){return e*Math.sqrt(1-t*t)}const yO=["duration","bounce"],bO=["stiffness","damping","mass"];function wO(e,t){return t.some((t=>void 0!==e[t]))}function EO(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=xy(e,["from","to","restSpeed","restDelta"]);const s={done:!1,value:t};let{stiffness:a,damping:u,mass:l,velocity:c,duration:h,isResolvedFromDuration:f}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!wO(e,bO)&&wO(e,yO)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,s=1-t;s=gO(.05,1,s),e=gO(.01,10,e/1e3),s<1?(i=t=>{const r=t*s,i=r*e;return.001-(r-n)/vO(t,s)*Math.exp(-i)},o=t=>{const r=t*s*e,o=r*n+n,a=Math.pow(s,2)*Math.pow(t,2)*e,u=Math.exp(-r),l=vO(Math.pow(t,2),s);return(.001-i(t)>0?-1:1)*((o-a)*u)/l}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(a))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(o),d=SO,p=SO;function m(){const e=c?-c/1e3:0,r=n-t,o=u/(2*Math.sqrt(a*l)),s=Math.sqrt(a/l)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){const t=vO(s,o);d=i=>{const a=Math.exp(-o*s*i);return n-a*((e+o*s*r)/t*Math.sin(t*i)+r*Math.cos(t*i))},p=n=>{const i=Math.exp(-o*s*n);return o*s*i*(Math.sin(t*n)*(e+o*s*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*s*r)-t*r*Math.sin(t*n))}}else if(1===o)d=t=>n-Math.exp(-s*t)*(r+(e+s*r)*t);else{const t=s*Math.sqrt(o*o-1);d=i=>{const a=Math.exp(-o*s*i),u=Math.min(t*i,300);return n-a*((e+o*s*r)*Math.sinh(u)+t*r*Math.cosh(u))/t}}}return m(),{next:e=>{const t=d(e);if(f)s.done=e>=h;else{const o=1e3*p(e),a=Math.abs(o)<=r,u=Math.abs(n-t)<=i;s.done=a&&u}return s.value=s.done?n:t,s},flipTarget:()=>{c=-c,[t,n]=[n,t],m()}}}EO.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const SO=e=>0,kO=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},_O=(e,t)=>n=>Math.max(Math.min(n,t),e),TO=e=>e%1?Number(e.toFixed(5)):e,IO=/(-)?([\d]*\.?[\d])+/g,xO=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,OO=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function AO(e){return"string"==typeof e}const NO={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},CO=Object.assign(Object.assign({},NO),{transform:_O(0,1)}),RO=Object.assign(Object.assign({},NO),{default:1}),DO=(e,t)=>n=>Boolean(AO(n)&&OO.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),PO=(e,t,n)=>r=>{if(!AO(r))return r;const[i,o,s,a]=r.match(IO);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},LO=_O(0,255),MO=Object.assign(Object.assign({},NO),{transform:e=>Math.round(LO(e))}),VO={test:DO("rgb","red"),parse:PO("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+MO.transform(e)+", "+MO.transform(t)+", "+MO.transform(n)+", "+TO(CO.transform(r))+")"},FO={test:DO("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:VO.transform},UO=e=>({test:t=>AO(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),jO=UO("deg"),BO=UO("%"),zO=UO("px"),qO=UO("vh"),WO=UO("vw"),HO=Object.assign(Object.assign({},BO),{parse:e=>BO.parse(e)/100,transform:e=>BO.transform(100*e)}),$O={test:DO("hsl","hue"),parse:PO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+BO.transform(TO(t))+", "+BO.transform(TO(n))+", "+TO(CO.transform(r))+")"};function QO(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,s=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=QO(a,r,e+1/3),o=QO(a,r,e),s=QO(a,r,e-1/3)}else i=o=s=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:r}}const GO=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},YO=[FO,VO,$O],JO=e=>YO.find((t=>t.test(e))),XO=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,ZO=(e,t)=>{let n=JO(e),r=JO(t);XO(e),XO(t);let i=n.parse(e),o=r.parse(t);n===$O&&(i=KO(i),n=VO),r===$O&&(o=KO(o),r=VO);const s=Object.assign({},i);return e=>{for(const t in s)"alpha"!==t&&(s[t]=GO(i[t],o[t],e));return s.alpha=uO(i.alpha,o.alpha,e),n.transform(s)}},eA={test:e=>VO.test(e)||FO.test(e)||$O.test(e),parse:e=>VO.test(e)?VO.parse(e):$O.test(e)?$O.parse(e):FO.parse(e),transform:e=>AO(e)?e:e.hasOwnProperty("red")?VO.transform(e):$O.transform(e)},tA="${c}",nA="${n}";function rA(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(xO);r&&(n=r.length,e=e.replace(xO,tA),t.push(...r.map(eA.parse)));const i=e.match(IO);return i&&(e=e.replace(IO,nA),t.push(...i.map(NO.parse))),{values:t,numColors:n,tokenised:e}}function iA(e){return rA(e).values}function oA(e){const{values:t,numColors:n,tokenised:r}=rA(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?tA:nA,r<n?eA.transform(e[r]):TO(e[r]));return t}}const sA=e=>"number"==typeof e?0:e,aA={test:function(e){var t,n,r,i;return isNaN(e)&&AO(e)&&(null!==(n=null===(t=e.match(IO))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(xO))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:iA,createTransformer:oA,getAnimatableNone:function(e){const t=iA(e);return oA(e)(t.map(sA))}},uA=e=>"number"==typeof e,lA=(e,t)=>n=>t(e(n)),cA=(...e)=>e.reduce(lA);function hA(e,t){return uA(e)?n=>uO(e,t,n):eA.test(e)?ZO(e,t):mA(e,t)}const fA=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>hA(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},dA=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=hA(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function pA(e){const t=aA.parse(e),n=t.length;let r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const mA=(e,t)=>{const n=aA.createTransformer(t),r=pA(e),i=pA(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?cA(fA(r.parsed,i.parsed),n):n=>`${n>0?t:e}`},gA=(e,t)=>n=>uO(e,t,n);function vA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const s=function(e,t,n){const r=[],i=n||function(e){return"number"==typeof e?gA:"string"==typeof e?eA.test(e)?ZO:mA:Array.isArray(e)?fA:"object"==typeof e?dA:void 0}(e[0]),o=e.length-1;for(let n=0;n<o;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;o=cA(e,o)}r.push(o)}return r}(t,r,i),a=2===o?function([e,t],[n]){return r=>n(kO(e,t,r))}(e,s):function(e,t){const n=e.length,r=n-1;return i=>{let o=0,s=!1;if(i<=e[0]?s=!0:i>=e[r]&&(o=r-1,s=!0),!s){let t=1;for(;t<n&&!(e[t]>i||t===r);t++);o=t-1}const a=kO(e[o],e[o+1],i);return t[o](a)}}(e,s);return n?t=>a(gO(e[0],e[o-1],t)):a}const yA=e=>t=>1-e(1-t),bA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,wA=e=>t=>t*t*((e+1)*t-e),EA=e=>e,SA=(2,e=>Math.pow(e,2));const kA=yA(SA),_A=bA(SA),TA=e=>1-Math.sin(Math.acos(e)),IA=yA(TA),xA=bA(IA),OA=wA(1.525),AA=yA(OA),NA=bA(OA),CA=(e=>{const t=wA(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),RA=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},DA=yA(RA);function PA(e,t){return e.map((()=>t||_A)).splice(0,e.length-1)}function LA({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},s=Array.isArray(t)?t:[e,t],a=function(e,t){return e.map((e=>e*t))}(r&&r.length===s.length?r:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(s),i);function u(){return vA(a,s,{ease:Array.isArray(n)?n:PA(s,n)})}let l=u();return{next:e=>(o.value=l(e),o.done=e>=i,o),flipTarget:()=>{s.reverse(),l=u()}}}const MA={keyframes:LA,spring:EO,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:t};let a=n*e;const u=t+a,l=void 0===o?u:o(u);return l!==u&&(a=l-t),{next:e=>{const t=-a*Math.exp(-e/r);return s.done=!(t>i||t<-i),s.value=s.done?l:l+t,s},flipTarget:()=>{}}}};function VA(e,t,n=0){return e-t-n}const FA=e=>{const t=({delta:t})=>e(t);return{start:()=>Px.update(t,!0),stop:()=>Ox.update(t)}};function UA(e){var t,n,{from:r,autoplay:i=!0,driver:o=FA,elapsed:s=0,repeat:a=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:h,onComplete:f,onRepeat:d,onUpdate:p}=e,m=xy(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let g,v,y,{to:b}=m,w=0,E=m.duration,S=!1,k=!0;const _=function(e){if(Array.isArray(e.to))return LA;if(MA[e.type])return MA[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?LA:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?EO:LA}(m);(null===(n=(t=_).needsInterpolation)||void 0===n?void 0:n.call(t,r,b))&&(y=vA([0,100],[r,b],{clamp:!1}),r=0,b=100);const T=_(Object.assign(Object.assign({},m),{from:r,to:b}));return i&&(null==c||c(),g=o((function(e){if(k||(e=-e),s+=e,!S){const e=T.next(Math.max(0,s));v=e.value,y&&(v=y(v)),S=k?e.done:s<=0}null==p||p(v),S&&(0===w&&(null!=E||(E=s)),w<a?function(e,t,n,r){return r?e>=t+n:e<=-n}(s,E,l,k)&&(w++,"reverse"===u?(k=w%2==0,s=function(e,t,n=0,r=!0){return r?VA(t+-e,t,n):t-(e-t)+n}(s,E,l,k)):(s=VA(s,E,l),"mirror"===u&&T.flipTarget()),S=!1,d&&d()):(g.stop(),f&&f()))})),g.start()),{stop:()=>{null==h||h(),g.stop()}}}var jA=function(e){return 1e3*e};const BA=(e,t)=>1-3*t+3*e,zA=(e,t)=>3*t-6*e,qA=e=>3*e,WA=(e,t,n)=>((BA(t,n)*e+zA(t,n))*e+qA(t))*e,HA=(e,t,n)=>3*BA(t,n)*e*e+2*zA(t,n)*e+qA(t),$A=.1;function QA(e,t,n,r){if(e===t&&n===r)return EA;const i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=WA(t*$A,e,n);return o=>0===o||1===o?o:WA(function(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=$A;--o;const s=r+(t-i[o])/(i[o+1]-i[o])*$A,a=HA(s,e,n);return a>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=HA(t,n,r);if(0===i)return t;t-=(WA(t,n,r)-e)/i}return t}(t,s,e,n):0===a?s:function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=WA(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<10);return s}(t,r,r+$A,e,n)}(o),t,r)}var KA={linear:EA,easeIn:SA,easeInOut:_A,easeOut:kA,circIn:TA,circInOut:xA,circOut:IA,backIn:OA,backInOut:NA,backOut:AA,anticipate:CA,bounceIn:DA,bounceInOut:e=>e<.5?.5*(1-RA(1-2*e)):.5*RA(2*e-1)+.5,bounceOut:RA},GA=function(e){if(Array.isArray(e)){e.length;var t=Ny(e,4);return QA(t[0],t[1],t[2],t[3])}return"string"==typeof e?("Invalid easing type '".concat(e,"'"),KA[e]):e},YA=function(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!aA.test(t)||t.startsWith("url(")))},JA=function(e){return Array.isArray(e)},XA=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},ZA=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},eN=function(){return{type:"keyframes",ease:"linear",duration:.3}},tN=function(e){return{type:"keyframes",duration:.8,values:e}},nN={x:XA,y:XA,z:XA,rotate:XA,rotateX:XA,rotateY:XA,rotateZ:XA,scaleX:ZA,scaleY:ZA,scale:ZA,opacity:eN,backgroundColor:eN,color:eN,default:ZA};const rN=new Set(["brightness","contrast","saturate","opacity"]);function iN(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(IO)||[];if(!r)return e;const i=n.replace(r,"");let o=rN.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const oN=/([a-z-]*)\(.*?\)/g,sN=Object.assign(Object.assign({},aA),{getAnimatableNone:e=>{const t=e.match(oN);return t?t.map(iN).join(" "):e}});var aN=Iy(Iy({},NO),{transform:Math.round}),uN={borderWidth:zO,borderTopWidth:zO,borderRightWidth:zO,borderBottomWidth:zO,borderLeftWidth:zO,borderRadius:zO,radius:zO,borderTopLeftRadius:zO,borderTopRightRadius:zO,borderBottomRightRadius:zO,borderBottomLeftRadius:zO,width:zO,maxWidth:zO,height:zO,maxHeight:zO,size:zO,top:zO,right:zO,bottom:zO,left:zO,padding:zO,paddingTop:zO,paddingRight:zO,paddingBottom:zO,paddingLeft:zO,margin:zO,marginTop:zO,marginRight:zO,marginBottom:zO,marginLeft:zO,rotate:jO,rotateX:jO,rotateY:jO,rotateZ:jO,scale:RO,scaleX:RO,scaleY:RO,scaleZ:RO,skew:jO,skewX:jO,skewY:jO,distance:zO,translateX:zO,translateY:zO,translateZ:zO,x:zO,y:zO,z:zO,perspective:zO,transformPerspective:zO,opacity:CO,originX:HO,originY:HO,originZ:zO,zIndex:aN,fillOpacity:CO,strokeOpacity:CO,numOctaves:aN},lN=Iy(Iy({},uN),{color:eA,backgroundColor:eA,outlineColor:eA,fill:eA,stroke:eA,borderColor:eA,borderTopColor:eA,borderRightColor:eA,borderBottomColor:eA,borderLeftColor:eA,filter:sN,WebkitFilter:sN}),cN=function(e){return lN[e]};function hN(e,t){var n,r=cN(e);return r!==sN&&(r=aA),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var fN=function(e){return JA(e)?e[e.length-1]||0:e};function dN(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Cy([],Ny(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=xy(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Iy(Iy({},e),function(e,t){var n;return n=JA(t)?tN:nN[e]||nN.default,Iy({to:t},n(t))}(n,t.to))),Iy(Iy({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,s=xy(e,["ease","times","yoyo","flip","loop"]),a=Iy({},s);return n&&(a.offset=n),s.duration&&(a.duration=jA(s.duration)),s.repeatDelay&&(a.repeatDelay=jA(s.repeatDelay)),t&&(a.ease=function(e){return Array.isArray(e)&&"number"!=typeof e[0]}(t)?t.map(GA):GA(t)),"tween"===s.type&&(a.type="keyframes"),(r||o||i)&&(r?a.repeatType="reverse":o?a.repeatType="loop":i&&(a.repeatType="mirror"),a.repeat=o||r||i||s.repeat),"spring"!==s.type&&(a.type="keyframes"),a}(e))}function pN(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function mN(e){return"number"==typeof e?0:hN("",e)}function gN(e,t){return e[t]||e.default||e}function vN(e,t,n,r){return void 0===r&&(r={}),t.start((function(i){var o,s,a=function(e,t,n,r,i){var o,s=gN(r,e),a=null!==(o=s.from)&&void 0!==o?o:t.get(),u=YA(e,n);"none"===a&&u&&"string"==typeof n?a=hN(e,n):pN(a)&&"string"==typeof n?a=mN(n):!Array.isArray(n)&&pN(n)&&"string"==typeof a&&(n=mN(a));var l=YA(e,a);return"You are trying to animate ".concat(e,' from "').concat(a,'" to "').concat(n,'". ').concat(a," is not an animatable value - to enable this animation set ").concat(a," to a value animatable to ").concat(n," via the `style` property."),l&&u&&!1!==s.type?function(){var r={from:a,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===s.type||"decay"===s.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:u=1,modifyTarget:l,driver:c,onUpdate:h,onComplete:f,onStop:d}){let p;function m(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function v(e){null==p||p.stop(),p=UA(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var n;null==h||h(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:f,onStop:d}))}function y(e){v(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:u},e))}if(m(e))y({from:e,velocity:t,to:g(e)});else{let r=i*t+e;void 0!==l&&(r=l(r));const s=g(r),a=s===n?-1:1;let c,h;const f=e=>{c=h,h=e,t=lO(e-c,Dx().delta),(1===a&&e>s||-1===a&&e<s)&&y({from:e,to:s,velocity:t})};v({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:u,modifyTarget:l,onUpdate:m(r)?f:void 0})}return{stop:()=>null==p?void 0:p.stop()}}(Iy(Iy({},r),s)):UA(Iy(Iy({},dN(s,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=s.onUpdate)||void 0===t||t.call(s,e)},onComplete:function(){var e;r.onComplete(),null===(e=s.onComplete)||void 0===e||e.call(s)}}))}:function(){var e,r,o=fN(n);return t.set(o),i(),null===(e=null==s?void 0:s.onUpdate)||void 0===e||e.call(s,o),null===(r=null==s?void 0:s.onComplete)||void 0===r||r.call(s),{stop:function(){}}}}(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(gN(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=function(){return s=a()};return u?o=setTimeout(l,jA(u)):l(),function(){clearTimeout(o),null==s||s.stop()}}))}var yN=["TopLeft","TopRight","BottomLeft","BottomRight"],bN=yN.length;function wN(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var EN=kN(0,.5,IA),SN=kN(.5,.95,EA);function kN(e,t,n){return function(r){return r<e?0:r>t?1:n(kO(e,t,r))}}function _N(e,t){e.min=t.min,e.max=t.max}function TN(e,t){_N(e.x,t.x),_N(e.y,t.y)}function IN(e){return void 0===e||1===e}function xN(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!IN(t)||!IN(n)||!IN(r)}function ON(e){return xN(e)||AN(e.x)||AN(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function AN(e){return e&&"0%"!==e}function NN(e,t,n){return n+t*(e-n)}function CN(e,t,n,r,i){return void 0!==i&&(e=NN(e,i,r)),NN(e,n,r)+t}function RN(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=CN(e.min,t,n,r,i),e.max=CN(e.max,t,n,r,i)}function DN(e,t){var n=t.x,r=t.y;RN(e.x,n.translate,n.scale,n.originPoint),RN(e.y,r.translate,r.scale,r.originPoint)}function PN(e,t){e.min=e.min+t,e.max=e.max+t}function LN(e,t,n){var r=Ny(n,3),i=r[0],o=r[1],s=r[2],a=void 0!==t[s]?t[s]:.5,u=uO(e.min,e.max,a);RN(e,t[i],t[o],u,t.scale)}var MN=["x","scaleX","originX"],VN=["y","scaleY","originY"];function FN(e,t){LN(e.x,t,MN),LN(e.y,t,VN)}const UN=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),jN=e=>UN(e)&&e.hasOwnProperty("z"),BN=(e,t)=>Math.abs(e-t);function zN(e,t){if(uA(e)&&uA(t))return BN(e,t);if(UN(e)&&UN(t)){const n=BN(e.x,t.x),r=BN(e.y,t.y),i=jN(e)&&jN(t)?BN(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function qN(e){return e.max-e.min}function WN(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),zN(e,t)<n}function HN(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=uO(t.min,t.max,e.origin),e.scale=qN(n)/qN(t),(WN(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=uO(n.min,n.max,e.origin)-e.originPoint,(WN(e.translate)||isNaN(e.translate))&&(e.translate=0)}function $N(e,t,n,r){HN(e.x,t.x,n.x,null==r?void 0:r.originX),HN(e.y,t.y,n.y,null==r?void 0:r.originY)}function QN(e,t,n){e.min=n.min+t.min,e.max=e.min+qN(t)}function KN(e,t,n){e.min=t.min-n.min,e.max=e.min+qN(t)}function GN(e,t,n){KN(e.x,t.x,n.x),KN(e.y,t.y,n.y)}function YN(e,t,n,r,i){return e=NN(e-=t,1/n,r),void 0!==i&&(e=NN(e,1/i,r)),e}function JN(e,t,n,r,i){var o=Ny(n,3),s=o[0],a=o[1],u=o[2];!function(e,t,n,r,i,o,s){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===s&&(s=e),BO.test(t)&&(t=parseFloat(t),t=uO(s.min,s.max,t/100)-s.min),"number"==typeof t){var a=uO(o.min,o.max,r);e===o&&(a-=t),e.min=YN(e.min,t,n,a,i),e.max=YN(e.max,t,n,a,i)}}(e,t[s],t[a],t[u],t.scale,r,i)}var XN=["x","scaleX","originX"],ZN=["y","scaleY","originY"];function eC(e,t,n,r){JN(e.x,t,XN,null==n?void 0:n.x,null==r?void 0:r.x),JN(e.y,t,ZN,null==n?void 0:n.y,null==r?void 0:r.y)}function tC(e){return 0===e.translate&&1===e.scale}function nC(e){return tC(e.x)&&tC(e.y)}function rC(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var iC=function(){function e(){this.members=[]}return e.prototype.add=function(e){cO(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(hO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),oC={};function sC(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var s=n.rotate,a=n.rotateX,u=n.rotateY;s&&(o+="rotate(".concat(s,"deg) ")),a&&(o+="rotateX(".concat(a,"deg) ")),u&&(o+="rotateY(".concat(u,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(o+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":o}function aC(e){return[e("x"),e("y")]}var uC=["","X","Y","Z"],lC=["transformPerspective","x","y","z"];function cC(e,t){return lC.indexOf(e)-lC.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return uC.forEach((function(t){return lC.push(e+t)}))}));var hC=new Set(lC);function fC(e){return hC.has(e)}var dC=new Set(["originX","originY","originZ"]);function pC(e){return dC.has(e)}var mC=function(e,t){return e.depth-t.depth},gC=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){cO(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){hO(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(mC),this.isDirty=!1,this.children.forEach(e)},e}();function vC(e){var t=mO(e)?e.get():e;return function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var yC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bC(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(IC),i.nodes.forEach(xC)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?Cy(Cy([],Ny(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new gC)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new fO),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,Cy([],Ny(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,s=o.layoutId,a=o.layout,u=o.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(a||s)&&(this.isLayoutDirty=!0),t){var l,c=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(l),l=setTimeout(c,250),yC.hasAnimatedSinceResize&&(yC.hasAnimatedSinceResize=!1,i.nodes.forEach(TC))}))}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&u&&(s||a)&&this.addEventListener("didUpdate",(function(e){var t,n,r,o,s,a=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,h=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var f=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:DC,d=u.getProps().onLayoutAnimationComplete,p=!i.targetLayout||!rC(i.targetLayout,h)||c,m=!l&&c;(null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||m||l&&(p||!i.currentAnimation)?(i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(a,m),i.startAnimation(Iy(Iy({},gN(f,"layout")),{onComplete:d}))):i.isLead()&&(null===(s=(o=i.options).onExitComplete)||void 0===s||s.call(o)),i.targetLayout=h}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Ox.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(OC))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var s=this.options,a=s.layoutId,u=s.layout;if(void 0!==a||u){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(kC);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(PC),this.potentialNodes.clear()),this.nodes.forEach(_C),this.nodes.forEach(wC),this.nodes.forEach(EC),this.clearAllSnapshots(),Ax.update(),Ax.preRender(),Ax.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(SC),this.sharedNodes.forEach(AC)},e.prototype.scheduleUpdateProjection=function(){Px.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;Px.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));MC(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();MC(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!nC(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,o=null==r?void 0:r(this.latestValues,""),s=o!==this.prevTransformTemplateValue;t&&(n||ON(this.latestValues)||s)&&(i(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(PN(t.x,n.x),PN(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};TN(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;r!==this.root&&i&&o.layoutScroll&&(PN(t.x,i.x),PN(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};TN(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&FN(n,{x:-i.scroll.x,y:-i.scroll.y}),ON(i.latestValues)&&FN(n,i.latestValues)}return ON(this.latestValues)&&FN(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};TN(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&ON(i.latestValues)){xN(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};TN(o,i.measure()),eC(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return ON(this.latestValues)&&eC(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=Iy(Iy(Iy({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,s=i.layoutId;this.layout&&(o||s)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},GN(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),TN(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,QN(t.x,n.x,r.x),QN(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):TN(this.target,this.layout.actual),DN(this.target,this.targetDelta)):TN(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},GN(this.relativeTargetOrigin,this.target,this.relativeParent.target),TN(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!ON(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();TN(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,o;void 0===r&&(r=!1);var s=n.length;if(s){var a,u;t.x=t.y=1;for(var l=0;l<s;l++)u=(a=n[l]).projectionDelta,"contents"!==(null===(o=null===(i=a.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&FN(e,{x:-a.scroll.x,y:-a.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,DN(e,u)),r&&ON(a.latestValues)&&FN(e,a.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var s=this.treeScale.x,a=this.treeScale.y,u=this.projectionTransform;$N(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=sC(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===s&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null==i?void 0:i.latestValues)||{},s=Iy({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null==i?void 0:i.isShared,c=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,h=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(RC));this.mixTargetDelta=function(t){var n,i=t/1e3;NC(a.x,e.x,i),NC(a.y,e.y,i),r.setTargetDelta(a),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(GN(u,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){CC(e.x,t.x,n.x,r),CC(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,u,i)),l&&(r.animationValues=s,function(e,t,n,r,i,o){var s,a,u,l;i?(e.opacity=uO(0,null!==(s=n.opacity)&&void 0!==s?s:1,EN(r)),e.opacityExit=uO(null!==(a=t.opacity)&&void 0!==a?a:1,0,SN(r))):o&&(e.opacity=uO(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<bN;c++){var h="border".concat(yN[c],"Radius"),f=wN(t,h),d=wN(n,h);if((void 0!==f||void 0!==d)&&(f||(f=0),d||(d=0),"number"==typeof f&&"number"==typeof d)){var p=Math.max(uO(f,d,r),0);e[h]=p}}(t.rotate||n.rotate)&&(e.rotate=uO(t.rotate||0,n.rotate||0,r))}(s,o,r.latestValues,i,h,c)),r.root.scheduleUpdateProjection(),r.scheduleRender()},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Ox.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Px.update((function(){yC.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=mO(0)?0:pO(0);return vN("",r,1e3,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,0,Iy(Iy({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(TN(t,n),FN(t,i),$N(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new iC),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<uC.length;r++){var i="rotate"+uC[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,o,s;void 0===e&&(e={});var a={};if(!this.instance||this.isSVG)return a;if(!this.isVisible)return{visibility:"hidden"};a.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=vC(e.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none",a;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var c={};return this.options.layoutId&&(c.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,c.pointerEvents=vC(e.pointerEvents)||""),this.hasProjected&&!ON(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1),c}var h=l.animationValues||l.latestValues;this.applyTransformsToTarget(),a.transform=sC(this.projectionDeltaWithTransform,this.treeScale,h),u&&(a.transform=u(h,a.transform));var f=this.projectionDelta,d=f.x,p=f.y;for(var m in a.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),l.animationValues?a.opacity=l===this?null!==(i=null!==(r=h.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=l===this?null!==(o=h.opacity)&&void 0!==o?o:"":null!==(s=h.opacityExit)&&void 0!==s?s:0,oC)if(void 0!==h[m]){var g=oC[m],v=g.correct,y=g.applyTo,b=v(h[m],l);if(y)for(var w=y.length,E=0;E<w;E++)a[y[E]]=b;else a[m]=b}return this.options.layoutId&&(a.pointerEvents=l===this?vC(e.pointerEvents)||"":"none"),a},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(kC),this.root.sharedNodes.clear()},e}()}function wC(e){e.updateLayout()}function EC(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var s=e.layout,a=s.actual,u=s.measured;"size"===e.options.animationType?aC((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=qN(t);t.min=a[e].min,t.max=t.min+n})):"position"===e.options.animationType&&aC((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=qN(a[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};$N(l,a,o.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?$N(c,e.applyTransform(u,!0),o.measured):$N(c,a,o.layout);var h=!nC(l),f=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,m=d.layout;if(p&&m){var g={x:{min:0,max:0},y:{min:0,max:0}};GN(g,o.layout,p.layout);var v={x:{min:0,max:0},y:{min:0,max:0}};GN(v,a,m.actual),rC(g,v)||(f=!0)}}e.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function SC(e){e.clearSnapshot()}function kC(e){e.clearMeasurements()}function _C(e){e.resetTransform()}function TC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function IC(e){e.resolveTargetDelta()}function xC(e){e.calcProjection()}function OC(e){e.resetRotation()}function AC(e){e.removeLeadSnapshot()}function NC(e,t,n){e.translate=uO(t.translate,0,n),e.scale=uO(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function CC(e,t,n,r){e.min=uO(t.min,n.min,r),e.max=uO(t.max,n.max,r)}function RC(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var DC={duration:.45,ease:[.4,0,.1,1]};function PC(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function LC(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function MC(e){LC(e.x),LC(e.y)}var VC=1,FC=(0,r.createContext)({}),UC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ty(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(r.Component);function jC(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.projectionNodeConstructor,o=e.useRender,s=e.useVisualState,a=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?$x.projectionNodeConstructor=e[t]:$x[t].Component=e[t])}(t),(0,r.forwardRef)((function(e,t){var u=function(e){var t,n=e.layoutId,i=null===(t=(0,r.useContext)(zx))||void 0===t?void 0:t.id;return i&&void 0!==n?i+"-"+n:n}(e);e=Iy(Iy({},e),{layoutId:u});var l=(0,r.useContext)(Yx),c=null,h=function(e){var t=function(e,t){if(oO(e)){var n=e.initial,r=e.animate;return{initial:!1===n||nO(n)?n:void 0,animate:nO(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Jx)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[aO(n),aO(i)])}(e),f=l.isStatic?void 0:Vx((function(){if(yC.hasEverUpdated)return VC++})),d=s(e,l.isStatic);return!l.isStatic&&Xx&&(h.visualElement=function(e,t,n,i){var o=(0,r.useContext)(Qx),s=(0,r.useContext)(Jx).visualElement,a=(0,r.useContext)(Mx),u=(0,r.useRef)(void 0);i||(i=o.renderer),!u.current&&i&&(u.current=i(e,{visualState:t,parent:s,props:n,presenceId:null==a?void 0:a.id,blockInitialAnimation:!1===(null==a?void 0:a.initial)}));var l=u.current;return Zx((function(){null==l||l.syncRender()})),(0,r.useEffect)((function(){var e;null===(e=null==l?void 0:l.animationState)||void 0===e||e.animateChanges()})),Zx((function(){return function(){return null==l?void 0:l.notifyUnmount()}}),[]),l}(a,d,Iy(Iy({},l),e),n),function(e,t,n,i){var o,s=t.layoutId,a=t.layout,u=t.drag,l=t.dragConstraints,c=t.layoutScroll,h=(0,r.useContext)(FC);i&&n&&!(null==n?void 0:n.projection)&&(n.projection=new i(e,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(u)||l&&eO(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof a?a:"both",initialPromotionConfig:h,layoutScroll:c}))}(f,e,h.visualElement,i||$x.projectionNodeConstructor),c=function(e,t,n){var i=[];if((0,r.useContext)(Qx),!t)return null;for(var o=0;o<Gx;o++){var s=Kx[o],a=$x[s],u=a.isEnabled,l=a.Component;u(e)&&l&&i.push(r.createElement(l,Iy({key:s},e,{visualElement:t})))}return i}(e,h.visualElement)),r.createElement(UC,{visualElement:h.visualElement,props:Iy(Iy({},l),e)},c,r.createElement(Jx.Provider,{value:h},o(a,e,f,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):eO(n)&&(n.current=r))}),[t])}(d,h.visualElement,t),d,l.isStatic,h.visualElement)))}))}function BC(e){function t(t,n){return void 0===n&&(n={}),jC(e(t,n))}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var zC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function qC(e){return"string"==typeof e&&!e.includes("-")&&!!(zC.indexOf(e)>-1||/[A-Z]/.test(e))}function WC(e,t){var n=t.layout,r=t.layoutId;return fC(e)||pC(e)||(n||void 0!==r)&&(!!oC[e]||"opacity"===e)}var HC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function $C(e){return e.startsWith("--")}var QC=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function KC(e,t,n,r){var i,o=e.style,s=e.vars,a=e.transform,u=e.transformKeys,l=e.transformOrigin;u.length=0;var c=!1,h=!1,f=!0;for(var d in t){var p=t[d];if($C(d))s[d]=p;else{var m=uN[d],g=QC(p,m);if(fC(d)){if(c=!0,a[d]=g,u.push(d),!f)continue;p!==(null!==(i=m.default)&&void 0!==i?i:0)&&(f=!1)}else pC(d)?(l[d]=g,h=!0):o[d]=g}}c?o.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,s=t.enableHardwareAcceleration,a=void 0===s||s,u=t.allowTransformNone,l=void 0===u||u,c="";o.sort(cC);for(var h=!1,f=o.length,d=0;d<f;d++){var p=o[d];c+="".concat(HC[p]||p,"(").concat(i[p],") "),"z"===p&&(h=!0)}return!h&&a?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,f,r):r&&(o.transform=r({},"")),h&&(o.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ,s=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(s)}(l))}function GC(e,t,n){for(var r in t)mO(t[r])||WC(r,n)||(e[r]=t[r])}function YC(e,t,n){var i={},o=function(e,t,n){var i={};return GC(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};KC(e,t,{enableHardwareAcceleration:!n},i);var r=e.style;return Iy(Iy({},e.vars),r)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),i.style=o,i}var JC=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function XC(e){return JC.has(e)}var ZC=function(e){return!XC(e)};try{var eR=require("@emotion/is-prop-valid").default;ZC=function(e){return e.startsWith("on")?!XC(e):eR(e)}}catch(uv){}function tR(e,t,n){return"string"==typeof e?e:zO.transform(t+n*e)}var nR={offset:"stroke-dashoffset",array:"stroke-dasharray"},rR={offset:"strokeDashoffset",array:"strokeDasharray"};function iR(e,t,n,r){var i=t.attrX,o=t.attrY,s=t.originX,a=t.originY,u=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,h=t.pathOffset,f=void 0===h?0:h;KC(e,xy(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,m=e.dimensions;d.transform&&(m&&(p.transform=d.transform),delete d.transform),m&&(void 0!==s||void 0!==a||p.transform)&&(p.transformOrigin=function(e,t,n){var r=tR(t,e.x,e.width),i=tR(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==s?s:.5,void 0!==a?a:.5)),void 0!==i&&(d.x=i),void 0!==o&&(d.y=o),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var o=i?nR:rR;e[o.offset]=zO.transform(-r);var s=zO.transform(t),a=zO.transform(n);e[o.array]="".concat(s," ").concat(a)}(d,u,c,f,!1)}var oR=function(){return Iy(Iy({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function sR(e,t){var n=(0,r.useMemo)((function(){var n=oR();return iR(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),Iy(Iy({},n.attrs),{style:Iy({},n.style)})}),[t]);if(e.style){var i={};GC(i,e.style,e),n.style=Iy(Iy({},i),n.style)}return n}function aR(e){return void 0===e&&(e=!1),function(t,n,i,o,s,a){var u=s.latestValues,l=(qC(t)?sR:YC)(n,u,a),c=function(e,t,n){var r={};for(var i in e)(ZC(i)||!0===n&&XC(i)||!t&&!XC(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),h=Iy(Iy(Iy({},c),l),{ref:o});return i&&(h["data-projection-id"]=i),(0,r.createElement)(t,h)}}var uR=/([a-z])([A-Z])/g,lR=function(e){return e.replace(uR,"$1-$2").toLowerCase()};function cR(e,t,n,r){var i=t.style,o=t.vars;for(var s in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(s,o[s])}var hR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function fR(e,t){for(var n in cR(e,t),t.attrs)e.setAttribute(hR.has(n)?n:lR(n),t.attrs[n])}function dR(e){var t=e.style,n={};for(var r in t)(mO(t[r])||WC(r,e))&&(n[r]=t[r]);return n}function pR(e){var t=dR(e);for(var n in e)mO(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function mR(e){return"object"==typeof e&&"function"==typeof e.start}function gR(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,s=e.onMount,a={latestValues:yR(t,n,r,i),renderState:o()};return s&&(a.mount=function(e){return s(t,e,a)}),a}var vR=function(e){return function(t,n){var i=(0,r.useContext)(Jx),o=(0,r.useContext)(Mx);return n?gR(e,t,i,o):Vx((function(){return gR(e,t,i,o)}))}};function yR(e,t,n,r){var i={},o=!1===(null==n?void 0:n.initial),s=r(e);for(var a in s)i[a]=vC(s[a]);var u=e.initial,l=e.animate,c=oO(e),h=sO(e);t&&h&&!c&&!1!==e.inherit&&(null!=u||(u=t.initial),null!=l||(l=t.animate));var f=o||!1===u,d=f?l:u;return d&&"boolean"!=typeof d&&!mR(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=rO(e,t);if(n){var r=n.transitionEnd;n.transition;var o=xy(n,["transitionEnd","transition"]);for(var s in o){var a=o[s];Array.isArray(a)&&(a=a[f?a.length-1:0]),null!==a&&(i[s]=a)}for(var s in r)i[s]=r[s]}})),i}var bR,wR={useVisualState:vR({scrapeMotionValuesFromProps:pR,createRenderState:oR,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}iR(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),fR(t,r)}})},ER={useVisualState:vR({scrapeMotionValuesFromProps:dR,createRenderState:function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}})};function SR(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function kR(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return SR(r,t,n,i)}),[e,t,n,i])}function _R(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function TR(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(bR||(bR={}));var IR={pageX:0,pageY:0};function xR(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||IR;return{x:n[t+"X"],y:n[t+"Y"]}}function OR(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function AR(e,t){return void 0===t&&(t="page"),{point:TR(e)?xR(e,t):OR(e,t)}}var NR=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,AR(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},CR={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},RR={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function DR(e){return Xx&&null===window.onpointerdown?e:Xx&&null===window.ontouchstart?RR[e]:Xx&&null===window.onmousedown?CR[e]:e}function PR(e,t,n,r){return SR(e,DR(t),NR(n,"pointerdown"===t),r)}function LR(e,t,n,r){return kR(e,DR(t),n&&NR(n,"pointerdown"===t),r)}function MR(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var VR=MR("dragHorizontal"),FR=MR("dragVertical");function UR(e){var t=!1;if("y"===e)t=FR();else if("x"===e)t=VR();else{var n=VR(),r=FR();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function jR(){var e=UR(!0);return!e||(e(),!1)}function BR(e,t,n){return function(r,i){var o;_R(r)&&!jR()&&(null===(o=e.animationState)||void 0===o||o.setActive(bR.Hover,t),null==n||n(r,i))}}var zR=function(e,t){return!!t&&(e===t||zR(e,t.parentElement))},qR=new WeakMap,WR=new WeakMap,HR=function(e){var t;null===(t=qR.get(e.target))||void 0===t||t(e)},$R=function(e){e.forEach(HR)};var QR={some:0,all:1};function KR(e,t,n,i){var o=i.root,s=i.margin,a=i.amount,u=void 0===a?"some":a,l=i.once;(0,r.useEffect)((function(){if(e){var r={root:null==o?void 0:o.current,rootMargin:s,threshold:"number"==typeof u?u:QR[u]};return function(e,t,n){var r=function(e){var t=e.root,n=xy(e,["root"]),r=t||document;WR.has(r)||WR.set(r,{});var i=WR.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver($R,Iy({root:t},n))),i[o]}(t);return qR.set(e,n),r.observe(e),function(){qR.delete(e),r.unobserve(e)}}(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!l||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(bR.InView,i);var o=n.getProps(),s=i?o.onViewportEnter:o.onViewportLeave;null==s||s(e)}}))}}),[e,o,s,u])}function GR(e,t,n){(0,r.useEffect)((function(){e&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(bR.InView,!0)}))}),[e])}var YR=function(e){return function(t){return e(t),null}},JR={inView:YR((function(e){var t=e.visualElement,n=e.whileInView,i=e.onViewportEnter,o=e.onViewportLeave,s=e.viewport,a=void 0===s?{}:s,u=(0,r.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(n||i||o);a.once&&u.current.hasEnteredView&&(l=!1),("undefined"==typeof IntersectionObserver?GR:KR)(l,u.current,t,a)})),tap:YR((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,o=e.whileTap,s=e.visualElement,a=t||n||i||o,u=(0,r.useRef)(!1),l=(0,r.useRef)(null);function c(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}function h(){var e;return c(),u.current=!1,null===(e=s.animationState)||void 0===e||e.setActive(bR.Tap,!1),!jR()}function f(e,n){h()&&(zR(s.getInstance(),e.target)?null==t||t(e,n):null==i||i(e,n))}function d(e,t){h()&&(null==i||i(e,t))}LR(s,"pointerdown",a?function(e,t){var r;c(),u.current||(u.current=!0,l.current=cA(PR(window,"pointerup",f),PR(window,"pointercancel",d)),null===(r=s.animationState)||void 0===r||r.setActive(bR.Tap,!0),null==n||n(e,t))}:void 0),Lx(c)})),focus:YR((function(e){var t=e.whileFocus,n=e.visualElement;kR(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(bR.Focus,!0)}:void 0),kR(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(bR.Focus,!1)}:void 0)})),hover:YR((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;LR(i,"pointerenter",t||r?BR(i,!0,t):void 0),LR(i,"pointerleave",n||r?BR(i,!1,n):void 0)}))};function XR(){var e=(0,r.useContext)(Mx);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,o=tD();return(0,r.useEffect)((function(){return i(o)}),[]),!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var ZR=0,eD=function(){return ZR++},tD=function(){return Vx(eD)};function nD(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var rD=function(e){return/^\-?\d*\.?\d+$/.test(e)},iD=function(e){return/^0[^.\s]+$/.test(e)},oD=function(e){return function(t){return t.test(e)}},sD=[NO,zO,BO,jO,WO,qO,{test:function(e){return"auto"===e},parse:function(e){return e}}],aD=function(e){return sD.find(oD(e))},uD=Cy(Cy([],Ny(sD),!1),[eA,aA],!1),lD=function(e){return uD.find(oD(e))};function cD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,pO(n))}function hD(e,t){if(t)return(t[e]||t.default||t).from}function fD(e,t,n){var r;void 0===n&&(n={});var i=iO(e,t,n.custom),o=(i||{}).transition,s=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(s=n.transitionOverride);var a=i?function(){return dD(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=s.delayChildren,o=void 0===i?0:i,a=s.staggerChildren,u=s.staggerDirection;return function(e,t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var s=[],a=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),a-e*r};return Array.from(e.variantChildren).sort(pD).forEach((function(e,r){s.push(fD(e,t,Iy(Iy({},o),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(s)}(e,t,o+r,a,u,n)}:function(){return Promise.resolve()},l=s.when;if(l){var c=Ny("beforeChildren"===l?[a,u]:[u,a],2),h=c[0],f=c[1];return h().then(f)}return Promise.all([a(),u(n.delay)])}function dD(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,s=void 0===o?0:o,a=i.transitionOverride,u=i.type,l=e.makeTargetAnimatable(t),c=l.transition,h=void 0===c?e.getDefaultTransition():c,f=l.transitionEnd,d=xy(l,["transition","transitionEnd"]);a&&(h=a);var p=[],m=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var g in d){var v=e.getValue(g),y=d[g];if(!(!v||void 0===y||m&&mD(m,g))){var b=vN(g,v,y,Iy({delay:s},h));p.push(b)}}return Promise.all(p).then((function(){f&&function(e,t){var n=iO(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var s=xy(r,["transitionEnd","transition"]);for(var a in s=Iy(Iy({},s),o))cD(e,a,fN(s[a]))}(e,f)}))}function pD(e,t){return e.sortNodePosition(t)}function mD(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var gD=[bR.Animate,bR.InView,bR.Focus,bR.Hover,bR.Tap,bR.Drag,bR.Exit],vD=Cy([],Ny(gD),!1).reverse(),yD=gD.length;function bD(e){var t=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return fD(e,t,n)}));r=Promise.all(i)}else if("string"==typeof t)r=fD(e,t,n);else{var o="function"==typeof t?iO(e,t,n.custom):t;r=dD(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}(e),n=function(){var e;return(e={})[bR.Animate]=wD(!0),e[bR.InView]=wD(),e[bR.Hover]=wD(),e[bR.Tap]=wD(),e[bR.Drag]=wD(),e[bR.Focus]=wD(),e[bR.Exit]=wD(),e}(),r={},i=!0,o=function(t,n){var r=iO(e,n);if(r){r.transition;var i=r.transitionEnd,o=xy(r,["transition","transitionEnd"]);t=Iy(Iy(Iy({},t),o),i)}return t};function s(s,a){for(var u,l=e.getProps(),c=e.getVariantContext(!0)||{},h=[],f=new Set,d={},p=1/0,m=function(t){var r=vD[t],m=n[r],g=null!==(u=l[r])&&void 0!==u?u:c[r],v=nO(g),y=r===a?m.isActive:null;!1===y&&(p=t);var b=g===c[r]&&g!==l[r]&&v;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=Iy({},d),!m.isActive&&null===y||!g&&!m.prevProp||mR(g)||"boolean"==typeof g)return"continue";var w=function(e,t){return"string"==typeof t?t!==e:!!tO(t)&&!nD(t,e)}(m.prevProp,g),E=w||r===a&&m.isActive&&!b&&v||t>p&&v,S=Array.isArray(g)?g:[g],k=S.reduce(o,{});!1===y&&(k={});var _=m.prevResolvedValues,T=void 0===_?{}:_,I=Iy(Iy({},T),k),x=function(e){E=!0,f.delete(e),m.needsAnimating[e]=!0};for(var O in I){var A=k[O],N=T[O];d.hasOwnProperty(O)||(A!==N?JA(A)&&JA(N)?!nD(A,N)||w?x(O):m.protectedKeys[O]=!0:void 0!==A?x(O):f.add(O):void 0!==A&&f.has(O)?x(O):m.protectedKeys[O]=!0)}m.prevProp=g,m.prevResolvedValues=k,m.isActive&&(d=Iy(Iy({},d),k)),i&&e.blockInitialAnimation&&(E=!1),E&&!b&&h.push.apply(h,Cy([],Ny(S.map((function(e){return{animation:e,options:Iy({type:r},s)}}))),!1))},g=0;g<yD;g++)m(g);if(r=Iy({},d),f.size){var v={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)})),h.push({animation:v})}var y=Boolean(h.length);return i&&!1===l.initial&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(h):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:s,setActive:function(t,r,i){var o;return n[t].isActive===r?Promise.resolve():(null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r,s(i,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function wD(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var ED={animation:YR((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=bD(t)),mR(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:YR((function(e){var t=e.custom,n=e.visualElement,i=Ny(XR(),2),o=i[0],s=i[1],a=(0,r.useContext)(Mx);(0,r.useEffect)((function(){var e,r;n.isPresent=o;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(bR.Exit,!o,{custom:null!==(r=null==a?void 0:a.custom)&&void 0!==r?r:t});!o&&(null==i||i.then(s))}),[o])}))},SD=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=TD(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=zN(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=Dx().timestamp;r.history.push(Iy(Iy({},i),{timestamp:o}));var s=r.handlers,a=s.onStart,u=s.onMove;t||(a&&a(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=kD(t,r.transformPagePoint),_R(e)&&0===e.buttons?r.handlePointerUp(e,t):Px.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,s=TD(kD(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,s),o&&o(e,s)},!(TR(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=kD(AR(e),this.transformPagePoint),s=o.point,a=Dx().timestamp;this.history=[Iy(Iy({},s),{timestamp:a})];var u=t.onSessionStart;u&&u(e,TD(o,this.history)),this.removeListeners=cA(PR(window,"pointermove",this.handlePointerMove),PR(window,"pointerup",this.handlePointerUp),PR(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Ox.update(this.updatePoint)},e}();function kD(e,t){return t?{point:t(e.point)}:e}function _D(e,t){return{x:e.x-t.x,y:e.y-t.y}}function TD(e,t){var n=e.point;return{point:n,delta:_D(n,xD(t)),offset:_D(n,ID(t)),velocity:OD(t,.1)}}function ID(e){return e[0]}function xD(e){return e[e.length-1]}function OD(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=xD(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>jA(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function AD(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ND(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=Ny([i,r],2))[0],i=n[1]),{min:r,max:i}}var CD=.35;function RD(e,t,n){return{min:DD(e,t),max:DD(e,n)}}function DD(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function PD(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function LD(e,t){return PD(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var MD=new WeakMap,VD=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new SD(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(AR(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,s=i.dragPropagation,a=i.onDragStart;(!o||s||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=UR(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),aC((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(BO.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];o&&(i=qN(o)*(parseFloat(i)/100))}n.originPoint[e]=i})),null==a||a(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(bR.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,s=r.onDirectionLock,a=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(u),void(null!==n.currentDirection&&(null==s||s(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null==a||a(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(bR.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&FD(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?uO(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?uO(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&eO(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:AD(e.x,r,o),y:AD(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=CD),!1===e?e=0:!0===e&&(e=CD),{x:RD(e,"left","right"),y:RD(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&aC((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!eO(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=LD(e,n),i=t.scroll;return i&&(PN(r.x,i.x),PN(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),s=function(e,t){return{x:ND(e.x,t.x),y:ND(e.y,t.y)}}(i.layout.actual,o);if(n){var a=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(s));this.hasMutatedConstraints=!!a,a&&(s=PD(a))}return s},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,s=n.dragTransition,a=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=aC((function(n){var u;if(FD(n,r,t.currentDirection)){var c=null!==(u=null==l?void 0:l[n])&&void 0!==u?u:{};a&&(c={min:0,max:0});var h=o?200:1e6,f=o?40:1e7,d=Iy(Iy({type:"inertia",velocity:i?e[n]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},s),c);return t.startAxisValueAnimation(n,d)}}));return Promise.all(c).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return vN(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;aC((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;aC((function(n){if(FD(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],s=o.min,a=o.max;i.set(e[n]-uO(s,a,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(eO(i)&&o&&this.constraints){this.stopAnimation();var s={x:0,y:0};aC((function(e){var n,r,i,o,a,u=t.getAxisMotionValue(e);if(u){var l=u.get();s[e]=(n={min:l,max:l},r=t.constraints[e],i=.5,o=qN(n),(a=qN(r))>o?i=kO(r.min,r.max-o,n.min):o>a&&(i=kO(n.min,n.max-a,r.min)),gO(0,1,i))}}));var a=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=a?a({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),aC((function(e){if(FD(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,a=i.max;n.set(uO(o,a,s[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;MD.set(this.visualElement,this);var n=PR(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){eO(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var s=SR(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(aC((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){s(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,s=void 0!==o&&o,a=e.dragConstraints,u=void 0!==a&&a,l=e.dragElastic,c=void 0===l?CD:l,h=e.dragMomentum,f=void 0===h||h;return Iy(Iy({},e),{drag:n,dragDirectionLock:i,dragPropagation:s,dragConstraints:u,dragElastic:c,dragMomentum:f})},e}();function FD(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var UD={pan:YR((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,s=e.visualElement,a=t||n||i||o,u=(0,r.useRef)(null),l=(0,r.useContext)(Yx).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==u.current&&u.current.updateHandlers(c)})),LR(s,"pointerdown",a&&function(e){u.current=new SD(e,c,{transformPagePoint:l})}),Lx((function(){return u.current&&u.current.end()}))})),drag:YR((function(e){var t=e.dragControls,n=e.visualElement,i=Vx((function(){return new VD(n)}));(0,r.useEffect)((function(){return t&&t.subscribe(i)}),[i,t]),(0,r.useEffect)((function(){return i.addListeners()}),[i])}))},jD=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"],BD=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,s=e.measureViewportBox,a=e.render,u=e.readValueFromInstance,l=e.removeValueFromRenderState,c=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e,t){var f=e.parent,d=e.props,p=e.presenceId,m=e.blockInitialAnimation,g=e.visualState;void 0===t&&(t={});var v,y,b=!1,w=g.latestValues,E=g.renderState,S=function(){var e=jD.map((function(){return new fO})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){jD.forEach((function(r){var i,o="on"+r,s=e[o];null===(i=t[r])||void 0===i||i.call(t),s&&(t[r]=n[o](s))}))}};return e.forEach((function(e,t){n["on"+jD[t]]=function(t){return e.add(t)},n["notify"+jD[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.notify.apply(e,Cy([],Ny(t),!1))}})),n}(),k=new Map,_=new Map,T={},I=Iy({},w);function x(){v&&b&&(O(),a(v,E,d.style,L.projection))}function O(){r(L,E,w,t,d)}function A(){S.notifyUpdate(w)}var N=h(d);for(var C in N){var R=N[C];void 0!==w[C]&&mO(R)&&R.set(w[C],!1)}var D=oO(d),P=sO(d),L=Iy(Iy({treeType:n,current:null,depth:f?f.depth+1:0,parent:f,children:new Set,presenceId:p,variantChildren:P?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==f?void 0:f.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(v)},mount:function(e){b=!0,v=L.current=e,L.projection&&L.projection.mount(e),P&&f&&!D&&(y=null==f?void 0:f.addVariantChild(L)),null==f||f.children.add(L),L.setProps(d)},unmount:function(){var e;null===(e=L.projection)||void 0===e||e.unmount(),Ox.update(A),Ox.render(x),_.forEach((function(e){return e()})),null==y||y(),null==f||f.children.delete(L),S.clearAllListeners(),v=void 0,b=!1},addVariantChild:function(e){var t,n=L.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(L.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return P?L:null==f?void 0:f.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return v},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){L.isVisible!==e&&(L.isVisible=e,L.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(L,e,d,t)},measureViewportBox:function(){return s(v,d)},addValue:function(e,t){L.hasValue(e)&&L.removeValue(e),k.set(e,t),w[e]=t.get(),function(e,t){var n=t.onChange((function(t){w[e]=t,d.onUpdate&&Px.update(A,!1,!0)})),r=t.onRenderRequest(L.scheduleRender);_.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;k.delete(e),null===(t=_.get(e))||void 0===t||t(),_.delete(e),delete w[e],l(e,E)},hasValue:function(e){return k.has(e)},getValue:function(e,t){var n=k.get(e);return void 0===n&&void 0!==t&&(n=pO(t),L.addValue(e,n)),n},forEachValue:function(e){return k.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:u(v,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!mO(t))return t}return I[e]}},S),{build:function(){return O(),E},scheduleRender:function(){Px.render(x,!1,!0)},syncRender:x,setProps:function(e){d=e,S.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var o=t[i],s=n[i];if(mO(o))e.addValue(i,o);else if(mO(s))e.addValue(i,pO(o));else if(s!==o)if(e.hasValue(i)){var a=e.getValue(i);!a.hasAnimated&&a.set(o)}else e.addValue(i,pO(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(L,h(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==f?void 0:f.getVariantContext();if(!D){var t=(null==f?void 0:f.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<qD;r++){var i=zD[r],o=d[i];(nO(o)||!1===o)&&(n[i]=o)}return n}});return L}},zD=Cy(["initial"],Ny(gD),!1),qD=zD.length;function WD(e){return"string"==typeof e&&e.startsWith("var(--")}var HD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $D(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=Ny(function(e){var t=HD.exec(e);if(!t)return[,];var n=Ny(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var s=window.getComputedStyle(t).getPropertyValue(i);return s?s.trim():WD(o)?$D(o,t,n+1):o}}var QD,KD=new Set(["width","height","top","left","right","bottom","x","y"]),GD=function(e){return KD.has(e)},YD=function(e,t){e.set(t,!1),e.set(t)},JD=function(e){return e===NO||e===zO};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(QD||(QD={}));var XD=function(e,t){return parseFloat(e.split(", ")[t])},ZD=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return XD(o[1],t);var s=i.match(/^matrix\((.+)\)$/);return s?XD(s[1],e):0}},eP=new Set(["x","y","z"]),tP=lC.filter((function(e){return!eP.has(e)})),nP={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,s=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(s)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:ZD(4,13),y:ZD(5,14)};function rP(e,t,n,r){return function(e){return Object.keys(e).some(GD)}(t)?function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=Iy({},t),r=Iy({},r);var i=Object.keys(t).filter(GD),o=[],s=!1,a=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],h=aD(c),f=t[i];if(JA(f)){var d=f.length,p=null===f[0]?1:0;c=f[p],h=aD(c);for(var m=p;m<d;m++)l?aD(f[m]):(l=aD(f[m]))===h||JD(h)&&JD(l)}else l=aD(f);if(h!==l)if(JD(h)&&JD(l)){var g=u.get();"string"==typeof g&&u.set(parseFloat(g)),"string"==typeof f?t[i]=parseFloat(f):Array.isArray(f)&&l===zO&&(t[i]=f.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==l?void 0:l.transform)&&(0===c||0===f)?0===c?u.set(l.transform(c)):t[i]=h.transform(f):(s||(o=function(e){var t=[];return tP.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),s=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],YD(u,f))}})),a.length){var u=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),s=o.display,a={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){a[e]=nP[e](r,o)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);YD(r,a[n]),e[n]=nP[n](u,o)})),e}(t,e,a);return o.length&&o.forEach((function(t){var n=Ny(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var iP={treeType:"dom",readValueFromInstance:function(e,t){if(fC(t)){var n=cN(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return($C(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return LD(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,s=t.transitionEnd,a=xy(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,o={};for(var s in e)o[s]=null!==(r=hD(s,t))&&void 0!==r?r:null===(i=n.getValue(s))||void 0===i?void 0:i.get();return o}(a,o||{},e);if(i&&(s&&(s=i(s)),a&&(a=i(a)),u&&(u=i(u))),r){!function(e,t,n){var r,i,o,s,a=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=a.length;if(u)for(var l=0;l<u;l++){var c=a[l],h=t[c],f=null;Array.isArray(h)&&(f=h[0]),null===f&&(f=null!==(i=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==i?i:t[c]),null!=f&&("string"==typeof f&&(rD(f)||iD(f))?f=parseFloat(f):!lD(f)&&aA.test(h)&&(f=hN(c,h)),e.addValue(c,pO(f)),null!==(o=(s=n)[c])&&void 0!==o||(s[c]=f),e.setBaseTarget(c,f))}}(e,a,u);var l=function(e,t,n,r){var i=function(e,t,n){var r,i=xy(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:n};for(var s in n&&(n=Iy({},n)),e.forEachValue((function(e){var t=e.get();if(WD(t)){var n=$D(t,o);n&&e.set(n)}})),i){var a=i[s];if(WD(a)){var u=$D(a,o);u&&(i[s]=u,n&&(null!==(r=n[s])&&void 0!==r||(n[s]=a)))}}return{target:i,transitionEnd:n}}(e,t,r);return rP(e,t=i.target,n,r=i.transitionEnd)}(e,a,u,s);s=l.transitionEnd,a=l.target}return Iy({transition:o,transitionEnd:s},a)},scrapeMotionValuesFromProps:dR,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),KC(t,n,r,i.transformTemplate)},render:cR},oP=BD(iP),sP=BD(Iy(Iy({},iP),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return fC(t)?(null===(n=cN(t))||void 0===n?void 0:n.default)||0:(t=hR.has(t)?t:lR(t),e.getAttribute(t))},scrapeMotionValuesFromProps:pR,build:function(e,t,n,r,i){iR(t,n,r,i.transformTemplate)},render:fR})),aP=function(e,t){return qC(e)?sP(t,{enableHardwareAcceleration:!1}):oP(t,{enableHardwareAcceleration:!0})};function uP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var lP={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!zO.test(e))return e;e=parseFloat(e)}var n=uP(e,t.target.x),r=uP(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},cP="_$css",hP={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),s=[];o&&(e=e.replace(HD,(function(e){return s.push(e),cP})));var a=aA.parse(e);if(a.length>5)return i;var u=aA.createTransformer(e),l="number"!=typeof a[0]?1:0,c=r.x.scale*n.x,h=r.y.scale*n.y;a[0+l]/=c,a[1+l]/=h;var f=uO(c,h,.5);"number"==typeof a[2+l]&&(a[2+l]/=f),"number"==typeof a[3+l]&&(a[3+l]/=f);var d=u(a);if(o){var p=0;d=d.replace(cP,(function(){var e=s[p];return p++,e}))}return d}},fP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ty(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,s=n.layoutId,a=r.projection;e=dP,Object.assign(oC,e),a&&((null==i?void 0:i.group)&&i.group.add(a),(null==o?void 0:o.register)&&s&&o.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",(function(){t.safeToRemove()})),a.setOptions(Iy(Iy({},a.options),{onExitComplete:function(){return t.safeToRemove()}}))),yC.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,s=n.isPresent,a=i.projection;return a?(a.isPresent=s,o||e.layoutDependency!==r||void 0===r?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Px.postRender((function(){var e;(null===(e=a.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(r.Component),dP={borderRadius:Iy(Iy({},lP),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:lP,borderTopRightRadius:lP,borderBottomLeftRadius:lP,borderBottomRightRadius:lP,boxShadow:hP},pP={measureLayout:function(e){var t=Ny(XR(),2),n=t[0],i=t[1],o=(0,r.useContext)(zx);return r.createElement(fP,Iy({},e,{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(FC),isPresent:n,safeToRemove:i}))}},mP=bC({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),gP={current:void 0},vP=bC({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!gP.current){var e=new mP(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),gP.current=e}return gP.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"}}),yP=Iy(Iy(Iy(Iy({},ED),JR),UD),pP),bP=BC((function(e,t){return function(e,t,n,r,i){var o=t.forwardMotionProps,s=void 0!==o&&o,a=qC(e)?wR:ER;return Iy(Iy({},a),{preloadedFeatures:n,useRender:aR(s),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,yP,aP,vP)}));const wP=os({key:"getCategories",get:({get:e})=>e(ux).reduce(((e,t)=>(t.categories.map((t=>{const n=e.find((e=>e.name===t));n?n.count++:e.push({name:t,count:1})})),e)),[]).sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())))}),EP=ss({key:"getCategoriesBanned",default:[],effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=Uv(vI,e);n((e=>{Ey(r,{categoriesBanned:e},{merge:!0})}));const i=Sy(r,(e=>{const n=e.data();t(n?.categoriesBanned?n.categoriesBanned:[])}));return()=>i()}]}),SP=()=>{const e=us(wP),t=us(yI),[n,i]=ls(EP(t.room)),[o,s]=(0,r.useState)(!0),{t:a}=Ds(),u={hidden:{y:"80%"},visible:{y:0}};return r.createElement(Wx,null,r.createElement(bP.div,{className:"categories",transition:{duration:.3},initial:"hidden",animate:o?"visible":"hidden",variants:u,exit:u.hidden},r.createElement("div",{className:"categories--title",onClick:()=>s(!o)},a("categories.choose-categories")),r.createElement("div",{className:"categories--container"},e.map(((e,t)=>r.createElement("div",{key:t,className:"categorie"},r.createElement("input",{type:"checkbox",id:e.name,className:"categorie--checkbox",onChange:()=>(e=>n.includes(e)?i(n.filter((t=>t!==e))):i([...n,e]))(e.name),checked:!n.includes(e.name)}),r.createElement("label",{className:"categorie--label",htmlFor:e.name},e.name," (",e.count,")")))))))},kP=()=>{const e=us(yI),t=us(EP(e.room)),n=us(ux),i=us(dI),o=us(pI),s=us(fI),a=us(Fk),[u,l]=(0,r.useState)(!1),c=cs(cx(e.me)),h=cs(fx(e.me)),f=cs(cx(e.opponent)),d=cs(fx(e.opponent)),p=cs(mx(e.room)),{t:m}=Ds();return(0,r.useEffect)((()=>{u&&setTimeout((()=>{l(!1)}),2e3)}),[u]),s.length<2?r.createElement("div",{className:"lobby"},r.createElement("div",{className:"lobby--room-id"},m("lobby.room")," ",r.createElement("span",{className:"lobby--room-id__value"},(()=>{const e=a.split("");return e.map(((t,n)=>n<e.length-3?"":t))})())),m("lobby.waiting"),r.createElement("button",{className:"lobby--link",onClick:()=>(l(!0),void window.navigator.clipboard.writeText(`${window.location.origin}${window.location.pathname}#room=${a}`))},m(u?"lobby.link-clicked":"lobby.link"))):r.createElement("div",{className:"lobby"},i&&o&&r.createElement("div",{className:"lobby--versus"},r.createElement("div",{className:"lobby--versus__me"},r.createElement("img",{src:i.photoURL,alt:i.name}),r.createElement("span",null,i.name)),r.createElement("div",null,"vs"),r.createElement("div",{className:"lobby--versus__opponent"},r.createElement("img",{src:o.photoURL,alt:o.name}),r.createElement("span",null,o.name))),r.createElement("button",{className:"lobby--start",onClick:()=>(async()=>{h(void 0),d(void 0);const e=function(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const n=Math.random()*r--|0,i=e[r+t];e[r+t]=e[n+t],e[n+t]=i}return e}(n.filter((e=>{for(let n of e.categories)if(t.includes(n))return!1;return!0}))),r=e.slice(0,Math.min(24,e.length/2)),i=e.slice(r.length,r.length+24);c(r),f(i),p("running")})()},m("lobby.start")),s.length>2&&r.createElement("div",{className:"lobby--toomanyplayers"},m("lobby.too-many-players")),r.createElement(SP,null))},_P=()=>{const e=us(Fk),{t}=Ds();return r.createElement("div",{className:"login"},r.createElement("div",{className:"login--container"},r.createElement("div",{className:"login--container__title"},r.createElement("img",{className:"login--container__logo",src:"./assets/TwitchGlitchPurple.svg"}),t("login.title")),r.createElement("button",{onClick:()=>{window.location.assign(`https://id.twitch.tv/oauth2/authorize?client_id=${uI}&redirect_uri=${encodeURIComponent(`${window.location.origin}${window.location.pathname}#room=${e}`)}&response_type=token`)}},t("login.action")),r.createElement("br",null)))},TP=({font:e,text:t,...n})=>{const i=(0,r.useRef)(null),[o,s]=(0,r.useState)(),[a,u]=(0,r.useState)(),l=function(e,t,n){var i=this,o=(0,r.useRef)(null),s=(0,r.useRef)(0),a=(0,r.useRef)(null),u=(0,r.useRef)([]),l=(0,r.useRef)(),c=(0,r.useRef)(),h=(0,r.useRef)(e),f=(0,r.useRef)(!0);h.current=e;var d=!t&&0!==t&&"undefined"!=typeof window;t=+t||0;var p=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,t):null;(0,r.useEffect)((function(){return f.current=!0,function(){f.current=!1}}),[]);var y=(0,r.useMemo)((function(){var e=function(e){var t=u.current,n=l.current;return u.current=l.current=null,s.current=e,c.current=h.current.apply(n,t)},n=function(e,t){d&&cancelAnimationFrame(a.current),a.current=d?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!f.current)return!1;var n=e-o.current,r=e-s.current;return!o.current||n>=t||n<0||g&&r>=v},y=function(t){return a.current=null,m&&u.current?e(t):(u.current=l.current=null,c.current)},b=function(){var e=Date.now();if(r(e))return y(e);if(f.current){var i=e-o.current,a=e-s.current,u=t-i,l=g?Math.min(u,v-a):u;n(b,l)}},w=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var m=Date.now(),v=r(m);if(u.current=h,l.current=i,o.current=m,v){if(!a.current&&f.current)return s.current=o.current,n(b,t),p?e(o.current):c.current;if(g)return n(b,t),e(o.current)}return a.current||n(b,t),c.current};return w.cancel=function(){a.current&&(d?cancelAnimationFrame(a.current):clearTimeout(a.current)),s.current=0,u.current=o.current=l.current=a.current=null},w.isPending=function(){return!!a.current},w.flush=function(){return a.current?y(Date.now()):c.current},w}),[p,g,t,v,m,d]);return y}((()=>{u({width:window.innerWidth,height:window.innerHeight})}),200);return(0,r.useEffect)((()=>{setTimeout((()=>{if(!i.current)return;const n=document.createElement("span");n.innerText=t,n.style.fontFamily=e,n.style.fontSize="100px",n.classList.add("textfit"),document.body.appendChild(n);const{width:r}=i.current.getBoundingClientRect(),{width:o}=n.getBoundingClientRect();n.remove(),s(`${Math.min(r/o*100,24)}px`)}),50)}),[t,a]),(0,r.useEffect)((()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l))),[]),r.createElement("div",{style:{whiteSpace:"nowrap",fontSize:o},...n,ref:i},t)},IP=({animateDelay:e,character:t,position:n,hide:i,onClick:o})=>{const{name:s,image:{offsetX:a}}=t,u=["character--box"];let l;n&&(l={...n,position:"absolute"});const c={backgroundImage:`url(${t.image.url})`};null!==a&&(c.backgroundPosition=100*a+"% center");const h={hidden:{zIndex:n?.zIndex},visible:{zIndex:n?.zIndex}},f={hidden:{y:"65%"},visible:e=>({y:0,transition:{delay:.07*(e??1)}})};return i&&u.push("character--box__hiden"),r.createElement(Wx,null,r.createElement(bP.div,{className:"character",style:l,transition:{delay:i?.3:0},initial:"visible",animate:i?"hidden":"visible",variants:h,exit:h.hidden},r.createElement(bP.div,{custom:e,className:u.join(" "),transition:{duration:.5},initial:"hidden",animate:i?"hidden":"visible",variants:f,exit:f.hidden,onClick:()=>o&&o(t,i)},r.createElement("div",{className:"character--box__background"},r.createElement("img",{src:"assets/case-background.webp"})),r.createElement("div",{className:"character--box__image",style:c}),r.createElement("div",{className:"character--box__front"},r.createElement("img",{src:"assets/case-front.webp"})),r.createElement(TP,{className:"character--box__name",text:s,font:"Sweaty Belvin"}))))},xP={width:2400,height:1840},OP=({characters:e,charactersHidden:t,onClick:n})=>{const i=[{y:173,x:364,width:1670,height:340,padding:[32,32,0,32]},{y:444,x:320,width:1777,height:354,padding:[32,32,0,32]},{y:800,x:236,width:1946,height:430,padding:[32,32,0,32]}],o=[32,21,11],[s]=(0,r.useState)(new Map),a=(e,t)=>{let n={...e};if(n.padding){const[e,t,r,i]=n.padding;n.x-=i,n.y-=e,n.width=n.width+i+t,n.height=n.height+e+r}let r={...t};if(r.padding){const[e,t,i,o]=r.padding;r.width=r.width+o+t,r.height=r.height+e+i,n.x+=o,n.y+=e}const{x:i,y:o,width:s,height:a}=n;return{height:a/r.height*100+"%",left:i/r.width*100+"%",top:o/r.height*100+"%",width:s/r.width*100+"%"}},u=(n,r,s)=>{const u=(i[n].width-7*o[n])/8,l={x:u*r+o[n]*r,y:0,width:u,height:i[n].height},c=t&&t.includes(s);return{...a(l,i[n]),zIndex:c?e.length-10*n+r:100+10*n+r}},l=(e,t,n)=>s.get(n)?1:e%2==1?8*e+(7-t):8*e+t,c=e.reduce(((e,t,n)=>{const r=Math.floor(n/8);return e[r]=e[r]||[],e[r].push(t),e}),[]);return r.createElement("div",{className:"plateau"},r.createElement("img",{src:"assets/plateau-front.webp",alt:"Plateau"}),c.map(((e,o)=>r.createElement("div",{className:"plateau--row",key:o,style:{...a(i[o],xP)}},e.map(((e,i)=>r.createElement(IP,{key:i,animateDelay:l(o,i,e),character:e,position:u(o,i,e),hide:t&&t.includes(e),onClick:s.set(e,!0)&&n})))))))},AP=()=>{const e=us(yI),t=cs(fx(e.opponent)),n=us(cx(e.opponent)),{t:i}=Ds();return r.createElement("div",{className:"choosecharacter"},r.createElement("div",{className:"choosecharacter--modal"},r.createElement("div",{className:"choosecharacter--modal__title"},i("choosecharacter.title")),r.createElement("div",{className:"choosecharacter--modal__container"},r.createElement(OP,{characters:n,onClick:e=>{t(e)}}))))},NP=()=>{const e=us(yI),t=us(cx(e.me)),n=us(fx(e.opponent)),i=us(pI),o=cs(px(e.opponent)),[s,a]=ls(px(e.me)),u=cs(mx(e.room)),[l,c]=(0,r.useState)([]),[h,f]=(0,r.useState)(!1),d=["scene--plateau"];h&&d.push("scene--guessing");const p={hidden:{y:"-100%"},visible:{y:0}},{t:m}=Ds();return n?r.createElement("div",{className:"scene"},r.createElement("div",{className:d.join(" ")},r.createElement(OP,{characters:t,charactersHidden:l,onClick:h?(e,t)=>{t||(o(e),f(!1))}:e=>{if(l.includes(e))return c(l.filter((t=>t!==e)));c([...l,e])}}),r.createElement(Wx,null,r.createElement(bP.button,{className:"scene--guessing__button",onClick:()=>f(!h)},h?r.createElement("svg",{height:"48",width:"48",viewBox:"0 0 24 24"},r.createElement("path",{d:"M13.427 3.021h-7.427v-3.021l-6 5.39 6 5.61v-3h7.427c3.071 0 5.561 2.356 5.561 5.427 0 3.071-2.489 5.573-5.561 5.573h-7.427v5h7.427c5.84 0 10.573-4.734 10.573-10.573s-4.733-10.406-10.573-10.406z"})):"?"))),n&&r.createElement("div",{className:"scene--opponent"},i&&r.createElement("div",{className:"scene--opponent__info"},r.createElement("div",{className:"scene--opponent__name"},i.name),r.createElement("div",null,m("scene.must-guess"))),r.createElement("div",{className:"scene--opponent__character"},r.createElement(IP,{character:n}))),r.createElement(Wx,null,s&&r.createElement("div",{className:"scene--characterguessed"},r.createElement(bP.div,{className:"scene--characterguessed__content",transition:{duration:.3},initial:"hidden",animate:"visible",variants:p,exit:p.hidden},r.createElement("div",null,m("plateau.guess")," ",r.createElement("span",{className:"scene--characterguessed__name"},s.name)," ?"),s.id===n.id&&r.createElement("button",{onClick:()=>(a(void 0),void u("finished"))},m("plateau.yes")),s.id!==n.id&&r.createElement("button",{onClick:()=>a(void 0)},m("plateau.no")))))):r.createElement(AP,null)};function CP(e){return CP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CP(e)}function RP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(e,t){return DP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DP(e,t)}function PP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DP(e,t)}function LP(e,t){if(t&&("object"===CP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return RP(e)}function MP(e){return MP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MP(e)}function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VP(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UP={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},jP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ps(this,e),this.init(t,n)}return gs(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||UP,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,FP(FP({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),BP=new jP,zP=function(){function e(){ps(this,e),this.observers={}}return gs(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function qP(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function WP(e){return null==e?"":""+e}function HP(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function $P(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!e[s]&&n&&(e[s]=new n),e=Object.prototype.hasOwnProperty.call(e,s)?e[s]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function QP(e,t,n){var r=$P(e,t,Object);r.obj[r.k]=n}function KP(e,t){var n=$P(e,t),r=n.obj,i=n.k;if(r)return r[i]}function GP(e,t,n){var r=KP(e,n);return void 0!==r?r:KP(t,n)}function YP(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):YP(e[r],t[r],n):e[r]=t[r]);return e}function JP(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var XP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ZP(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return XP[e]})):e}var eL="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,tL=[" ",",","?","!",";"];function nL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iL(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var s=2,a=r.slice(o,o+s).join(n),u=i[a];void 0===u&&r.length>o+s;)s++,u=i[a=r.slice(o,o+s).join(n)];if(void 0===u)return;if("string"==typeof u)return u;if(a&&"string"==typeof u[a])return u[a];var l=r.slice(o+s).join(n);return l?iL(u,l,n):void 0}i=i[r[o]]}return i}}var oL=function(e){PP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=MP(t);if(n){var i=MP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return LP(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ps(this,i),t=r.call(this),eL&&zP.call(RP(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return gs(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."));var a=KP(this.data,s);return a||!o||"string"!=typeof n?a:iL(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(s=e.split("."))[1]),this.addNamespaces(t),QP(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var a=KP(this.data,s)||{};r?YP(a,n,i):a=rL(rL({},a),n),QP(this.data,s,a),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?rL(rL({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(zP),sL={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function aL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lL={},cL=function(e){PP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=MP(t);if(n){var i=MP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return LP(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ps(this,i),t=r.call(this),eL&&zP.call(RP(t)),HP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,RP(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=BP.create("translator"),t}return gs(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=tL.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var s=e.indexOf(n);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o}(e,n,r));if(o&&!s){var a=e.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==CP(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),a=s.key,u=s.namespaces,l=u[u.length-1],c=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(h){var f=t.nsSeparator||this.options.nsSeparator;return l+f+a}return a}var d=this.resolve(e,t),p=d&&d.res,m=d&&d.usedKey||a,g=d&&d.exactUsedKey||a,v=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,E="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(w&&p&&E&&y.indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,uL(uL({},t),{},{ns:u})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(o){var S="[object Array]"===v,k=S?[]:{},_=S?g:m;for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)){var I="".concat(_).concat(o).concat(T);k[T]=this.translate(I,uL(uL({},t),{joinArrays:!1,ns:u})),k[T]===I&&(k[T]=p[T])}p=k}}else if(w&&"string"==typeof b&&"[object Array]"===v)(p=p.join(b))&&(p=this.extendTranslation(p,e,t,n));else{var x=!1,O=!1,A=void 0!==t.count&&"string"!=typeof t.count,N=i.hasDefaultValue(t),C=A?this.pluralResolver.getSuffix(c,t.count,t):"",R=t["defaultValue".concat(C)]||t.defaultValue;!this.isValidLookup(p)&&N&&(x=!0,p=R),this.isValidLookup(p)||(O=!0,p=a);var D=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,P=D&&O?void 0:p,L=N&&R!==p&&this.options.updateMissing;if(O||x||L){if(this.logger.log(L?"updateKey":"missingKey",c,l,a,L?R:p),o){var M=this.resolve(a,uL(uL({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var V=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var U=0;U<F.length;U++)V.push(F[U]);else"all"===this.options.saveMissingTo?V=this.languageUtils.toResolveHierarchy(t.lng||this.language):V.push(t.lng||this.language);var j=function(e,n,i){var o=N&&i!==p?i:P;r.options.missingKeyHandler?r.options.missingKeyHandler(e,l,n,o,L,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,l,n,o,L,t),r.emit("missingKey",e,l,n,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?V.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(n){j([e],a+n,t["defaultValue".concat(n)]||R)}))})):j(V,a,R))}p=this.extendTranslation(p,e,t,d,n),O&&p===a&&this.options.appendNamespaceToMissingKey&&(p="".concat(l,":").concat(a)),(O||x)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(uL(uL({},n),{interpolation:uL(uL({},this.options.interpolation),n.interpolation)}));var s,a="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(a){var u=e.match(this.interpolator.nestingRegexp);s=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=uL(uL({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),a){var c=e.match(this.interpolator.nestingRegexp);s<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var h=n.postProcess||this.options.postProcess,f="string"==typeof h?[h]:h;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=sL.handle(f,e,t,this.options&&this.options.postProcessPassResolved?uL({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!s.isValidLookup(t)){var u=s.extractFromKey(e,a),l=u.key;n=l;var c=u.namespaces;s.options.fallbackNS&&(c=c.concat(s.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,f=h&&!a.ordinal&&0===a.count&&s.pluralResolver.shouldUseIntlApi(),d=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,p=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);c.forEach((function(e){s.isValidLookup(t)||(o=e,!lL["".concat(p[0],"-").concat(e)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(o)&&(lL["".concat(p[0],"-").concat(e)]=!0,s.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!s.isValidLookup(t)){i=n;var o,u=[l];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(u,l,n,e,a);else{var c;h&&(c=s.pluralResolver.getSuffix(n,a.count,a));var p="_zero";if(h&&(u.push(l+c),f&&u.push(l+p)),d){var m="".concat(l).concat(s.options.contextSeparator).concat(a.context);u.push(m),h&&(u.push(m+c),f&&u.push(m+p))}}for(;o=u.pop();)s.isValidLookup(t)||(r=o,t=s.getResource(n,e,o,a))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),i}(zP);function hL(e){return e.charAt(0).toUpperCase()+e.slice(1)}var fL=function(){function e(t){ps(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=BP.create("languageUtils")}return gs(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=hL(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=hL(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=hL(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),dL=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],pL={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},mL=["v1","v2","v3"],gL={zero:0,one:1,two:2,few:3,many:4,other:5};function vL(){var e={};return dL.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:pL[t.fc]}}))})),e}var yL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ps(this,e),this.languageUtils=t,this.options=n,this.logger=BP.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vL()}return gs(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return gL[e]-gL[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!mL.includes(this.options.compatibilityJSON)}}]),e}();function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var EL=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ps(this,e),this.logger=BP.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return gs(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:ZP,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?JP(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?JP(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?JP(t.nestingPrefix):t.nestingPrefixEscaped||JP("$t("),this.nestingSuffix=t.nestingSuffix?JP(t.nestingSuffix):t.nestingSuffixEscaped||JP(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,s,a=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(a.formatSeparator)<0){var i=GP(t,u,e);return a.alwaysFormat?a.format(i,void 0,n,wL(wL(wL({},r),t),{},{interpolationkey:e})):i}var o=e.split(a.formatSeparator),s=o.shift().trim(),l=o.join(a.formatSeparator).trim();return a.format(GP(t,u,s),l,n,wL(wL(wL({},r),t),{},{interpolationkey:s}))};this.resetRegExp();var h=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?l(a.escape(e)):l(e)}}].forEach((function(t){for(s=0;i=t.regex.exec(e);){if(void 0===(o=c(i[1].trim())))if("function"==typeof h){var n=h(e,i,r);o="string"==typeof n?n:""}else{if(f){o=i[0];continue}a.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||a.useRawValueToEscape||(o=WP(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),f?(t.regex.lastIndex+=u.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++s>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=wL({},o);function a(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),t&&(s=wL(wL({},t),s))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete s.defaultValue,e}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),u=c,l=!0}if((r=t(a.call(this,n[1].trim(),s),s))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=WP(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce((function(e,t){return i.format(e,t,o.lng,wL(wL({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function SL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ps(this,e),this.logger=BP.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,kL(kL({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,kL({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,kL({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,kL({},n)).format(e)}},this.init(t)}return gs(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=fs(e.split(":"),2),r=t[0],i=t[1];"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10)),n[r.trim()]||(n[r.trim()]=i.trim())}}))}return{formatName:t,formatOptions:n}}(t),s=o.formatName,a=o.formatOptions;if(i.formats[s]){var u=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=l.locale||l.lng||r.locale||r.lng||n;u=i.formats[s](e,c,kL(kL(kL({},a),r),l))}catch(e){i.logger.warn(e)}return u}return i.logger.warn("there was no format function for ".concat(s)),e}),e);return o}}]),e}();function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xL=function(e){PP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=MP(t);if(n){var i=MP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return LP(this,e)});function i(e,t,n){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ps(this,i),o=r.call(this),eL&&zP.call(RP(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=s,o.logger=BP.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,s.backend,s),o}return gs(i,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],s=[],a=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[a]=2:i.state[a]<0||(1===i.state[a]?s.indexOf(a)<0&&s.push(a):(i.state[a]=1,r=!1,s.indexOf(a)<0&&s.push(a),o.indexOf(a)<0&&o.push(a),u.indexOf(t)<0&&u.push(t)))})),r||a.push(e)})),(o.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:r}),{toLoad:o,pending:s,toLoadLanguages:a,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var s={};this.queue.forEach((function(n){!function(e,t,n,r){var i=$P(e,t,Object),o=i.obj,s=i.k;o[s]=o[s]||[],o[s].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){s[e]||(s[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){s[e].indexOf(t)<0&&s[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,s=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(a,u){a&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,s)}),o):s(a,u)})):s(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,s){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&s&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),s),t.loaded(e,r,s)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,IL(IL({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}(zP);function OL(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===CP(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===CP(e[2])||"object"===CP(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AL(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function NL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NL(Object(n),!0).forEach((function(t){ds(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RL(){}function DL(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var PL=function(e){PP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=MP(t);if(n){var i=MP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return LP(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(ps(this,i),e=r.call(this),eL&&zP.call(RP(e)),e.options=AL(t),e.services={},e.logger=BP,e.modules={external:[]},DL(RP(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),LP(e,RP(e));setTimeout((function(){e.init(t,n)}),0)}return e}return gs(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=OL();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=CL(CL(CL({},r),this.options),AL(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=CL(CL({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?BP.init(i(this.modules.logger),this.options):BP.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=_L);var s=new fL(this.options);this.store=new oL(this.options.resources,this.options);var a=this.services;a.logger=BP,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new yL(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(a.formatter=i(o),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new EL(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new xL(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new cL(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=RL),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var h=qP(),f=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),h.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RL,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)s(i);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(e){return s(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=qP();return e||(e=this.languages),t||(t=this.options.ns),n||(n=RL),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&sL.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=qP();this.emit("languageChanging",e);var i=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var r=n.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var s="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);s&&(n.language||i(s),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,s)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==CP(i)){for(var s=arguments.length,a=new Array(s>2?s-2:0),u=2;u<s;u++)a[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(a))}else o=CL({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var l=r.options.keySeparator||".",c=n?"".concat(n).concat(l).concat(t):t;return r.t(c,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var a=n.precheck(this,s);if(void 0!==a)return a}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!s(r,e)||i&&!s(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=qP();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=qP();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RL,r=CL(CL(CL({},this.options),t),{isClone:!0}),o=new i(r),s=["store","services","language"];return s.forEach((function(t){o[t]=e[t]})),o.services=CL({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new cL(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(zP);ds(PL,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new PL(e,t)}));var LL=PL.createInstance();LL.createInstance=PL.createInstance,LL.createInstance,LL.init,LL.loadResources,LL.reloadResources,LL.use,LL.changeLanguage,LL.getFixedT,LL.t,LL.exists,LL.setDefaultNamespace,LL.hasLoadedNamespace,LL.loadNamespaces,LL.loadLanguages;const ML=LL;var VL=[],FL=VL.forEach,UL=VL.slice;function jL(e){return FL.call(UL.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var BL=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zL=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!BL.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!BL.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},qL={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=zL(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},WL={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}},HL=null,$L=function(){if(null!==HL)return HL;try{HL="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){HL=!1}return HL},QL={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&$L()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&$L()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},KL=null,GL=function(){if(null!==KL)return KL;try{KL="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){KL=!1}return KL},YL={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&GL()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&GL()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},JL={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},XL={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},ZL={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},eM={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},tM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ps(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return gs(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=jL(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(qL),this.addDetector(WL),this.addDetector(QL),this.addDetector(YL),this.addDetector(JL),this.addDetector(XL),this.addDetector(ZL),this.addDetector(eM)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();tM.type="languageDetector";const nM=tM,rM="settings",iM=is({key:"settingsAtom",default:{clientId:window.crypto.randomUUID(),locale:"fr"}}),oM=(os({key:"getSettings",get:({get:e})=>{const t=e(iM),n=window.localStorage.getItem(rM);return n?{...t,...JSON.parse(n)}:(window.localStorage.setItem(rM,JSON.stringify(t)),t)},set:({set:e},t)=>{window.localStorage.setItem(rM,JSON.stringify(t)),e(iM,t)}}),JSON.parse('{"translation":{"app":{"loading":"Chargement..."},"categories":{"choose-categories":"Catgories"},"choosecharacter":{"title":"Choisis la carte pour ton adversaire"},"error-boundary":{"error":"Oups, a marche plus :(","reset":"Rinitialiser"},"finished":{"start-again":"Nouvelle game ?"},"lobby":{"link":"Copier le lien de la room","link-clicked":"Copi","room":"Room :","start":"Commencer une partie","too-many-players":"Il y a plus de 2 joueurs dans la room","waiting":"En attente de l\'adversaire"},"login":{"title":"Se connecter avec Twitch","action":"Se connecter"},"plateau":{"guess":"Est-ce que c\'est","no":"Non","yes":"Oui"},"scene":{"must-guess":"doit deviner"}}}'));window.localStorage.getItem(rM),ML.use(nM).use(Ts).init({lng:"fr",detection:{caches:[]},interpolation:{escapeValue:!1},resources:{fr:oM}});const sM=()=>{const e=us(yI);switch(us(mx(e.room))){case"not-started":return r.createElement(kP,null);case"running":return r.createElement(NP,null);case"finished":return r.createElement(gx,null)}};var aM=["ns","children"];function uM(e){var t=e.ns,n=e.children,r=fs(Ds(t,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,aM)),3),i=r[0],o=r[1],s=r[2];return n(i,{i18n:o,lng:o.language},s)}class lM extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?r.createElement("div",{className:"error"},r.createElement(uM,null,(e=>r.createElement("div",null,e("error-boundary.error")))),r.createElement(cM,null)):this.props.children}}const cM=()=>{const e=cs(sI),{t}=Ds();return r.createElement("button",{onClick:()=>(e(""),void window.location.reload())},t("error-boundary.reset"))};n(511),i.render(r.createElement(rs,null,r.createElement(lM,null,r.createElement((()=>{const e=us(sI),{t}=Ds();return""===e?r.createElement(_P,null):r.createElement(r.Suspense,{fallback:r.createElement("div",{className:"app--loading"},t("app.loading"))},r.createElement(bI,null),r.createElement(sM,null),r.createElement(vx,null))}),null))),document.querySelector("#app"))},344:(e,t,n)=>{e.exports=n.p+"assets/TwitchGlitchPurple.svg"},33:(e,t,n)=>{e.exports=n.p+"assets/case-background.webp"},269:(e,t,n)=>{e.exports=n.p+"assets/case-front.webp"},511:(e,t,n)=>{e.exports=n.p+"favicon.png"},845:(e,t,n)=>{e.exports=n.p+"assets/plateau-background.webp"},654:(e,t,n)=>{e.exports=n.p+"assets/plateau-front.webp"},149:(e,t,n)=>{e.exports=n.p+"index.html"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(198)})();