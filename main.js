/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={162:(e,t,n)=>{"use strict";n.d(t,{Xb:()=>f,Gd:()=>v,cu:()=>p});var r=n(907),i=n(199),o=n(844),a=n(170),s=n(343),u=n(991),l=n(422),c=n(769),d=n(470),h=function(){function e(e){this.errors=0,this.sid=(0,o.DM)(),this.duration=0,this.status=i.$.Ok,this.init=!0,this.ignoreDuration=!1;var t=(0,a.ph)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,a.ph)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,o.DM)()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===i.$.Ok?this.update({status:i.$.Exited}):this.update()},e.prototype.toJSON=function(){return(0,d.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,d.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),f=function(){function e(e,t,n){void 0===t&&(t=new c.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=c.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=(0,o.DM)(),i=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,(0,r.pi)((0,r.pi)({},i),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=(0,o.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(e){s=e}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,(0,r.pi)((0,r.pi)({},a),{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=(0,o.DM)();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,(0,r.pi)((0,r.pi)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,o=n.client;if(i&&o){var u=o.getOptions&&o.getOptions()||{},l=u.beforeBreadcrumb,c=void 0===l?null:l,d=u.maxBreadcrumbs,h=void 0===d?100:d;if(!(h<=0)){var f=(0,a.yW)(),p=(0,r.pi)({timestamp:f},e),m=c?(0,s.C)((function(){return c(p,t)})):p;null!==m&&i.addBreadcrumb(m,h)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=m(this);try{e(this)}finally{m(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return s.k.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,n,r,i;null===(n=null===(t=null===(e=this.getStackTop())||void 0===e?void 0:e.scope)||void 0===t?void 0:t.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,o=t.client,a=o&&o.getOptions()||{},s=a.release,l=a.environment,c=((0,u.R)().navigator||{}).userAgent,d=new h((0,r.pi)((0,r.pi)((0,r.pi)({release:s,environment:l},n&&{user:n.getUser()}),c&&{userAgent:c}),e));if(n){var f=n.getSession&&n.getSession();f&&f.status===i.$.Ok&&f.update({status:i.$.Exited}),this.endSession(),n.setSession(d)}return d},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,(0,r.fl)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=p(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);s.k.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function p(){var e=(0,u.R)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function m(e){var t=p(),n=y(t);return _(t,e),n}function v(){var e=p();return g(e)&&!y(e).isOlderThan(4)||_(e,new f),(0,l.KV)()?function(e){var t,n,r;try{var i=null===(r=null===(n=null===(t=p().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return y(e);if(!g(i)||y(i).isOlderThan(4)){var o=y(e).getStackTop();_(i,new f(o.client,c.s.clone(o.scope)))}return y(i)}catch(t){return y(e)}}(e):y(e)}function g(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new f),e.__SENTRY__.hub}function _(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},769:(e,t,n)=>{"use strict";n.d(t,{s:()=>u,c:()=>c});var r=n(907),i=n(597),o=n(170),a=n(893),s=n(991),u=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.fl)(t._breadcrumbs),n._tags=(0,r.pi)({},t._tags),n._extra=(0,r.pi)({},t._extra),n._contexts=(0,r.pi)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.fl)(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),t._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,i.PO)(t)&&(t=t,this._tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var i=(0,r.pi)({timestamp:(0,o.yW)()},e);return this._breadcrumbs=(0,r.fl)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.pi)((0,r.pi)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.pi)({trace:this._span.getTraceContext()},e.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(e.tags=(0,r.pi)({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.fl)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors((0,r.fl)(l(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.c((function(a,u){var l=e[o];if(null===t||"function"!=typeof l)a(t);else{var c=l((0,r.pi)({},t),n);(0,i.J8)(c)?c.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(e,c,n,o+1).then(a).then(null,u)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function l(){var e=(0,s.R)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function c(e){l().push(e)}},907:(e,t,n)=>{"use strict";n.d(t,{pi:()=>r,fl:()=>o});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}},257:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,x:()=>i});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},109:(e,t,n)=>{"use strict";n.d(t,{ro:()=>y,lb:()=>g});var r,i=n(132),o=n(162);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(r||(r={}));var a=n(343),s=n(422),u=n(732),l=n(734),c=n(233);function d(){var e=(0,c.x1)();e&&(a.k.log("[Tracing] Transaction: "+l.p.InternalError+" -> Global error occured"),e.setStatus(l.p.InternalError))}var h=n(458),f=n(391);function p(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function m(e,t,n){return(0,c.zu)(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:r.Explicit}}),e):("function"==typeof t.tracesSampler?(o=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:r.Sampler,rate:Number(o)}})):void 0!==n.parentSampled?(o=n.parentSampled,e.setMetadata({transactionSampling:{method:r.Inheritance}})):(o=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:r.Rate,rate:Number(o)}})),i=o,(isNaN(i)||"number"!=typeof i&&"boolean"!=typeof i?(a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(i)+" of type "+JSON.stringify(typeof i)+"."),0):!(i<0||i>1)||(a.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+i+"."),0))?o?(e.sampled=Math.random()<o,e.sampled?(a.k.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(a.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(o)+")"),e)):(a.k.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(a.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var i,o}function v(e,t){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},a=new f.Y(e,this);return(a=m(a,o,(0,i.pi)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&a.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),a}function g(e,t,n,r,o){var a,s,u=(null===(a=e.getClient())||void 0===a?void 0:a.getOptions())||{},l=new h.io(t,e,n,r);return(l=m(l,u,(0,i.pi)({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&l.initSpanRecorder(null===(s=u._experiments)||void 0===s?void 0:s.maxSpans),l}function y(){var t;(t=(0,o.cu)()).__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=v),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=p)),(0,s.KV)()&&function(){var t=(0,o.cu)();if(t.__SENTRY__){var n={mongodb:function(){return new((0,s.l$)(e,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,s.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,s.l$)(e,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,s.l$)(e,"./integrations/node/postgres").Postgres)}},r=Object.keys(n).filter((function(e){return!!(0,s.$y)(e)})).map((function(e){try{return n[e]()}catch(e){return}})).filter((function(e){return e}));r.length>0&&(t.__SENTRY__.integrations=(0,i.fl)(t.__SENTRY__.integrations||[],r))}}(),(0,u.o)({callback:d,type:"error"}),(0,u.o)({callback:d,type:"unhandledrejection"})}e=n.hmd(e)},458:(e,t,n)=>{"use strict";n.d(t,{nT:()=>c,io:()=>h});var r=n(132),i=n(170),o=n(343),a=n(257),s=n(334),u=n(734),l=n(391),c=1e3,d=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:(0,i._I)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(s.g),h=function(e){function t(t,n,r,i){void 0===r&&(r=c),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(f(n),o.k.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(e){return e.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return(0,r.ZT)(t,e),t.prototype.finish=function(t){var n,a,s=this;if(void 0===t&&(t=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){o.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var l=(0,r.XA)(this._beforeFinishCallbacks),c=l.next();!c.done;c=l.next())(0,c.value)(this,t)}catch(e){n={error:e}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===s.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(u.p.Cancelled),o.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||o.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),o.k.log("[Tracing] flushing IdleTransaction")}else o.k.log("[Tracing] No active IdleTransaction");return this._onScope&&f(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;this.spanRecorder||(this.spanRecorder=new d((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),o.k.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.k.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(o.k.log("[Tracing] popActivity "+e),delete this.activities[e],o.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){t._finished||(t.setTag(a.d,a.x[1]),t.finish(r))}),n)}},t.prototype._beat=function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(o.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(u.p.DeadlineExceeded),this.setTag(a.d,a.x[0]),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;o.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){e._beat()}),5e3)},t}(l.Y);function f(e){if(e){var t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}}},334:(e,t,n)=>{"use strict";n.d(t,{g:()=>u,D:()=>l});var r=n(132),i=n(844),o=n(170),a=n(470),s=n(734),u=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),l=function(){function e(e){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.pi)((0,r.pi)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=s.p.fromHttpCode(e);return t!==s.p.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===s.p.Ok},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:(0,o._I)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,i,o;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(i=e.tags)?i:{},this.traceId=null!=(o=e.traceId)?o:this.traceId,this},e.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},734:(e,t,n)=>{"use strict";var r;n.d(t,{p:()=>r}),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(r||(r={})),function(e){e.fromHttpCode=function(t){if(t<400&&t>=100)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(r||(r={}))},391:(e,t,n)=>{"use strict";n.d(t,{Y:()=>c});var r=n(132),i=n(162),o=n(689),a=n(597),s=n(343),u=n(470),l=n(334),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,a.V9)(n,i.Xb)&&(r._hub=n),r.name=t.name||"",r.metadata=t.metadata||{},r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.ZT)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new l.g(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.pi)({},e)},t.prototype.setMetadata=function(e){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),e)},t.prototype.finish=function(t){var n,r,i,a,u,l=this;if(void 0===this.endTimestamp){if(this.name||(s.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0!==this.sampled)return s.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(null===(u=null===(i=null===(n=this._hub.getClient())||void 0===n?void 0:(r=n).getTransport)||void 0===i?void 0:(a=i.call(r)).recordLostEvent)||void 0===u||u.call(a,o.k.SampleRate,"transaction"));var c=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==l&&e.endTimestamp})):[];this._trimEnd&&c.length>0&&(this.endTimestamp=c.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var d={contexts:{trace:this.getTraceContext()},spans:c,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata};return Object.keys(this._measurements).length>0&&(s.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),d.measurements=this._measurements),s.k.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(d)}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return(0,u.Jr)((0,r.pi)((0,r.pi)({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(l.D)},233:(e,t,n)=>{"use strict";n.d(t,{zu:()=>o,qG:()=>a,x1:()=>s,XL:()=>u,WB:()=>l});var r=n(162),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){var t;return void 0===e&&(e=null===(t=(0,r.Gd)().getClient())||void 0===t?void 0:t.getOptions()),!!e&&("tracesSampleRate"in e||"tracesSampler"in e)}function a(e){var t=e.match(i);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function s(e){var t,n;return void 0===e&&(e=(0,r.Gd)()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function u(e){return e/1e3}function l(e){return 1e3*e}},132:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,_T:()=>a,XA:()=>s,fl:()=>l});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},199:(e,t,n)=>{"use strict";var r,i;n.d(t,{$:()=>r}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={})),function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"}(i||(i={}))},689:(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e.BeforeSend="before_send",e.EventProcessor="event_processor",e.NetworkError="network_error",e.QueueOverflow="queue_overflow",e.RateLimitBackoff="ratelimit_backoff",e.SampleRate="sample_rate"}(r||(r={}))},464:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,l:()=>s});var r=n(991),i=n(597);function o(e,t){try{for(var n=e,r=[],i=0,o=0,s=" > ".length,u=void 0;n&&i++<5&&!("html"===(u=a(n,t))||i>1&&o+r.length*s+u.length>=80);)r.push(u),o+=u.length,n=n.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}function a(e,t){var n,r,o,a,s,u,l,c=e,d=[];if(!c||!c.tagName)return"";d.push(c.tagName.toLowerCase());var h=(null===(n=t)||void 0===n?void 0:n.length)?t.filter((function(e){return c.getAttribute(e)})).map((function(e){return[e,c.getAttribute(e)]})):null;if(null===(r=h)||void 0===r?void 0:r.length)h.forEach((function(e){d.push("["+e[0]+'="'+e[1]+'"]')}));else if(c.id&&d.push("#"+c.id),(o=c.className)&&(0,i.HD)(o))for(a=o.split(/\s+/),l=0;l<a.length;l++)d.push("."+a[l]);var f=["type","name","title","alt"];for(l=0;l<f.length;l++)s=f[l],(u=c.getAttribute(s))&&d.push("["+s+'="'+u+'"]');return d.join("")}function s(){var e=(0,r.R)();try{return e.document.location.href}catch(e){return""}}},991:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(422),i={};function o(){return(0,r.KV)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}},732:(e,t,n)=>{"use strict";n.d(t,{o:()=>v});var r,i,o,a=n(832),s=n(991),u=n(597),l=n(343),c=n(470),d=n(360),h=n(823),f=(0,s.R)(),p={},m={};function v(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(p[e.type]=p[e.type]||[],p[e.type].push(e.callback),function(e){if(!m[e])switch(m[e]=!0,e){case"console":"console"in f&&["debug","info","warn","error","log","assert"].forEach((function(e){e in f.console&&(0,c.hl)(f.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];g("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,f.console,n)}}))}));break;case"dom":!function(){if("document"in f){var e=g.bind(null,"dom"),t=b(e,!0);f.document.addEventListener("click",t,!1),f.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=f[t]&&f[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,c.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=b(e);a.handler=s,t.call(this,n,s,i)}a.refCount+=1}catch(e){}return t.call(this,n,r,i)}})),(0,c.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in f){var e=[],t=[],n=XMLHttpRequest.prototype;(0,c.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=r[1];o.__sentry_xhr__={method:(0,u.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,u.HD)(a)&&"POST"===o.__sentry_xhr__.method&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var s=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}try{var n=e.indexOf(o);if(-1!==n){e.splice(n);var i=t.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(e){}g("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?(0,c.hl)(o,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(o,t)}})):o.addEventListener("readystatechange",s),n.apply(o,r)}})),(0,c.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),g("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}}();break;case"fetch":(0,h.t$)()&&(0,c.hl)(f,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:y(t),url:_(t)},startTimestamp:Date.now()};return g("fetch",(0,a.pi)({},r)),e.apply(f,t).then((function(e){return g("fetch",(0,a.pi)((0,a.pi)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw g("fetch",(0,a.pi)((0,a.pi)({},r),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if((0,h.Bf)()){var e=f.onpopstate;f.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=f.location.href,o=r;if(r=i,g("history",{from:o,to:i}),e)try{return e.apply(this,t)}catch(e){}},(0,c.hl)(f.history,"pushState",t),(0,c.hl)(f.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,g("history",{from:o,to:a})}return e.apply(this,t)}}}();break;case"error":w=f.onerror,f.onerror=function(e,t,n,r,i){return g("error",{column:r,error:i,line:n,msg:e,url:t}),!!w&&w.apply(this,arguments)};break;case"unhandledrejection":E=f.onunhandledrejection,f.onunhandledrejection=function(e){return g("unhandledrejection",e),!E||E.apply(this,arguments)};break;default:l.k.warn("unknown instrumentation type:",e)}}(e.type))}function g(e,t){var n,r;if(e&&p[e])try{for(var i=(0,a.XA)(p[e]||[]),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(t)}catch(t){l.k.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,d.$)(s)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function y(e){return void 0===e&&(e=[]),"Request"in f&&(0,u.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function _(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in f&&(0,u.V9)(e[0],Request)?e[0].url:String(e[0])}function b(e,t){return void 0===t&&(t=!1),function(n){if(n&&o!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===i||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(o,n))&&(e({event:n,name:r,global:t}),o=n),clearTimeout(i),i=f.setTimeout((function(){i=void 0}),1e3)}}}var w=null,E=null},597:(e,t,n)=>{"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"undefined"!=typeof Event&&m(e,Event)}function d(e){return"undefined"!=typeof Element&&m(e,Element)}function h(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function f(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function p(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,{VZ:()=>r,VW:()=>i,TX:()=>o,fm:()=>a,HD:()=>s,pt:()=>u,PO:()=>l,cO:()=>c,kK:()=>d,Kj:()=>h,J8:()=>f,Cy:()=>p,V9:()=>m})},343:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,k:()=>u});var r=n(991),i=(0,r.R)(),o="Sentry Logger ";function a(e){var t=(0,r.R)();if(!("console"in t))return e();var n=t.console,i={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(i[e]=n[e],n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(i).forEach((function(e){n[e]=i[e]})),o}var s=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&a((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&a((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&a((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var u=i.__SENTRY__.logger||(i.__SENTRY__.logger=new s)},844:(e,t,n)=>{"use strict";n.d(t,{DM:()=>o,en:()=>a,jH:()=>s,Db:()=>u,EG:()=>l,JY:()=>c,YO:()=>d});var r=n(832),i=n(991);function o(){var e=(0,i.R)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function a(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function s(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function u(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function l(e,t){var n;if(e.exception&&e.exception.values){var i=e.exception.values[0],o=i.mechanism;if(i.mechanism=(0,r.pi)((0,r.pi)((0,r.pi)({},{type:"generic",handled:!0}),o),t),t&&"data"in t){var a=(0,r.pi)((0,r.pi)({},null===(n=o)||void 0===n?void 0:n.data),t.data);i.mechanism.data=a}}}function c(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}function d(e){var t;if(null===(t=e)||void 0===t?void 0:t.__sentry_captured__)return!0;try{Object.defineProperty(e,"__sentry_captured__",{value:!0})}catch(e){}return!1}},422:(e,t,n)=>{"use strict";function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}function o(t){var n;try{n=i(e,t)}catch(e){}try{var r=i(e,"process").cwd;n=i(e,r()+"/node_modules/"+t)}catch(e){}return n}n.d(t,{KV:()=>r,l$:()=>i,$y:()=>o}),e=n.hmd(e)},470:(e,t,n)=>{"use strict";n.d(t,{Jr:()=>g,zf:()=>v,hl:()=>l,Fv:()=>m,Qy:()=>h,_j:()=>c});var r=n(832),i=n(464),o=n(597),a=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n(360),u=n(321);function l(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=i}}function c(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if((0,o.VZ)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if((0,o.cO)(e)){var a=e,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var u in"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s}return e}function h(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r,i=m(e,t);return r=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(r))>n?h(e,t-1,n):i}function f(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n.g&&e===n.g?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":(0,o.Cy)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+(0,s.$)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function p(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=f(e);return(0,o.pt)(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var i=f(t,e);if((0,o.pt)(i))return i;var s=d(t),u=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(u[l]=p(l,s[l],n-1,r));return r.unmemoize(t),u}function m(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return p(e,n,t)})))}catch(e){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,u.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,u.$G)(i,t)}return""}function g(e){var t,n;if((0,o.PO)(e)){var i=e,a={};try{for(var s=(0,r.XA)(Object.keys(i)),u=s.next();!u.done;u=s.next()){var l=u.value;void 0!==i[l]&&(a[l]=g(i[l]))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(g):e}},360:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r="<anonymous>";function i(e){try{return e&&"function"==typeof e&&e.name||r}catch(e){return r}}},321:(e,t,n)=>{"use strict";n.d(t,{$G:()=>i,nK:()=>o,zC:()=>a});var r=n(597);function i(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},823:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>o,Du:()=>a,t$:()=>s,hv:()=>u,Bf:()=>l});var r=n(991),i=n(343);function o(){if(!("fetch"in(0,r.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=(0,r.R)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(e){i.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function u(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function l(){var e=(0,r.R)(),t=e.chrome,n=t&&t.app&&t.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&i}},893:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(597),i=function(){function e(e){var t=this;this._state="PENDING",this._handlers=[],this._resolve=function(e){t._setResult("RESOLVED",e)},this._reject=function(e){t._setResult("REJECTED",e)},this._setResult=function(e,n){"PENDING"===t._state&&((0,r.J8)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if("PENDING"!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||("RESOLVED"===t._state&&e.onfulfilled&&e.onfulfilled(t._value),"REJECTED"===t._state&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0==(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void i(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void i(e)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},170:(e,t,n)=>{"use strict";n.d(t,{yW:()=>u,ph:()=>l,_I:()=>c,Z1:()=>d});var r=n(991),i=n(422);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,r.R)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),l=s.nowSeconds.bind(s),c=l,d=function(){var e=(0,r.R)().performance;if(e&&e.now){var t=36e5,n=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,a=o<t,s=e.timing&&e.timing.navigationStart,u="number"==typeof s?Math.abs(s+n-i):t;return a||u<t?o<=u?e.timeOrigin:s:i}}()},832:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o,XA:()=>a,CR:()=>s});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}},484:(e,t,n)=>{const r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};r.SENTRY_RELEASE={id:"1.5.0"},r.SENTRY_RELEASES=r.SENTRY_RELEASES||{},r.SENTRY_RELEASES["qui-est-ce@cacabox"]={id:"1.5.0"}},676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function d(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}o(l,"_index",["name","keyPath","multiEntry","unique"]),a(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),d.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),a(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(d,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[d,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[l,d].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(u[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u}},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,k=60107,T=60108,x=60114,C=60109,I=60110,O=60112,R=60113,N=60120,P=60115,A=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;E=V("react.element"),S=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),x=V("react.profiler"),C=V("react.provider"),I=V("react.context"),O=V("react.forward_ref"),R=V("react.suspense"),N=V("react.suspense_list"),P=V("react.memo"),A=V("react.lazy"),D=V("react.block"),V("react.scope"),L=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),j=V("react.legacy_hidden")}var U,q="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function $(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return H(e.type,!1);case 11:return H(e.type.render,!1);case 22:return H(e.type._render,!1);case 1:return H(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case x:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Q(e.type);case D:return Q(e._render);case A:t=e._payload,e=e._init;try{return Q(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function le(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ve=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ie=null;function Oe(e){if(e=ni(e)){if("function"!=typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),xe(e.stateNode,e.type,t))}}function Re(e){Ce?Ie?Ie.push(e):Ie=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Ie;if(Ie=Ce=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Pe(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Pe,Me=!1,Fe=!1;function je(){null===Ce&&null===Ie||(De(),Ne())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(d)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ue=!1}function Be(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var ze=!1,We=null,He=!1,$e=null,Qe={onError:function(e){ze=!0,We=e}};function Ke(e,t,n,r,i,o,a,s,u){ze=!1,We=null,Be.apply(Qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ge(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,lt=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},kt={},Tt={};function xt(e){if(kt[e])return kt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=xt("animationend"),It=xt("animationiteration"),Ot=xt("animationstart"),Rt=xt("transitionend"),Nt=new Map,Pt=new Map,At=["abort","abort",Ct,"animationEnd",It,"animationIteration",Ot,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Nt.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?Vt(10,t):e;case 10:return 0===(e=Ut(192&~t))?Vt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&0===(e=Ut(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2,$t=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Gt(e,t,n,r){Me||De();var i=Jt,o=Me;Me=!0;try{Ae(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Qt($t,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var o=Ge(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=i({},dn,{view:0,detail:0}),pn=sn(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),_n=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),En=sn(i({},dn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return xn}var In=i({},fn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=sn(In),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),Ln=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var jn=d&&"TextEvent"in window&&!Fn,Vn=d&&(!Mn||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Ir(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),Gn=Kn=null)}function ir(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];if(Qn(t,Gn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),Gn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function sr(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function dr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,_r=null,br=null,wr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&dr(br,r)||(br=r,0<(r=Mr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Sr.length;kr++)Pt.set(Sr[kr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Ke.apply(this,arguments),ze){if(!ze)throw Error(a(198));var c=We;ze=!1,We=null,He||(He=!0,$e=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cr(i,s,l),o=u}}}if(He)throw e=$e,He=!1,$e=null,e}function Or(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){xr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Gt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Nt.get(e);if(void 0!==s){var u=hn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=On;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Ct:case It:case Ot:u=_n;break;case Rt:u=Pn;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=Ve(p,h))&&c.push(Lr(p,m,f))),d)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(d=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=vn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?s:ri(u),f=null==l?s:ri(l),(s=new c(m,p+"leave",u,n,i)).target=d,s.relatedTarget=f,m=null,ti(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=f,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Fr(f))p++;for(f=0,m=h;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)h=Fr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==u&&jr(a,s,u,c,!1),null!==l&&null!==d&&jr(a,d,l,c,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Xn;else if($n(s))if(Zn)v=ur;else{v=ar;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Qn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":($n(g)||"true"===g.contentEditable)&&(yr=g,_r=r,br=null);break;case"focusout":br=_r=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(g=Mr(r,_)).length&&(_=new En(_,e,null,n,i),a.push({event:_,listeners:g}),(y||null!==(y=zn(n)))&&(_.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,Un);case"textInput":return(e=t.data)===Un&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ir(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ve(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var Ur=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,Hr="function"==typeof clearTimeout?clearTimeout:void 0;function $r(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ui(e){return{current:e}}function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=ui(di),fi=ui(!1),pi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!=e.childContextTypes}function gi(){li(fi),li(hi)}function yi(e,t,n){if(hi.current!==di)throw Error(a(168));ci(hi,t),ci(fi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,pi=hi.current,ci(hi,e),ci(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(fi),li(hi),ci(hi,e)):li(fi),ci(fi,n)}var Ei=null,Si=null,ki=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Oi=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Ni=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ii?Ii:function(){},ji=null,Vi=null,Ui=!1,qi=Oi(),Bi=1e4>qi?Oi:function(){return Oi()-qi};function zi(){switch(Ri()){case Ni:return 99;case Pi:return 98;case Ai:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ni;case 98:return Pi;case 97:return Ai;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Wi(e),ki(e,t)}function $i(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,xi(e)}Ki()}function Ki(){if(!Ui&&null!==ji){Ui=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Ni,Qi),t}finally{Ui=!1}}}var Gi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),Xi=null,Zi=null,eo=null;function to(){eo=Zi=Xi=null}function no(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(a(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=l)}}if(null!==a){for(h=o.baseState,s=0,d=c=l=null;;){u=a.lane;var f=a.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(u=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(f,h,u):p))break e;h=i({},h,u);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else f={eventTime:f,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=f,l=h):d=d.next=f,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===d&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,js|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=lo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),du(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lu(),i=cu(e),o=lo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),du(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lu(),r=cu(e),i=lo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),du(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function _o(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(t)?pi:hi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(t)?pi:hi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Wu(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Hu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Wu(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case S:return(t=Ku(t,e.mode,n)).return=e,t}if(Eo(t)||B(t))return(t=Hu(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===k?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(Eo(n)||B(n))return null!==i?null:d(e,t,n,r,null);ko(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===k?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function m(i,a,s,u){for(var l=null,c=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===c?l=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],u))&&(a=o(d,a,m),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=B(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var d=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=f(i,m,y.value,l);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===d?c=_:d.sibling=_,d=_,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,l))&&(s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,u){var l="object"==typeof o&&null!==o&&o.type===k&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case E:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===k){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}}else if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=So(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===k?((r=Hu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Wu(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,r,o),u.return=e,e=u)}return s(e);case S:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ku(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qu(o,e.mode,u)).return=e,e=r),s(e);if(Eo(o))return m(e,r,o,u);if(B(o))return v(e,r,o,u);if(c&&ko(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(e.type)||"Component"))}return n(e,r)}}var xo=To(!0),Co=To(!1),Io={},Oo=ui(Io),Ro=ui(Io),No=ui(Io);function Po(e){if(e===Io)throw Error(a(174));return e}function Ao(e,t){switch(ci(No,t),ci(Ro,e),ci(Oo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Oo),ci(Oo,t)}function Do(){li(Oo),li(Ro),li(No)}function Lo(e){Po(No.current);var t=Po(Oo.current),n=fe(t,e.type);t!==n&&(ci(Ro,e),ci(Oo,n))}function Mo(e){Ro.current===e&&(li(Oo),li(Ro))}var Fo=ui(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,Uo=null,qo=!1;function Bo(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(qo){var t=Uo;if(t){var n=t;if(!zo(e,t)){if(!(t=Qr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Vo=e);Bo(Vo,n)}Vo=e,Uo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Vo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function $o(e){if(e!==Vo)return!1;if(!qo)return Ho(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Uo;t;)Bo(e,t),t=Qr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=Vo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Uo=Vo=null,qo=!1}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Yo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Xo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Pa:Aa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ra)}if(Yo.current=Na,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function la(e,t){return"function"==typeof t?t(e):t}function ca(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Xo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,o=r):u=u.next=d,Zo.lanes|=c,js|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function fa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Yo.current,l=u.useState((function(){return ha(i,t,n)})),c=l[1],d=l[0];l=ta;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(c(e),e=cu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-zt(a),l=1<<u;r[u]|=e,a&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:d}).dispatch=c=Ra.bind(null,Zo,e),l.queue=e,l.baseQueue=null,d=ha(i,t,n),l.memoizedState=l.baseState=d),d}function pa(e,t,n){return fa(ua(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ra.bind(null,Zo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function _a(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Zo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function wa(e,t){return _a(516,4,e,t)}function Ea(e,t){return ba(516,4,e,t)}function Sa(e,t){return ba(4,2,e,t)}function ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,ka.bind(null,t,e),n)}function xa(){}function Ca(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ia(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oa(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Ra(e,t,n){var r=lu(),i=cu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(e){}du(e,i,r)}}var Na={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,_a(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ra.bind(null,Zo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:xa,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=Oa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,va(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Ea,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Ia,useReducer:ca,useRef:ya,useState:function(){return ca(la)},useDebugValue:xa,useDeferredValue:function(e){var t=ca(la),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ca(la)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ca(la)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:Ca,useContext:oo,useEffect:Ea,useImperativeHandle:Ta,useLayoutEffect:Sa,useMemo:Ia,useReducer:da,useRef:ya,useState:function(){return da(la)},useDebugValue:xa,useDeferredValue:function(e){var t=da(la),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=da(la)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Co(t,null,n,r):xo(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Bu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=zu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},_u(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(0,e),null;t.memoizedState={baseLanes:0},_u(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_u(0,r);return Fa(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=vi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Wa(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;l="object"==typeof l&&null!==l?oo(l):mi(t,l=vi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&bo(t,a,r,l),ao=!1;var h=t.memoizedState;a.state=h,fo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||fi.current||ao?("function"==typeof c&&(vo(t,n,c,r),u=t.memoizedState),(s=ao||yo(t,n,s,r,h,u,l))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Yi(t.type,s),a.props=l,d=t.pendingProps,h=a.context,u="object"==typeof(u=n.contextType)&&null!==u?oo(u):mi(t,u=vi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==u)&&bo(t,a,r,u),ao=!1,h=t.memoizedState,a.state=h,fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||fi.current||ao?("function"==typeof f&&(vo(t,n,f,r),p=t.memoizedState),(l=ao||yo(t,n,l,r,h,p,u))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ba(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),ns(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function $a(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ao(e,t.containerInfo)}var Qa,Ka,Ga,Ya={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(a,s),null!==e?r=zu(e,r):(r=Hu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Hu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Fo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return Do(),li(fi),li(hi),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||($o(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Po(No.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Oo.current),$o(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Or("cancel",r),Or("close",r);break;case"iframe":case"object":case"embed":Or("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Or(Tr[e],r);break;case"source":Or("error",r);break;case"img":case"image":case"link":Or("error",r),Or("load",r);break;case"details":Or("toggle",r);break;case"input":ee(r,s),Or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Or("invalid",r);break;case"textarea":ue(r,s),Or("invalid",r)}for(var l in Se(n,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Or("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Qa(e,t),t.stateNode=e,l=ke(n,r),n){case"dialog":Or("cancel",e),Or("close",e),o=r;break;case"iframe":case"object":case"embed":Or("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Or(Tr[o],e);o=r;break;case"source":Or("error",e),o=r;break;case"img":case"image":case"link":Or("error",e),Or("load",e),o=r;break;case"details":Or("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Or("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Or("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Or("invalid",e);break;default:o=r}Se(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Or("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(No.current),Po(Oo.current),$o(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&$o(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Rs||0==(134217727&js)&&0==(134217727&Vs)||mu(Rs,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(l=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=jo(e))){for(t.flags|=64,rs(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>zs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=jo(l))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>zs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,ci(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return bu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),li(fi),li(hi),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return bu(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Oo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(d in Se(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Or("scroll",e),s||l===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"==typeof WeakMap?WeakMap:Map;function ls(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Ks=r),ss(0,t)},n}function cs(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fu(e,t)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&$r(t.stateNode.containerInfo))}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Du(n,e),Au(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Si&&"function"==typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Du(t,n);else{r=t;try{i()}catch(e){Fu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fu(t,e)}break;case 5:hs(t);break;case 4:Es(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):ws(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,l=u;;)if(vs(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Bs=Bi(),ms(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var xs=Math.ceil,Cs=w.ReactCurrentDispatcher,Is=w.ReactCurrentOwner,Os=0,Rs=null,Ns=null,Ps=0,As=0,Ds=ui(0),Ls=0,Ms=null,Fs=0,js=0,Vs=0,Us=0,qs=null,Bs=0,zs=1/0;function Ws(){zs=Bi()+500}var Hs,$s=null,Qs=!1,Ks=null,Gs=null,Ys=!1,Js=null,Xs=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function lu(){return 0!=(48&Os)?Bi():-1!==iu?iu:iu=Bi()}function cu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===ou&&(ou=Fs),0!==Gi.transition){0!==au&&(au=null!==qs?qs.pendingLanes:0),e=ou;var t=4186112&~au;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Vt(0!=(4&Os)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou)}function du(e,t,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(e=hu(e,t)))return null;Bt(e,t,n),e===Rs&&(Vs|=t,4===Ls&&mu(e,Ps));var r=zi();1===t?0!=(8&Os)&&0==(48&Os)?vu(e):(fu(e,n),0===Os&&(Ws(),Qi())):(0==(4&Os)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),fu(e,n)),qs=e}function hu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),l=1<<u,c=o[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Mt(l);var d=Lt;o[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===Rs?Ps:0),t=Lt,0===r)null!==n&&(n!==Mi&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&xi(n)}15===t?(n=vu.bind(null,e),null===ji?(ji=[n],Vi=Ti(Ni,Ki)):ji.push(n),n=Mi):14===t?n=$i(99,vu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$i(n,pu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,au=ou=0,0!=(48&Os))throw Error(a(327));var t=e.callbackNode;if(Pu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?Ps:0);if(0===n)return null;var r=n,i=Os;Os|=16;var o=Su();for(Rs===e&&Ps===r||(Ws(),wu(e,r));;)try{xu();break}catch(t){Eu(e,t)}if(to(),Cs.current=o,Os=i,null!==Ns?r=0:(Rs=null,Ps=0,r=Ls),0!=(Fs&Vs))wu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(n=jt(e))&&(r=ku(e,n))),1===r)throw t=Ms,wu(e,0),mu(e,n),fu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ou(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Bs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){lu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xs(n/1960))-n)){e.timeoutHandle=Wr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(a(329))}}return fu(e,Bi()),e.callbackNode===t?pu.bind(null,e):null}function mu(e,t){for(t&=~Us,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!=(48&Os))throw Error(a(327));if(Pu(),e===Rs&&0!=(e.expiredLanes&Ps)){var t=Ps,n=ku(e,t);0!=(Fs&Vs)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,$r(e.containerInfo)),0!==(t=jt(e))&&(n=ku(e,t))),1===n)throw n=Ms,wu(e,0),mu(e,t),fu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),fu(e,Bi()),null}function gu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Ws(),Qi())}}function yu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Ws(),Qi())}}function _u(e,t){ci(Ds,As),As|=t,Fs|=t}function bu(){As=Ds.current,li(Ds)}function wu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Do(),li(fi),li(hi),Go();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:li(Fo);break;case 10:no(r);break;case 23:case 24:bu()}n=n.return}Rs=e,Ns=zu(e.current,null),Ps=As=Fs=t,Ls=0,Ms=null,Us=Vs=js=0}function Eu(e,t){for(;;){var n=Ns;try{if(to(),Yo.current=Na,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Zo=null,ra=!1,Is.current=null,null===n||null===n.return){Ls=1,Ms=t,Ns=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Fo.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(l),h.updateQueue=g}else v.add(l);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=lo(-1,1);y.tag=2,co(s,y)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new us,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var b=ju.bind(null,o,l,s);l.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),u=as(u,s),h=a;do{switch(h.tag){case 3:o=u,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ls(0,o,t));break e;case 1:o=u;var w=h.type,E=h.stateNode;if(0==(64&h.flags)&&("function"==typeof w.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Gs||!Gs.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,cs(h,o,t));break e}}h=h.return}while(null!==h)}Iu(n)}catch(e){t=e,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Su(){var e=Cs.current;return Cs.current=Na,null===e?Na:e}function ku(e,t){var n=Os;Os|=16;var r=Su();for(Rs===e&&Ps===t||wu(e,t);;)try{Tu();break}catch(t){Eu(e,t)}if(to(),Os=n,Cs.current=r,null!==Ns)throw Error(a(261));return Rs=null,Ps=0,Ls}function Tu(){for(;null!==Ns;)Cu(Ns)}function xu(){for(;null!==Ns&&!Ci();)Cu(Ns)}function Cu(e){var t=Hs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Iu(e):Ns=t,Is.current=null}function Iu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,As)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ls&&(Ls=5)}function Ou(e){var t=zi();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Pu()}while(null!==Js);if(0!=(48&Os))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-zt(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Rs&&(Ns=Rs=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Is.current=null,Ur=Kt,vr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var d=0,h=-1,f=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(h=d+o),v!==l||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===o&&(h=d),g===l&&++m===c&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===h||-1===f?null:{start:h,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Kt=!1,su=null,uu=!1,$s=r;do{try{Nu()}catch(e){if(null===$s)throw Error(a(330));Fu($s,e),$s=$s.nextEffect}}while(null!==$s);su=null,$s=r;do{try{for(s=e;null!==$s;){var _=$s.flags;if(16&_&&ge($s.stateNode,""),128&_){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:_s($s),$s.flags&=-3;break;case 6:_s($s),$s.flags&=-3,Ss($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ss($s.alternate,$s);break;case 4:Ss($s.alternate,$s);break;case 8:Es(s,u=$s);var E=u.alternate;gs(u),null!==E&&gs(E)}$s=$s.nextEffect}}catch(e){if(null===$s)throw Error(a(330));Fu($s,e),$s=$s.nextEffect}}while(null!==$s);if(w=qr,b=mr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=fr(_,E),o=fr(_,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Ur,qr=Ur=null,e.current=n,$s=r;do{try{for(_=e;null!==$s;){var S=$s.flags;if(36&S&&ps(_,$s.alternate,$s),128&S){b=void 0;var k=$s.ref;if(null!==k){var T=$s.stateNode;$s.tag,b=T,"function"==typeof k?k(b):k.current=b}}$s=$s.nextEffect}}catch(e){if(null===$s)throw Error(a(330));Fu($s,e),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Os=i}else e.current=n;if(Ys)Ys=!1,Js=e,Xs=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((S=$s).sibling=null,S.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,Si&&"function"==typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(e){}if(fu(e,Bi()),Qs)throw Qs=!1,e=Ks,Ks=null,e;return 0!=(8&Os)||Qi(),null}function Nu(){for(;null!==$s;){var e=$s.alternate;uu||null===su||(0!=(8&$s.flags)?Ze($s,su)&&(uu=!0):13===$s.tag&&Ts(e,$s)&&Ze($s,su)&&(uu=!0));var t=$s.flags;0!=(256&t)&&fs(e,$s),0==(512&t)||Ys||(Ys=!0,$i(97,(function(){return Pu(),null}))),$s=$s.nextEffect}}function Pu(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,Hi(e,Lu)}return!1}function Au(e,t){Zs.push(t,e),Ys||(Ys=!0,$i(97,(function(){return Pu(),null})))}function Du(e,t){eu.push(t,e),Ys||(Ys=!0,$i(97,(function(){return Pu(),null})))}function Lu(){if(null===Js)return!1;var e=Js;if(Js=null,0!=(48&Os))throw Error(a(331));var t=Os;Os|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Fu(o,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Fu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Qi(),!0}function Mu(e,t,n){co(e,t=ls(0,t=as(n,t),1)),t=lu(),null!==(e=hu(e,1))&&(Bt(e,1,t),fu(e,t))}function Fu(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=cs(n,e=as(t,e),1);if(co(n,i),i=lu(),null!==(n=hu(n,1)))Bt(n,1,i),fu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=lu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(62914560&Ps)===Ps&&500>Bi()-Bs?wu(e,0):Us|=n),fu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===ou&&(ou=Fs),0===(t=Ut(62914560&~ou))&&(t=4194304))),n=lu(),null!==(e=hu(e,t))&&(Bt(e,t,n),fu(e,n))}function Uu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Uu(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Bu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Hu(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case x:return(e=qu(12,n,t,8|i)).elementType=x,e.type=x,e.lanes=o,e;case R:return(e=qu(13,n,t,i)).type=R,e.elementType=R,e.lanes=o,e;case N:return(e=qu(19,n,t,i)).elementType=N,e.lanes=o,e;case F:return $u(n,i,o,t);case j:return(e=qu(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case O:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Hu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=qu(23,e,r,t)).elementType=F,e.lanes=n,e}function Qu(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Ku(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t,n,r){var i=t.current,o=lu(),s=cu(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(vi(l)){n=_i(n,l,u);break e}}n=u}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),du(i,s,o),s}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function el(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xu(a);s.call(e)}}Ju(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Xu(a);u.call(e)}}yu((function(){Ju(t,a,e,i)}))}return Xu(a)}function il(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(t))throw Error(a(200));return Yu(e,t,null,n)}Hs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:$a(t),Qo();break;case 5:Lo(t);break;case 1:vi(t.type)&&bi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ja(e,t,n):(ci(Fo,1&Fo.current),null!==(t=ns(e,t,n))?t.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return ns(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Bu(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if($a(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Qr(t.stateNode.containerInfo.firstChild),Vo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ci(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=lr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=lo(-1,n&-n)).tag=2,co(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),ro(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Va(e,t,i,o=Yi(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,io(t,n),_o(t,r,i),wo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},tl.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},tl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(du(e,4,lu()),el(e,4))},tt=function(e){13===e.tag&&(du(e,67108864,lu()),el(e,67108864))},nt=function(e){if(13===e.tag){var t=lu(),n=cu(e);du(e,n,t),el(e,n)}},rt=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=gu,Ae=function(e,t,n,r,i){var o=Os;Os|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Os=o)&&(Ws(),Qi())}},De=function(){0==(49&Os)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fu(e,Bi())}))}Qi()}(),Pu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Ws(),Qi())}};var ol={Events:[ni,ri,ii,Re,Ne,Pu,{current:!1}]},al={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sl={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ei=ul.inject(sl),Si=ul}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ol,t.createPortal=il,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!=(48&n))return e(t);Os|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Os=n,Qi()}},t.hydrate=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!0,n)},t.render=function(e,t,n){if(!nl(t))throw Error(a(200));return rl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nl(e))throw Error(a(40));return!!e._reactRootContainer&&(yu((function(){rl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=gu,t.unstable_createPortal=function(e,t){return il(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rl(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+x(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+x(s=e[l],l);u+=C(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,c=r+x(s,l++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function N(){var e=R.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+y;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){f(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],C=[],I=1,O=null,R=3,N=!1,P=!1,A=!1;function D(e){for(var t=S(C);null!==t;){if(null===t.callback)k(C);else{if(!(t.startTime<=e))break;k(C),t.sortIndex=t.expirationTime,E(x,t)}t=S(C)}}function L(e){if(A=!1,D(e),!P)if(null!==S(x))P=!0,n(M);else{var t=S(C);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,A&&(A=!1,i()),N=!0;var o=R;try{for(D(n),O=S(x);null!==O&&(!(O.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=O.callback;if("function"==typeof a){O.callback=null,R=O.priorityLevel;var s=a(O.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?O.callback=s:O===S(x)&&k(x),D(n)}else k(x);O=S(x)}if(null!==O)var u=!0;else{var l=S(C);null!==l&&r(L,l.startTime-n),u=!1}return u}finally{O=null,R=o,N=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||N||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return S(x)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,E(C,e),null===S(x)&&e===S(C)&&(A?i():A=!0,r(L,a-s))):(e.sortIndex=u,E(x,e),P||N||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},895:(e,t,n)=>{"use strict";n(149);var r=n(294),i=n(935),o=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},a=function(e){return!!e&&"function"==typeof e.then},s=function(e,t){if(null!=e)return e;throw o(null!=t?t:"Got unexpected null or undefined")};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{getValue(){throw o("BaseLoadable")}toPromise(){throw o("BaseLoadable")}valueMaybe(){throw o("BaseLoadable")}valueOrThrow(){throw o(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw o("BaseLoadable")}promiseOrThrow(){throw o(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw o("BaseLoadable")}errorOrThrow(){throw o(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw o("BaseLoadable")}}class c extends l{constructor(e){super(),u(this,"state","hasValue"),u(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return a(t)?m(t):g(t)?t:f(t)}catch(t){return a(t)?m(t.next((()=>this.map(e)))):p(t)}}}class d extends l{constructor(e){super(),u(this,"state","hasError"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class h extends l{constructor(e){super(),u(this,"state","loading"),u(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return m(this.contents.then((t=>{const n=e(t);if(g(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(a(t))return t.then((()=>this.map(e).contents));throw t})))}}function f(e){return Object.freeze(new c(e))}function p(e){return Object.freeze(new d(e))}function m(e){return Object.freeze(new h(e))}function v(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?f(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?p(s(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):m(Promise.all(e.map((e=>e.contents))))}(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t])));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function g(e){return e instanceof l}const y={of:e=>a(e)?m(e):f(e),error:e=>p(e),all:v,isLoadable:g};var _,b={loadableWithValue:f,loadableWithError:p,loadableWithPromise:m,loadableLoading:function(){return Object.freeze(new h(new Promise((()=>{}))))},loadableAll:v,isLoadable:g,RecoilLoadable:y},w=b.loadableWithValue,E=b.loadableWithError,S=b.loadableWithPromise,k=b.loadableLoading,T=b.loadableAll,x=b.isLoadable,C=b.RecoilLoadable,I=Object.freeze({__proto__:null,loadableWithValue:w,loadableWithError:E,loadableWithPromise:S,loadableLoading:k,loadableAll:T,isLoadable:x,RecoilLoadable:C});const O=null!==(_=r.useMutableSource)&&void 0!==_?_:r.unstable_useMutableSource;var R={mutableSourceExists:function(){return O&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:O};const{mutableSourceExists:N}=R,P=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function A(e){var t;return!("recoil_early_rendering_2021"===e&&!N())&&null!==(t=P.get(e))&&void 0!==t&&t}A.setPass=e=>{P.set(e,!0)},A.setFail=e=>{P.set(e,!1)};var D=A,L=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};class M{constructor(e){u(this,"key",void 0),this.key=e}}class F extends M{}class j extends M{}var V={AbstractRecoilValue:M,RecoilState:F,RecoilValueReadOnly:j,isRecoilValue:function(e){return e instanceof F||e instanceof j}},U=V.AbstractRecoilValue,q=V.RecoilState,B=V.RecoilValueReadOnly,z=V.isRecoilValue,W=Object.freeze({__proto__:null,AbstractRecoilValue:U,RecoilState:q,RecoilValueReadOnly:B,isRecoilValue:z});class H{}const $=new H;class Q extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const K=new Map,G=new Map;class Y extends Error{}const J=new Map;function X(e){return J.get(e)}var Z,ee,te={nodes:K,recoilValues:G,registerNode:function(e){if(K.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}K.set(e.key,e);const t=null==e.set?new W.RecoilValueReadOnly(e.key):new W.RecoilState(e.key);return G.set(e.key,t),t},getNode:function(e){const t=K.get(e);if(null==t)throw new Y(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return K.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!D("recoil_memory_managament_2020"))return;const n=K.get(e);var r;(null==n||null===(t=n.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(n))&&(K.delete(e),null===(r=X(e))||void 0===r||r(),J.delete(e))},setConfigDeletionHandler:function(e,t){D("recoil_memory_managament_2020")&&(void 0===t?J.delete(e):J.set(e,t))},getConfigDeletionHandler:X,recoilValuesForKeys:function(e){return L(e,(e=>s(G.get(e))))},NodeMissingError:Y,DefaultValue:H,DEFAULT_VALUE:$,RecoilValueNotReady:Q},ne=function(e,t){t()},re=(Z=function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},u=function(e){return function(){return e}},l=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},c=function(e,t){return t>>>e&i},d=function(e){return 1<<e},h=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},f=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},m={__hamt_isEmpty:!0},v=function(e){return e===m||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:k}},_=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:x}},w=function e(t,n,r,i,o,a){if(r===o)return y(t,r,[a,i]);var s=c(n,r),u=c(n,o);return _(t,d(s)|d(u),s===u?[e(t,n+5,r,i,o,a)]:s<u?[i,a]:[a,i])},E=function(e,t){return e===t.edit},S=function(e,t,n,r,i,o,a){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--a.value,m):E(e,this)?(this.value=u,this):g(e,i,o,u)}var l=r();return l===s?this:(++a.value,w(e,n,this.hash,this,i,g(e,i,o,l)))},k=function(e,t,n,r,i,o,a){if(i===this.hash){var u=function(e,t,n,r,i,o,a,u){for(var l=i.length,c=0;c<l;++c){var d=i[c];if(n(a,d.key)){var h=d.value,m=o(h);return m===h?i:m===s?(--u.value,p(e,c,i)):f(e,c,g(t,r,a,m),i)}}var v=o();return v===s?i:(++u.value,f(e,l,g(t,r,a,v),i))}(E(e,this),e,t,this.hash,this.children,r,o,a);return u===this.children?this:u.length>1?y(e,this.hash,u):u[0]}var l=r();return l===s?this:(++a.value,w(e,n,this.hash,this,i,g(e,i,o,l)))},T=function(e,t,n,r,i,a,s){var u=this.mask,l=this.children,g=c(n,i),y=d(g),w=h(u,y),S=u&y,k=S?l[w]:m,T=k._modify(e,t,n+5,r,i,a,s);if(k===T)return this;var x=E(e,this),C=u,I=void 0;if(S&&v(T)){if(!(C&=~y))return m;if(l.length<=2&&function(e){return e===m||1===e.type||2===e.type}(l[1^w]))return l[1^w];I=p(x,w,l)}else if(S||v(T))I=f(x,w,T,l);else{if(l.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,b(e,s+1,o)}(e,g,T,u,l);C|=y,I=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=new Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u}(x,w,T,l)}return x?(this.mask=C,this.children=I,this):_(e,C,I)},x=function(e,t,n,r,i,o,s){var u=this.size,l=this.children,d=c(n,i),h=l[d],p=(h||m)._modify(e,t,n+5,r,i,o,s);if(h===p)return this;var g=E(e,this),y=void 0;if(v(h)&&!v(p))++u,y=f(g,d,p,l);else if(!v(h)&&v(p)){if(--u<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var l=r[s];l&&!v(l)&&(i[o++]=l,a|=1<<s)}return _(e,a,i)}(e,u,d,l);y=f(g,d,m,l)}else y=f(g,d,p,l);return g?(this.size=u,this.children=y,this):b(e,u,y)};function C(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,a){var u=r();return u===s?m:(++a.value,g(e,i,o,u))},C.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new C(this._editable,this._edit,this._config,e,t)};var I=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,l=s.length;u<l;++u){var f=s[u];if(a(n,f.key))return f.value}return e;case 3:var p=c(o,t),m=d(p);if(i.mask&m){i=i.children[h(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[c(o,t)]){o+=5;break}return e;default:return e}};C.prototype.tryGetHash=function(e,t,n){return I(e,t,n,this)};var O=n.tryGet=function(e,t,n){return I(e,n._config.hash(t),t,n)};C.prototype.tryGet=function(e,t){return O(e,t,this)};var R=n.getHash=function(e,t,n){return I(void 0,e,t,n)};C.prototype.getHash=function(e,t){return R(e,t,this)},n.get=function(e,t){return I(void 0,t._config.hash(e),e,t)},C.prototype.get=function(e,t){return O(t,e,this)};var N=n.has=function(e,t,n){return I(s,e,t,n)!==s};C.prototype.hasHash=function(e,t){return N(e,t,this)};var P=n.has=function(e,t){return N(t._config.hash(e),e,t)};C.prototype.has=function(e){return P(e,this)};var A=function(e,t){return e===t};n.make=function(e){return new C(0,0,{keyEq:e&&e.keyEq||A,hash:e&&e.hash||l},m,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!v(e._root)};C.prototype.isEmpty=function(){return D(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};C.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};C.prototype.modify=function(e,t){return M(t,e,this)};var F=n.setHash=function(e,t,n,r){return L(u(n),e,t,r)};C.prototype.setHash=function(e,t,n){return F(e,t,n,this)};var j=n.set=function(e,t,n){return F(n._config.hash(e),e,t,n)};C.prototype.set=function(e,t){return j(e,t,this)};var V=u(s),U=n.removeHash=function(e,t,n){return L(V,e,t,n)};C.prototype.removeHash=C.prototype.deleteHash=function(e,t){return U(e,t,this)};var q=n.remove=function(e,t){return U(t._config.hash(e),e,t)};C.prototype.remove=C.prototype.delete=function(e){return q(e,this)};var B=n.beginMutation=function(e){return new C(e._editable+1,e._edit+1,e._config,e._root,e._size)};C.prototype.beginMutation=function(){return B(this)};var z=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};C.prototype.endMutation=function(){return z(this)};var W=n.mutate=function(e,t){var n=B(t);return e(n),z(n)};C.prototype.mutate=function(e){return W(e,this)};var H=function(e){return e&&$(e[0],e[1],e[2],e[3],e[4])},$=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!v(o))return Q(o,r,[e,t,n,r,i])}return H(i)},Q=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return $(r.length,r,0,t,n);default:return H(n)}},K={done:!0};function G(e){this.v=e}G.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=H(e.rest),e},G.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new G(Q(e._root,t))},J=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,J)};C.prototype.entries=C.prototype[Symbol.iterator]=function(){return X(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};C.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=C.prototype.values=function(e){return Y(e,te)};C.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};C.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};C.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};C.prototype.count=function(){return oe(this)},Object.defineProperty(C.prototype,"size",{get:C.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},Z(ee={exports:{}}),ee.exports);class ie{constructor(e){u(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return ae(this)}toMap(){return new Map(this._map)}}class oe{constructor(e){if(u(this,"_hamt",re.empty.beginMutation()),e instanceof oe){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return ae(this)}toMap(){return new Map(this._hamt)}}function ae(e){return D("recoil_hamt_2020")?new oe(e):new ie(e)}var se=ae,ue=Object.freeze({__proto__:null,persistentMap:se}),le=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n},ce=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function de(e,t,n){const{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach(((e,t)=>{const o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:le(e,o)).forEach((e=>{i.has(e)||i.set(e,new Set),s(i.get(e)).add(t)})),o&&le(o,e).forEach((e=>{if(!i.has(e))return;const n=s(i.get(e));n.delete(t),0===n.size&&i.delete(e)})))}))}var he={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),s(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:ce(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:ce(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach(((e,n)=>{t.has(n)||t.set(n,new Set);const r=s(t.get(n));e.forEach((e=>r.add(e)))}))},saveDependencyMapToStore:function(e,t,n){var r,i,o,a;const s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&(null===(i=s.previousTree)||void 0===i||i.version);const u=t.getGraph(n);if(de(e,u),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&de(e,t.getGraph(s.currentTree.version),u),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var l;const n=null===(l=s.nextTree)||void 0===l?void 0:l.version;void 0!==n&&de(e,t.getGraph(n),u)}}};const{persistentMap:fe}=ue,{graph:pe}=he;let me=0;const ve=()=>me++;function ge(){const e=ve();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:fe(),nonvalidatedAtoms:fe()}}var ye={makeEmptyTreeState:ge,makeEmptyStoreState:function(){const e=ge();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,pe()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:ve},_e=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t},be={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}},we=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};class Ee{}var Se={RetentionZone:Ee,retentionZone:function(){return new Ee}};const{setByAddingToSet:ke}=be,{getNode:Te,getNodeMaybe:xe,recoilValuesForKeys:Ce}=te,{RetentionZone:Ie}=Se,Oe=Object.freeze(new Set);class Re extends Error{}function Ne(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Te(n),a=function(e,t,n){if(!D("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Ie)i(n);else if(Array.isArray(n))for(const e of n)i(e);return()=>{if(!D("recoil_memory_managament_2020"))return;const r=e.getState().retention.nodesRetainedByZone;function i(e){const n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof Ie)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{s(),a()}))}function Pe(e,t,n){return Te(n).peek(e,t)}function Ae(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var a;r.add(e);const t=null!==(a=o.nodeToNodeSubscriptions.get(e))&&void 0!==a?a:Oe;for(const e of t)r.has(e)||i.push(e)}return r}var De={getNodeLoadable:function(e,t,n){return Ne(e,t,n,"get"),Te(n).get(e,t)},peekNodeLoadable:Pe,setNodeValue:function(e,t,n,r){const i=Te(n);if(null==i.set)throw new Re(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Ne(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=xe(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:ke(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;const a=e.getState(),s=e.getGraph(t.version),u=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,l=we(Ae(e,t,new Set([n])),(e=>e!==n));return{loadable:Pe(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:Ce(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:Ce(l),components:L(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}},getDownstreamNodes:Ae,initializeNodeIfNewToStore:Ne};const{getDownstreamNodes:Le,getNodeLoadable:Me,setNodeValue:Fe}=De,{getNodeMaybe:je}=te,{DefaultValue:Ve,RecoilValueNotReady:Ue}=te,{AbstractRecoilValue:qe,RecoilState:Be,RecoilValueReadOnly:ze,isRecoilValue:We}=W;function He(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"==typeof r){const i=Me(e,t,n);if("loading"===i.state)throw new Ue(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),a=Fe(e,t,r.key,o);for(const[e,n]of a.entries())$e(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;$e(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=je(e);null==o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else n.type}function $e(e,t,n){"hasValue"===n.state&&n.contents instanceof Ve?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Qe(e,t){e.replaceState((n=>{const r=Ye(n);for(const n of t)He(e,r,n);return Je(e,r),r}))}function Ke(e,t){if(Ge.length){const n=Ge[Ge.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Qe(e,[t])}const Ge=[];function Ye(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function Je(e,t){const n=Le(e,t,t.dirtyAtoms);for(const e of n){var r,i;null===(r=je(e))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function Xe(e,t,n){Ke(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let Ze=0;var et={RecoilValueReadOnly:ze,AbstractRecoilValue:qe,RecoilState:Be,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const o=e.getState();n.version!==o.currentTree.version&&n.version!==(null===(r=o.nextTree)||void 0===r?void 0:r.version)&&(n.version,null===(i=o.previousTree)||void 0===i||i.version);const a=Me(e,n,t);return"loading"===a.state&&a.contents.catch((()=>{})),a},setRecoilValue:Xe,setRecoilValueLoadable:function(e,t,n){if(n instanceof Ve)return Xe(e,t,n);Ke(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Ke(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Ke(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Ze++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),s(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]),D("recoil_early_rendering_2021")){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)&&(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t))}}},isRecoilValue:We,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof Ve?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return Ge.push(e),()=>{for(const[t,n]of e)Qe(t,n);Ge.pop()}},writeLoadableToTreeState:$e,invalidateDownstreams:Je,copyTreeState:Ye,invalidateDownstreams_FOR_TESTING:Je},tt=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:nt}=De,{deleteNodeConfigIfPossible:rt,getNode:it}=te,{RetentionZone:ot}=Se,at=new Set;function st(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const e of t)if(e instanceof ot)for(const t of lt(n,e))i.add(t);else i.add(e);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return function t(u){const l=new Set,c=function(e,t,n,r,i){const o=e.getGraph(t.version),a=[],u=new Set;for(;n.size>0;)l(s(n.values().next().value));return a;function l(e){if(r.has(e)||i.has(e))return void n.delete(e);if(u.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)l(e);u.add(e),n.delete(e),a.push(e)}}(e,r,u,o,a);for(const e of c){var d;if("recoilRoot"===it(e).retainedBy){a.add(e);continue}if((null!==(d=n.retention.referenceCounts.get(e))&&void 0!==d?d:0)>0){a.add(e);continue}if(ct(e).some((e=>n.retention.referenceCounts.get(e)))){a.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&tt(t,(e=>a.has(e)))?a.add(e):(o.add(e),l.add(e))}const h=new Set;for(const e of l)for(const t of null!==(f=i.nodeDeps.get(e))&&void 0!==f?f:at){var f;o.has(t)||h.add(t)}h.size&&t(h)}(t),o}(e,i);for(const t of o)ut(e,r,t)}function ut(e,t,n){if(!D("recoil_memory_managament_2020"))return;nt(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=ct(n);for(const e of i){var o;null===(o=r.retention.nodesRetainedByZone.get(e))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const e=a.nodeDeps.get(n);if(void 0!==e){a.nodeDeps.delete(n);for(const t of e){var s;null===(s=a.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}rt(n)}function lt(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:at}function ct(e){const t=it(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof ot?[t]:t}function dt(e,t){D("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):st(e,new Set([t]))}(e,t))}var ht={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!D("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?dt(e,t):i.set(t,o)},updateRetainCountToZero:dt,releaseScheduledRetainablesNow:function(e){if(!D("recoil_memory_managament_2020"))return;const t=e.getState();st(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},ft={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};const{unstable_batchedUpdates:pt}=i;var mt={unstable_batchedUpdates:pt};const{unstable_batchedUpdates:vt}=mt;var gt={unstable_batchedUpdates:vt};const{batchStart:yt}=et,{unstable_batchedUpdates:_t}=gt;let bt=_t;var wt={getBatcher:()=>bt,setBatcher:e=>{bt=e},batchUpdates:e=>{bt((()=>{let t=()=>{};try{t=yt(),e()}finally{t()}}))}};const{isSSR:Et}=ft,{batchUpdates:St}=wt,{initializeNodeIfNewToStore:kt,peekNodeInfo:Tt}=De,{graph:xt}=he,{DEFAULT_VALUE:Ct,recoilValues:It,recoilValuesForKeys:Ot}=te,{AbstractRecoilValue:Rt,getRecoilValueAsLoadable:Nt,setRecoilValue:Pt,setUnvalidatedRecoilValue:At}=et,{updateRetainCount:Dt}=ht,{getNextTreeStateVersion:Lt,makeEmptyStoreState:Mt}=ye;class Ft{constructor(e){u(this,"_store",void 0),u(this,"_refCount",0),u(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Nt(this._store,e)))),u(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),u(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return Ot(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?It.values():!0===e.isInitialized?Ot(function*(e){for(const t of e)for(const e of t)yield e}([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):we(It.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),u(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),Tt(this._store,this._store.getState().currentTree,e)))),u(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,St);return e(t),Vt(t.getStore_INTERNAL())})),u(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,St);return await e(t),Vt(t.getStore_INTERNAL())})),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return s(n.get(t));const r=xt();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw o("Cannot subscribe to Snapshots")}};for(const t of this._store.getState().nodeCleanupFunctions.keys())kt(this._store,e.currentTree,t,"get"),Dt(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!D("recoil_memory_managament_2020"))return()=>{};this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){D("recoil_memory_managament_2020")&&(Et||window.setTimeout((()=>this.release_INTERNAL()),0))}release_INTERNAL(){D("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){D("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function jt(e,t,n=!1){const r=e.getState(),i=n?Lt():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function Vt(e,t="current"){const n=e.getState(),r="current"===t?n.currentTree:s(n.previousTree);return new Ft(jt(e,r))}class Ut extends Ft{constructor(e,t){super(jt(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),u(this,"_batch",void 0),u(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Dt(n,e.key,1),Pt(this.getStore_INTERNAL(),e,t)}))})),u(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Dt(t,e.key,1),Pt(this.getStore_INTERNAL(),e,Ct)}))})),u(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();St((()=>{for(const[n,r]of e.entries())Dt(t,n,1),At(t,new Rt(n),r)}))})),this._batch=t}}var qt={Snapshot:Ft,MutableSnapshot:Ut,freshSnapshot:function(e){const t=new Ft(Mt());return null!=e?t.map(e):t},cloneSnapshot:Vt},Bt=qt.Snapshot,zt=qt.MutableSnapshot,Wt=qt.freshSnapshot,Ht=qt.cloneSnapshot,$t=Object.freeze({__proto__:null,Snapshot:Bt,MutableSnapshot:zt,freshSnapshot:Wt,cloneSnapshot:Ht});const{getNextTreeStateVersion:Qt,makeEmptyStoreState:Kt}=ye,{cleanUpNode:Gt,getDownstreamNodes:Yt,setNodeValue:Jt,setUnvalidatedAtomValue_DEPRECATED:Xt}=De,{graph:Zt}=he,{cloneGraph:en}=he,{applyAtomValueWrites:tn}=et,{releaseScheduledRetainablesNow:nn}=ht,{freshSnapshot:rn}=$t,{useCallback:on,useContext:an,useEffect:sn,useMemo:un,useRef:ln,useState:cn}=r;function dn(){throw o("This component must be used inside a <RecoilRoot> component.")}const hn=Object.freeze({getState:dn,replaceState:dn,getGraph:dn,subscribeToTransactions:dn,addTransactionMetadata:dn});let fn=!1;function pn(e){if(fn)throw o("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){D("recoil_memory_managament_2020")&&D("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&nn(e);const n=t.currentTree.version,r=Qt();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,en(s(t.graphsByVersion.get(n))))}}const mn=r.createContext({current:hn}),vn=()=>an(mn),gn=r.createContext(null);function yn(e,t,n){const r=Yt(e,n,n.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,i]]of r)i(n)}}function _n(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,n]of i)n(e);for(const[n,r]of t.transactionSubscriptions)r(e);D("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(yn(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function bn({setNotifyBatcherOfChange:e}){const t=vn(),[n,r]=cn([]);return e((()=>r({}))),sn((()=>{ne("Batcher",(()=>{!function(e){const t=e.current.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,_n(e.current),null!=t.previousTree&&t.graphsByVersion.delete(t.previousTree.version),t.previousTree=null,D("recoil_memory_managament_2020")&&nn(e.current)}finally{t.commitDepth--}}(t)}))})),sn((()=>()=>{e((()=>{}))}),[e]),null}let wn=0;function En({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:i}){var o;let a;const u=ln(null),l=on((e=>{u.current=e}),[u]),c=null!==(o=r.createMutableSource)&&void 0!==o?o:r.unstable_createMutableSource,d=null!=n?n:{getState:()=>a.current,replaceState:e=>{const t=h.current.getState();pn(h.current);const n=s(t.nextTree);let r;try{fn=!0,r=e(n)}finally{fn=!1}r!==n&&(t.nextTree=r,D("recoil_early_rendering_2021")&&yn(d,t,r),s(u.current)())},getGraph:e=>{const t=a.current.graphsByVersion;if(t.has(e))return s(t.get(e));const n=Zt();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){const{transactionSubscriptions:t}=h.current.getState(),n=wn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=h.current.getState();n.has(t)||n.set(t,new Map);const r=wn++;return s(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{pn(h.current);for(const t of Object.keys(e))s(h.current.getState().nextTree).transactionMetadata[t]=e[t]}},h=ln(d);a=ln(null!=e?function(e,t){const n=Kt();return t({set:(t,r)=>{const i=n.currentTree,o=Jt(e,i,t.key,r),a=new Set(o.keys()),s=i.nonvalidatedAtoms.clone();for(const e of a)s.delete(e);n.currentTree={...i,dirtyAtoms:_e(i.dirtyAtoms,a),atomValues:tn(i.atomValues,o),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Xt(n.currentTree,t,e)}))}}),n}(d,e):null!=t?function(e){return rn().map(e).getStore_INTERNAL().getState()}(t):Kt());const f=un((()=>c?c(a,(()=>a.current.currentTree.version)):null),[c,a]);return sn((()=>()=>{for(const e of h.current.getState().knownAtoms)Gt(h.current,e)}),[]),r.createElement(mn.Provider,{value:h},r.createElement(gn.Provider,{value:f},r.createElement(bn,{setNotifyBatcherOfChange:l}),i))}var Sn={useStoreRef:vn,useRecoilMutableSource:function(){const e=an(gn);return e},RecoilRoot:function(e){const{override:t,...n}=e,i=vn();return!1===t&&i.current!==hn?e.children:r.createElement(En,n)},notifyComponents_FOR_TESTING:yn,sendEndOfBatchNotifications_FOR_TESTING:_n};const{useRef:kn}=r;var Tn=function(){return kn(),"<component name not available>"};const{useEffect:xn,useRef:Cn}=r;var In=function(e){const t=Cn();return xn((()=>{t.current=e})),t.current};const{useStoreRef:On}=Sn,{SUSPENSE_TIMEOUT_MS:Rn}=ht,{updateRetainCount:Nn}=ht,{RetentionZone:Pn}=Se,{isSSR:An}=ft,{useEffect:Dn,useRef:Ln}=r;var Mn=function(e){if(D("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Pn?e:e.key)),n=On();Dn((()=>{if(!D("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!An)window.clearTimeout(r.current),r.current=null;else for(const n of t)Nn(e,n,1);return()=>{for(const n of t)Nn(e,n,-1)}}),[n,...t]);const r=Ln(),i=In(t);if(!(An||void 0!==i&&function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(i,t))){const e=n.current;for(const n of t)Nn(e,n,1);if(i)for(const t of i)Nn(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)Nn(e,n,-1)}),Rn)}}(e)};const{batchUpdates:Fn}=wt,{DEFAULT_VALUE:jn}=te,{useRecoilMutableSource:Vn,useStoreRef:Un}=Sn,{isRecoilValue:qn}=W,{AbstractRecoilValue:Bn,getRecoilValueAsLoadable:zn,setRecoilValue:Wn,setUnvalidatedRecoilValue:Hn,subscribeToRecoilValue:$n}=et,{setByAddingToSet:Qn}=be,{mutableSourceExists:Kn,useMutableSource:Gn}=R,{useCallback:Yn,useEffect:Jn,useMemo:Xn,useRef:Zn,useState:er}=r;function tr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:o(`Invalid value of loadable atom "${t.key}"`)}function nr(e){return D("recoil_memory_managament_2020")&&Mn(e),Kn()?function(e){const t=Un(),n=Yn((()=>{var n;const r=t.current,i=r.getState(),o=D("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return zn(r,e,o)}),[t,e]),r=Yn((()=>n()),[n]),i=Tn(),o=Yn(((r,o)=>{const a=t.current;return $n(a,e,(()=>{if(!D("recoil_suppress_rerender_in_callback"))return o();const e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),a=Vn(),s=Gn(a,r,o),u=Zn(s);return Jn((()=>{u.current=s})),s}(e):function(e){const t=Un(),[n,r]=er([]),i=Tn();Jn((()=>{const n=t.current,o=n.getState(),s=$n(n,e,(t=>{var i;if(!D("recoil_suppress_rerender_in_callback"))return r([]);const o=zn(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a.current=null,r([])}));else{var u;if(!D("recoil_suppress_rerender_in_callback"))return r([]);const t=zn(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(t))||r(t),a.current=t}return s.release}),[i,e,t]);const o=zn(t.current,e),a=Zn(o);return Jn((()=>{a.current=o})),o}(e)}function rr(e){const t=Un();return tr(nr(e),e,t)}function ir(e){const t=Un();return Yn((n=>{Wn(t.current,e,n)}),[t,e])}var or={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=Un(),[,t]=er([]),n=Zn(new Set);n.current=new Set;const r=Zn(new Set),i=Zn(new Map),o=Yn((e=>{const t=i.current.get(e);t&&(t.release(),i.current.delete(e))}),[i]),a=Tn();return Jn((()=>{const s=e.current;function u(e,n){i.current.has(n)&&t([])}le(n.current,r.current).forEach((e=>{if(i.current.has(e))return;const t=$n(s,new Bn(e),(t=>{u(0,e)}),a);i.current.set(e,t),s.getState().nextTree?s.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{u(s.getState(),e)})):u(s.getState(),e)})),le(r.current,n.current).forEach((e=>{o(e)})),r.current=n.current})),Jn((()=>{const e=i.current;return()=>e.forEach(((e,t)=>o(t)))}),[o]),Xn((()=>{function t(t){return n=>{Wn(e.current,t,n)}}function r(t){var r;n.current.has(t.key)||(n.current=Qn(n.current,t.key));const i=e.current.getState();return zn(e.current,t,D("recoil_early_rendering_2021")&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)}function i(t){return tr(r(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:r,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[r(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>Wn(e.current,t,jn)}}}),[n,e])},useRecoilState:function(e){return[rr(e),ir(e)]},useRecoilStateLoadable:function(e){return[nr(e),ir(e)]},useRecoilValue:rr,useRecoilValueLoadable:nr,useResetRecoilState:function(e){const t=Un();return Yn((()=>{Wn(t.current,e,jn)}),[t,e])},useSetRecoilState:ir,useSetUnvalidatedAtomValues:function(){const e=Un();return(t,n={})=>{Fn((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Hn(e.current,new Bn(n),t)))}))}}};const{batchUpdates:ar}=wt,{DEFAULT_VALUE:sr,getNode:ur,nodes:lr}=te,{useStoreRef:cr}=Sn,{AbstractRecoilValue:dr,setRecoilValueLoadable:hr}=et,{SUSPENSE_TIMEOUT_MS:fr}=ht,{Snapshot:pr,cloneSnapshot:mr}=$t,{isSSR:vr}=ft,{useCallback:gr,useEffect:yr,useRef:_r,useState:br}=r;function wr(e){const t=cr();yr((()=>t.current.subscribeToTransactions(e).release),[e,t])}function Er(e){const t=e.atomValues.toMap(),n=ce(function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n}(t,((e,t)=>{const n=ur(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t}(e.nonvalidatedAtoms.toMap(),n)}var Sr={useRecoilSnapshot:function(){const e=cr(),[t,n]=br((()=>mr(e.current))),r=In(t),i=_r();return yr((()=>(i.current&&!vr&&window.clearTimeout(i.current),t.retain())),[t]),wr(gr((e=>n(mr(e))),[])),r===t||vr||(i.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout((()=>{t.release_INTERNAL(),i.current=null}),fr)),t},useGotoRecoilSnapshot:function(){const e=cr();return gr((t=>{var n;const r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;ar((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,a;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(a=o.atomValues.get(t))||void 0===a?void 0:a.contents)&&ur(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{hr(e.current,new dr(t),o.atomValues.has(t)?s(o.atomValues.get(t)):sr)})),e.current.replaceState((e=>({...e,stateID:t.getID_INTERNAL()})))}))}),[e])},useRecoilTransactionObserver:function(e){wr(gr((t=>{const n=mr(t,"current"),r=mr(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){wr(gr((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=Er(r),o=Er(n),a=ce(lr,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:wr};const{peekNodeInfo:kr}=De,{useStoreRef:Tr}=Sn;const{RecoilRoot:xr,useStoreRef:Cr}=Sn,{useMemo:Ir}=r;const{loadableWithValue:Or}=I,{DEFAULT_VALUE:Rr,getNode:Nr}=te,{copyTreeState:Pr,getRecoilValueAsLoadable:Ar,invalidateDownstreams:Dr,writeLoadableToTreeState:Lr}=et;function Mr(e){return"atom"===Nr(e.key).nodeType}class Fr{constructor(e,t){u(this,"_store",void 0),u(this,"_treeState",void 0),u(this,"_changes",void 0),u(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Mr(e))throw o("Reading selectors within atomicUpdate is not supported");const t=Ar(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:o(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),u(this,"set",((e,t)=>{if(!Mr(e))throw o("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)})),u(this,"reset",(e=>{this.set(e,Rr)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Pr(this._treeState);for(const[t,n]of this._changes)Lr(e,t,Or(n));return Dr(this._store,e),e}}var jr=function(e){return t=>{e.replaceState((n=>{const r=new Fr(e,n);return t(r),r.newTreeState_INTERNAL()}))}},Vr=Object.freeze({__proto__:null,atomicUpdater:jr}),Ur=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:qr}=Vr,{batchUpdates:Br}=wt,{DEFAULT_VALUE:zr}=te,{useStoreRef:Wr}=Sn,{setRecoilValue:Hr}=et,{Snapshot:$r,cloneSnapshot:Qr}=$t,{useGotoRecoilSnapshot:Kr}=Sr,{useCallback:Gr}=r;class Yr{}const Jr=new Yr;const{getNode:Xr}=te,{useStoreRef:Zr}=Sn,{useCallback:ei}=r;const{atomicUpdater:ti}=Vr,{useStoreRef:ni}=Sn,{useMemo:ri}=r;const{isReactNative:ii,isSSR:oi}=ft;function ai(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw o("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(a(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>ai(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return ai(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"==typeof n?n:ai(n,t)]=i;return ai(r,t,n)}return e instanceof Set?ai(Array.from(e).sort(((e,n)=>ai(e,t).localeCompare(ai(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?ai(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${ai(n,t)}:${ai(e[n],t,n)}`)).join(",")}}`}var si=function(e,t={allowFunctions:!1}){return ai(e,t)};const ui=(e,t,n)=>{var r;if(null==e)return;if(null==n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;const i=t(e.nodeKey);return ui(e.branches.get(i),t,n)},li=(e,t,n,r,i,o,a)=>{var s;let u;if(null==e)if(0===t.length)u={type:"leaf",value:r,parent:n,branchKey:i};else{const[e,...s]=t,[l,c]=e;u={type:"branch",nodeKey:l,parent:n,branches:new Map,branchKey:i},u.branches.set(c,li(null,s,u,r,c,o,a))}else if(u=e,t.length){const[n,...i]=t,[s,l]=n;if("branch"!==e.type||e.nodeKey!==s)return a(),u;e.branches.set(l,li(e.branches.get(l),i,e,r,l,o,a))}return null==o||null===(s=o.onNodeVisit)||void 0===s||s.call(o,u),u},ci=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),ci(e,n,n.parent)):e===t,di=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce(((e,t)=>e+di(t)),0);var hi=class{constructor(e){var t,n,r;u(this,"_numLeafs",void 0),u(this,"_root",void 0),u(this,"_onHit",void 0),u(this,"_onSet",void 0),u(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return ui(this.root(),(t=>this._mapNodeValue(e(t))),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r,i=null;const o=()=>{i=li(this.root(),e.map((([e,t])=>[e,this._mapNodeValue(t)])),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}},(()=>{this.clear(),o()}))};o(),this.root()||(this._root=i),this._numLeafs++,this._onSet(s(r))}delete(e){if(!this.root())return!1;const t=s(this.root());return!!((e,t,n)=>n?(n.branches.delete(t.branchKey),ci(e,n,n.parent)):e===t)(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=di(e),!0))}clear(){this._numLeafs=0,this._root=null}},fi=Object.freeze({__proto__:null,TreeCache:hi}),pi=class{constructor(e){var t;u(this,"_maxSize",void 0),u(this,"_size",void 0),u(this,"_head",void 0),u(this,"_tail",void 0),u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=s(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},mi=Object.freeze({__proto__:null,LRUCache:pi});const{LRUCache:vi}=mi,{TreeCache:gi}=fi;var yi=function(e,t=(e=>e)){const n=new vi({maxSize:e}),r=new gi({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{const i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};const{TreeCache:_i}=fi,bi={equality:"reference",eviction:"keep-all",maxSize:1/0};const{loadableWithError:wi,loadableWithPromise:Ei,loadableWithValue:Si}=I,{getNodeLoadable:ki,peekNodeLoadable:Ti,setNodeValue:xi}=De,{saveDependencyMapToStore:Ci}=he,{DEFAULT_VALUE:Ii,RecoilValueNotReady:Oi,getConfigDeletionHandler:Ri,getNode:Ni,registerNode:Pi}=te,{isRecoilValue:Ai}=W,{AbstractRecoilValue:Di}=W,{markRecoilValueModified:Li,setRecoilValueLoadable:Mi}=et,{retainedByOptionWithDefault:Fi}=ht,{cloneSnapshot:ji}=$t,{startPerfBlock:Vi}={startPerfBlock:function(e){return()=>null}};class Ui{}const qi=new Ui,Bi=[],zi=new Map,Wi=(()=>{let e=0;return()=>e++})();var Hi=function(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,u=null!=e.set?e.set:void 0,l=new Set,c=function({equality:e=bi.equality,eviction:t=bi.eviction,maxSize:n=bi.maxSize}=bi){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new _i({mapNodeValue:n});case"lru":return yi(s(t),n);case"most-recent":return yi(1,n)}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i}(null!=i?i:{equality:"reference",eviction:"keep-all"}),d=Fi(e.retainedBy_UNSTABLE),h=new Map;let f=0;function p(){return!D("recoil_memory_managament_2020")||f>0}function m(e){return h.has(e)||h.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),s(h.get(e))}function v(e){return f++,e.getState().knownSelectors.add(n),()=>{f--,e.getState().knownSelectors.delete(n),h.delete(e)}}function g(){return void 0!==Ri(n)&&!p()}function y(e,t,n){if("loading"===t.state){let t=zi.get(n);null==t&&zi.set(n,t=new Set),t.add(e)}}function _(e,t,n){const r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return s(t.atomValues.get(n));const i=ki(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function b(e,t,n,r,i,o){return t.then((r=>{if(!p())throw R(e,i),qi;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,Si(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const a=k(e,n);if(a&&"hasValue"===a.state)return I(a,e),a.contents;if(!N(e,i)){var s;const e=x(n);if("loading"===(null==e||null===(s=e.latestLoadable)||void 0===s?void 0:s.state))return e.latestLoadable.contents}const[u,l]=S(e,n,i);if(N(e,i)&&O(l,e,i),"loading"!==u.state&&(A(n,T(l),u),E(e,n,new Set(l.keys()),i),w(e,u,i)),"hasError"===u.state)throw u.contents;return u.contents})).catch((t=>{if(t instanceof Ui)throw qi;if(!p())throw R(e,i),qi;const o=wi(t);throw P(),A(n,T(r),wi(t)),E(e,n,new Set(r.keys()),i),w(e,o,i),t}))}function w(e,t,r){N(e,r)&&(I(t,e),function(e,t){const r=zi.get(t);if(void 0!==r){for(const t of r)Mi(t,new Di(n),e);zi.delete(t)}}(t,r))}function E(e,t,r,i){var o,a,s,u,l,c,d;(N(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(s=e.getState())||void 0===s||null===(u=s.nextTree)||void 0===u?void 0:u.version))&&Ci(new Map([[n,r]]),e,null!==(l=null===(c=e.getState())||void 0===c||null===(d=c.nextTree)||void 0===d?void 0:d.version)&&void 0!==l?l:e.getState().currentTree.version)}function S(e,t,i){const s=Vi(n);let u,l,c=!1;const d={loadingDepKey:null,loadingDepPromise:null},h=new Map,f=new Set;function m(n){const{key:r}=n;!function(e,t,n,r,i){n.add(r),E(e,t,n,i)}(e,t,f,r,i);const a=_(e,t,r);switch(h.set(r,a),a.state){case"hasValue":return a.contents;case"hasError":throw a.contents;case"loading":throw d.loadingDepKey=r,d.loadingDepPromise=a.contents,a.contents}throw o("Invalid Loadable state")}E(e,t,f,i);let v=!1;const g=t=>(...n)=>{if(!v)throw o("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");const r=ji(e),i=t({snapshot:r});if("function"!=typeof i)throw o("getCallback() expects a function that returns a function.");return i(...n)};try{u=r({get:m,getCallback:g}),u=Ai(u)?m(u):u,v=!0,a(u)?u=function(e,t,n,r,i,o){return t.then((t=>{if(!p())throw R(e,i),qi;const o=Si(t);return P(),A(n,T(r),o),E(e,n,new Set(r.keys()),i),w(e,o,i),t})).catch((t=>{if(!p())throw R(e,i),qi;if(N(e,i)&&O(r,e,i),a(t))return b(e,t,n,r,i,o);const s=wi(t);throw P(),A(n,T(r),s),E(e,n,new Set(r.keys()),i),w(e,s,i),t}))}(e,u,t,h,i,d).finally(s):s()}catch(n){u=n,a(u)?u=b(e,u,t,h,i,d).finally(s):(c=!0,s())}return l=c?wi(u):a(u)?Ei(u):Si(u),"loading"!==l.state&&P(l.contents),[l,h]}function k(e,t){const r=new Set,i=m(e);let a;try{a=c.get((n=>("string"!=typeof n&&Ur(!1),_(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&"string"==typeof e.nodeKey&&(r.add(e.nodeKey),l.add(e.nodeKey))}})}catch(e){throw o(`Problem with cache lookup for selector "${n}": ${e.message}`)}return a&&E(e,t,r,i.latestExecutionId),a}function T(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}function x(e){var t;const[,n]=null!==(t=Array.from(h.entries()).find((([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;const i=m(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=C.get(t.version))&&void 0!==r?r:new Map).entries()),s=C.has(t.version)&&a.length===o.size&&a.every((([e,t])=>o.get(e)===t));return null!=o&&t.version!==i.stateVersion&&!s&&(C.set(t.version,new Map(o)),Array.from(o).some((([n,r])=>_(e,t,n).contents!==r.contents)))}(t,e))))&&void 0!==t?t:[];return n}const C=new Map;function I(e,t,n,r,i){const o=m(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null==i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function O(e,t,n){const r=m(t);N(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function R(e,t){N(e,t)&&h.delete(e)}function N(e,t){return t===m(e).latestExecutionId}function P(e){}function A(e,t,r){e.atomValues.set(n,r);try{c.set(t,r)}catch(e){throw o(`Problem with setting cache for selector "${n}": ${e.message}`)}}function L(e,t){return c.get((n=>{"string"!=typeof n&&Ur(!1);const r=Ti(e,t,n);return null==r?void 0:r.contents}))}function M(e,t){return function(r){if(Bi.includes(n)){const e=`Recoil selector has circular dependencies: ${Bi.slice(Bi.indexOf(n)).join(" → ")}`;return wi(o(e))}Bi.push(n);try{return function(e,t){const n=k(e,t);if(null!=n)return I(n,e),n;const r=x(t);if(r){const t=r;return y(e,s(t.latestLoadable),s(t.latestExecutionId)),s(t.latestLoadable)}return function(e,t){const n=Wi(),[r,i]=S(e,t,n);return I(r,e,i,n,t),function(e,t,n){"loading"!==n.state&&A(e,t,n)}(t,T(i),r),y(e,r,n),r}(e,t)}(e,t)}finally{Bi.pop()}}()}function F(e){e.atomValues.delete(n)}function j(e,n){null==t&&Ur(!1);for(const t of l){var r;const i=Ni(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}F(n),c.clear(),Li(e,t)}return t=Pi(null!=u?{key:n,nodeType:"selector",peek:L,get:M,set:(e,t,n)=>{let r=!1;const i=new Map;function s({key:n}){if(r)throw o("Recoil: Async selector sets are not currently supported.");const i=_(e,t,n);if("hasValue"===i.state)return i.contents;throw"loading"===i.state?new Oi(n):i.contents}function l(n,a){if(r)throw o("Recoil: Async selector sets are not currently supported.");const u="function"==typeof a?a(s(n)):a;xi(e,t,n.key,u).forEach(((e,t)=>i.set(t,e)))}const c=u({set:l,get:s,reset:function(e){l(e,Ii)}},n);if(void 0!==c)throw a(c)?o("Recoil: Async selector sets are not currently supported."):o("Recoil: selector set should be a void function.");return r=!0,i},init:v,invalidate:F,clearCache:j,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d}:{key:n,nodeType:"selector",peek:L,get:M,init:v,invalidate:F,clearCache:j,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})};const{loadableWithError:$i,loadableWithPromise:Qi,loadableWithValue:Ki}=I,{peekNodeInfo:Gi}=De,{DEFAULT_VALUE:Yi,DefaultValue:Ji,getConfigDeletionHandler:Xi,registerNode:Zi,setConfigDeletionHandler:eo}=te,{isRecoilValue:to}=W,{getRecoilValueAsLoadable:no,markRecoilValueModified:ro,setRecoilValue:io,setRecoilValueLoadable:oo}=et,{retainedByOptionWithDefault:ao}=ht;var so=function e(t){const{default:n,...r}=t;return to(n)?function(t){const n=e({...t,default:Yi,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof Ji?e:s(t.persistence_UNSTABLE).validator(e,Yi)},effects_UNSTABLE:t.effects_UNSTABLE}),r=Hi({key:`${t.key}__withFallback`,get:({get:e})=>{const r=e(n);return r instanceof Ji?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return eo(r.key,Xi(t.key)),r}({...r,default:n}):function(e){const{key:t,persistence_UNSTABLE:n}=e,r=ao(e.retainedBy_UNSTABLE);let i,u=0,l=a(e.default)?Qi(e.default.then((e=>(l=Ki(e),e))).catch((e=>{throw l=$i(e),e}))):Ki(e.default);e.default;const c=new Map,d=Zi({key:t,nodeType:"atom",peek:function(e,n){var r,o;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:i)&&void 0!==r?r:l},get:function(e,r){if(r.atomValues.has(t))return s(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=i)return i;if(null==n)return l;const e=r.nonvalidatedAtoms.get(t),o=n.validator(e,Yi),a=o instanceof Ji?l:Ki(o);return i=a,i}return l},set:function(e,n,r){if(n.atomValues.has(t)){const e=s(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ji)return new Map;return i=void 0,(new Map).set(t,Ki(r))},init:function(n,r,i){u++;const s=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===l.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||ro(n,d)};l.contents.then(e).catch(e)}let h=Yi,f=null;if(null!=e.effects_UNSTABLE&&!s){let r=!0;function s(e){if(r&&e.key===t&&!(h instanceof Ji)){const e=h;return e instanceof Ji?l:a(e)?Qi(e.then((e=>e instanceof Ji?l.toPromise():e))):Ki(e)}return no(n,e)}function u(e){return s(e).toPromise()}function v(e){var i;const o=Gi(n,null!==(i=n.getState().nextTree)&&void 0!==i?i:n.getState().currentTree,e.key);return!r||e.key!==t||h instanceof Ji?o:{...o,isSet:!0,loadable:s(e)}}const g=e=>t=>{if(r){const n=h instanceof Ji||a(h)?"hasValue"===l.state?l.contents:Yi:h;h="function"==typeof t?t(n):t,a(h)&&(h=h.then((t=>(f={effect:e,value:t},t))))}else{if(a(t))throw o("Setting atoms to async values is not implemented.");"function"!=typeof t&&(f={effect:e,value:t}),io(n,d,"function"==typeof t?n=>{const r=t(n);return f={effect:e,value:r},r}:t)}},y=e=>()=>g(e)(Yi),_=e=>r=>{n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:a}=n.getState();a||(a=o);const s=null!==(i=o.atomValues.get(t))&&void 0!==i?i:l;if("hasValue"===s.state){var u,c,d,h;const n=s.contents,i=null!==(u=a.atomValues.get(t))&&void 0!==u?u:l,p="hasValue"===i.state?i.contents:Yi;(null===(c=f)||void 0===c?void 0:c.effect)!==e||(null===(d=f)||void 0===d?void 0:d.value)!==n?r(n,p,!o.atomValues.has(t)):(null===(h=f)||void 0===h?void 0:h.effect)===e&&(f=null)}}),t)};for(const t of null!==(p=e.effects_UNSTABLE)&&void 0!==p?p:[]){var p;const e=t({node:d,trigger:i,setSelf:g(t),resetSelf:y(t),onSet:_(t),getPromise:u,getLoadable:s,getInfo_UNSTABLE:v});var m;null!=e&&c.set(n,[...null!==(m=c.get(n))&&void 0!==m?m:[],e])}r=!1}if(!(h instanceof Ji)){var v;const e=h,i=a(e)?Qi(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&io(e,d,n),n})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&oo(e,d,$i(n)),n}));return r}(n,e)):Ki(e);r.atomValues.set(t,i),null===(v=n.getState().nextTree)||void 0===v||v.atomValues.set(t,i)}return()=>{var e;u--,null===(e=c.get(n))||void 0===e||e.forEach((e=>e())),c.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){i=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Xi(t)&&u<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}({...r,default:n})},uo=class{constructor(e){var t;u(this,"_map",void 0),u(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},lo=Object.freeze({__proto__:null,MapCache:uo});const{LRUCache:co}=mi,{MapCache:ho}=lo,fo={equality:"reference",eviction:"none",maxSize:1/0};var po=function({equality:e=fo.equality,eviction:t=fo.eviction,maxSize:n=fo.maxSize}=fo){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new ho({mapKey:n});case"lru":return new co({mapKey:n,maxSize:s(t)});case"most-recent":return new co({mapKey:n,maxSize:1})}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:mo}=te;const{setConfigDeletionHandler:vo}=te;let go=0;var yo=function(e){var t,n;const r=po({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=si(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${go++}`,a=n=>e.get(t)(n),s=e.cachePolicy_UNSTABLE,u="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let l;if(null!=e.set){const n=e.set;l=Hi({key:o,get:a,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else l=Hi({key:o,get:a,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,l),vo(l.key,(()=>{r.delete(t)})),l}};const _o=yo({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});const bo=yo({key:"__error",get:e=>()=>{throw o(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:wo,loadableWithPromise:Eo,loadableWithValue:So}=I;function ko(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function To(e){return null!=e&&!a(e)}function xo(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function Co(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function Io(e,t,n){return Co(e,n.map(((e,n)=>null==e?So(t[n]):a(e)?Eo(e):wo(e))))}const Oo=yo({key:"__waitForNone",get:e=>({get:t})=>{const n=xo(e),[r,i]=ko(t,n);return Io(e,r,i)},dangerouslyAllowMutability:!0}),Ro=yo({key:"__waitForAny",get:e=>({get:t})=>{const n=xo(e),[r,i]=ko(t,n);return i.some((e=>!a(e)))?Io(e,r,i):new Promise((t=>{for(const[n,o]of i.entries())a(o)&&o.then((o=>{r[n]=o,i[n]=void 0,t(Io(e,r,i))})).catch((o=>{i[n]=o,t(Io(e,r,i))}))}))},dangerouslyAllowMutability:!0}),No=yo({key:"__waitForAll",get:e=>({get:t})=>{const n=xo(e),[r,i]=ko(t,n);if(i.every((e=>null==e)))return Co(e,r);const o=i.find(To);if(null!=o)throw o;return Promise.all(i).then((t=>{return Co(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),Po=yo({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=xo(e),[r,i]=ko(t,n);return i.every((e=>!a(e)))?Io(e,r,i):Promise.all(i.map(((e,t)=>a(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>Io(e,r,i)))},dangerouslyAllowMutability:!0}),Ao=yo({key:"__noWait",get:e=>({get:t})=>{try{return So(t(e))}catch(e){return a(e)?Eo(e):wo(e)}},dangerouslyAllowMutability:!0});var Do={waitForNone:Oo,waitForAny:Ro,waitForAll:No,waitForAllSettled:Po,noWait:Ao};const{RecoilLoadable:Lo}=I,{DefaultValue:Mo}=te,{RecoilRoot:Fo}=Sn,{isRecoilValue:jo}=W,{retentionZone:Vo}=Se,{freshSnapshot:Uo}=$t,{useRecoilState:qo,useRecoilStateLoadable:Bo,useRecoilValue:zo,useRecoilValueLoadable:Wo,useResetRecoilState:Ho,useSetRecoilState:$o,useSetUnvalidatedAtomValues:Qo}=or,{useGotoRecoilSnapshot:Ko,useRecoilSnapshot:Go,useRecoilTransactionObserver:Yo,useTransactionObservation_DEPRECATED:Jo}=Sr,{noWait:Xo,waitForAll:Zo,waitForAllSettled:ea,waitForAny:ta,waitForNone:na}=Do;var ra={DefaultValue:Mo,isRecoilValue:jo,RecoilLoadable:Lo,RecoilRoot:Fo,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){const e=Cr().current;return Ir((()=>function({children:t}){return r.createElement(xr,{store_INTERNAL:e},t)}),[e])},atom:so,selector:Hi,atomFamily:function(e){var t,n;const r=po({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const{cachePolicyForParams_UNSTABLE:o,...a}=e,s=so({...a,key:`${e.key}__${null!==(n=si(t))&&void 0!==n?n:"void"}`,default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE});return r.set(t,s),mo(s.key,(()=>{r.delete(t)})),s}},selectorFamily:yo,constSelector:function(e){return _o(e)},errorSelector:function(e){return bo(e)},readOnlySelector:function(e){return e},noWait:Xo,waitForNone:na,waitForAny:ta,waitForAll:Zo,waitForAllSettled:ea,useRecoilValue:zo,useRecoilValueLoadable:Wo,useRecoilState:qo,useRecoilStateLoadable:Bo,useSetRecoilState:$o,useResetRecoilState:Ho,useGetRecoilValueInfo_UNSTABLE:function(){const e=Tr();return({key:t})=>kr(e.current,e.current.getState().currentTree,t)},useRecoilRefresher_UNSTABLE:function(e){const t=Zr();return ei((()=>{var n;const r=t.current,{currentTree:i}=r.getState(),o=Xr(e.key);null===(n=o.clearCache)||void 0===n||n.call(o,r,i)}),[e,t])},useRecoilCallback:function(e,t){const n=Wr(),r=Kr();return Gr(((...t)=>{function i(e,t){Hr(n.current,e,t)}function a(e){Hr(n.current,e,zr)}const s=Qr(n.current),u=qr(n.current);let l=Jr;return Br((()=>{const n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw o(n);const c=e({set:i,reset:a,snapshot:s,gotoSnapshot:r,transact_UNSTABLE:u});if("function"!=typeof c)throw o(n);l=c(...t)})),l instanceof Yr&&Ur(!1),l}),null!=t?[...t,n]:void 0)},useRecoilTransaction_UNSTABLE:function(e,t){const n=ni();return ri((()=>(...t)=>{ti(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)},useGotoRecoilSnapshot:Ko,useRecoilSnapshot:Go,useRecoilTransactionObserver_UNSTABLE:Yo,useTransactionObservation_UNSTABLE:Jo,useSetUnvalidatedAtomValues_UNSTABLE:Qo,snapshot_UNSTABLE:Uo,useRetain:Mn,retentionZone:Vo},ia=ra.DefaultValue,oa=ra.RecoilRoot,aa=ra.atom,sa=ra.selector,ua=ra.atomFamily,la=ra.selectorFamily,ca=ra.useRecoilValue,da=ra.useRecoilState,ha=ra.useSetRecoilState,fa=ra.useRecoilRefresher_UNSTABLE,pa=n(162),ma=n(343),va=function(){return va=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},va.apply(this,arguments)};function ga(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ya(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ga(arguments[t]));return e}var _a,ba=n(769),wa=n(844),Ea=n(321),Sa=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],ka=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,ba.c)((function(t){var n=(0,pa.Gd)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a="function"==typeof r._mergeOptions?r._mergeOptions(o):{};return"function"!=typeof r._shouldDropEvent?t:r._shouldDropEvent(t,a)?null:t}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(ma.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,wa.jH)(e)),!0):this._isIgnoredError(e,t)?(ma.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,wa.jH)(e)),!0):this._isDeniedUrl(e,t)?(ma.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,wa.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(ma.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,wa.jH)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return(0,Ea.zC)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return(0,Ea.zC)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return(0,Ea.zC)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:ya(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:ya(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:ya(this._options.ignoreErrors||[],e.ignoreErrors||[],Sa),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(t){return ma.k.error("Cannot extract message for event "+(0,wa.jH)(e)),[]}return[]},e.prototype._getLastValidUrl=function(e){var t,n;void 0===e&&(e=[]);for(var r=e.length-1;r>=0;r--){var i=e[r];if("<anonymous>"!==(null===(t=i)||void 0===t?void 0:t.filename)&&"[native code]"!==(null===(n=i)||void 0===n?void 0:n.filename))return i.filename||null}return null},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return this._getLastValidUrl(t)}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(t){return ma.k.error("Cannot extract url for event "+(0,wa.jH)(e)),null}},e.id="InboundFilters",e}(),Ta=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){_a=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return _a.apply(n,e)}},e.id="FunctionToString",e}(),xa=n(991),Ca=n(732),Ia=function(e,t){return Ia=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ia(e,t)};function Oa(e,t){function n(){this.constructor=e}Ia(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ra=function(){return Ra=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ra.apply(this,arguments)};function Na(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pa(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Aa(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Pa(arguments[t]));return e}var Da="6.16.1",La=n(199),Ma=n(689),Fa=n(832),ja=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}),Va=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,ja(r,n.prototype),r}return(0,Fa.ZT)(t,e),t}(Error),Ua=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,qa=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=Ua.exec(e);if(!t)throw new Va("Invalid Dsn");var n=(0,Fa.CR)(t.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],u=n[4],l=void 0===u?"":u,c="",d=n[5],h=d.split("/");if(h.length>1&&(c=h.slice(0,-1).join("/"),d=h.pop()),d){var f=d.match(/^\d+/);f&&(d=f[0])}this._fromComponents({host:s,pass:a,path:c,projectId:d,port:l,protocol:r,publicKey:i})},e.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new Va("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new Va("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Va("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Va("Invalid Dsn: Invalid port "+this.port)},e}(),Ba=n(597),za=n(893),Wa=n(170),Ha=n(470),$a=[];function Qa(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}var Ka,Ga="Not capturing exception because it's already been captured.",Ya=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new qa(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this;if(!(0,wa.YO)(e)){var i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}ma.k.log(Ga)},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,Ba.pt)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){var r;if(!(null===(r=t)||void 0===r?void 0:r.originalException)||!(0,wa.YO)(t.originalException)){var i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){i=e}))),i}ma.k.log(Ga)},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?ma.k.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):ma.k.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(n){return t.getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){var e,t;this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(e=this._options,t={},function(e){var t=e.defaultIntegrations&&ya(e.defaultIntegrations)||[],n=e.integrations,r=ya(Qa(t));Array.isArray(n)?r=ya(r.filter((function(e){return n.every((function(t){return t.name!==e.name}))})),Qa(n)):"function"==typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(e){return e.name})),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,ya(r.splice(i.indexOf(o),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===$a.indexOf(e.name)&&(e.setupOnce(ba.c,pa.Gd),$a.push(e.name),ma.k.log("Integration installed: "+e.name))}(e)})),Object.defineProperty(t,"initialized",{value:!0}),t))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return ma.k.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i=!1,o=!1,a=t.exception&&t.exception.values;if(a){o=!0;try{for(var s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),u=s.next();!u.done;u=s.next()){var l=u.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}var c=e.status===La.$.Ok;(c&&0===e.errors||c&&i)&&(e.update(va(va({},i&&{status:La.$.Crashed}),{errors:e.errors||Number(o||i)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new za.c((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=va(va({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,wa.DM)()),timestamp:e.timestamp||(0,Wa.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;n&&n.captureContext&&(s=ba.s.clone(s).update(n.captureContext));var u=za.c.resolve(a);return s&&(u=s.applyToEvent(a,n)),u.then((function(e){return"number"==typeof o&&o>0?r._normalizeEvent(e,o):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=va(va(va(va(va({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return va(va({},e),e.data&&{data:(0,Ha.Fv)(e.data,t)})}))}),e.user&&{user:(0,Ha.Fv)(e.user,t)}),e.contexts&&{contexts:(0,Ha.Fv)(e.contexts,t)}),e.extra&&{extra:(0,Ha.Fv)(e.extra,t)});e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace);var r=this.getOptions()._experiments;return(void 0===r?{}:r).ensureNoCircularStructures?(0,Ha.Fv)(n):n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,Ea.$G)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,Ea.$G)(s.value,a));var u=e.request;u&&u.url&&(u.url=(0,Ea.$G)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=ya(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){ma.k.error(e)}))},e.prototype._processEvent=function(e,t,n){var r,i,o=this,a=this.getOptions(),s=a.beforeSend,u=a.sampleRate,l=this.getTransport();if(!this._isEnabled())return za.c.reject(new Va("SDK not enabled, will not capture event."));var c="transaction"===e.type;return!c&&"number"==typeof u&&Math.random()>u?(null===(i=(r=l).recordLostEvent)||void 0===i||i.call(r,Ma.k.SampleRate,"event"),za.c.reject(new Va("Discarding event because it's not included in the random sample (sampling rate = "+u+")"))):this._prepareEvent(e,n,t).then((function(n){var r,i;if(null===n)throw null===(i=(r=l).recordLostEvent)||void 0===i||i.call(r,Ma.k.EventProcessor,e.type||"event"),new Va("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||c||!s)return n;var a=s(n,t);return o._ensureBeforeSendRv(a)})).then((function(t){var r,i;if(null===t)throw null===(i=(r=l).recordLostEvent)||void 0===i||i.call(r,Ma.k.BeforeSend,e.type||"event"),new Va("`beforeSend` returned `null`, will not send event.");var a=n&&n.getSession&&n.getSession();return!c&&a&&o._updateSessionFromEvent(a,t),o._sendEvent(t),t})).then(null,(function(e){if(e instanceof Va)throw e;throw o.captureException(e,{data:{__sentry__:!0},originalException:e}),new Va("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e.prototype._ensureBeforeSendRv=function(e){var t="`beforeSend` method has to return `null` or a valid event.";if((0,Ba.J8)(e))return e.then((function(e){if(!(0,Ba.PO)(e)&&null!==e)throw new Va(t);return e}),(function(e){throw new Va("beforeSend rejected with "+e)}));if(!(0,Ba.PO)(e)&&null!==e)throw new Va(t);return e},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(Ka||(Ka={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(Ka||(Ka={}));var Ja,Xa=function(){function e(){}return e.prototype.sendEvent=function(e){return za.c.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Ka.Skipped})},e.prototype.close=function(e){return za.c.resolve(!0)},e}(),Za=function(){function e(e){this._options=e,this._options.dsn||ma.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new Va("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new Va("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){ma.k.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){ma.k.error("Error while sending session: "+e)})):ma.k.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Xa},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(Ja||(Ja={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}(Ja||(Ja={}));var es=n(823),ts="?",ns=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,is=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,os=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,as=/\((\S*)(?::(\d+))(?::(\d+))\)/,ss=/Minified React error #\d+;/i;function us(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:ss.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=e.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(t=n.exec(i[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=r.exec(i[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func=ts),o.push(s))}return o.length?{message:ds(e),name:e.name,stack:o}:null}(e),t)return cs(t,n)}catch(e){}try{if(t=function(e){var t,n;if(!e||!e.stack)return null;for(var r,i,o,a=[],s=e.stack.split("\n"),u=0;u<s.length;++u){if(i=ns.exec(s[u])){var l=i[2]&&0===i[2].indexOf("native");i[2]&&0===i[2].indexOf("eval")&&(r=as.exec(i[2]))&&(i[2]=r[1],i[3]=r[2],i[4]=r[3]);var c=i[2]&&0===i[2].indexOf("address at ")?i[2].substr("address at ".length):i[2],d=i[1]||ts;d=(t=Pa(ls(d,c),2))[0],o={url:c=t[1],func:d,args:l?[i[2]]:[],line:i[3]?+i[3]:null,column:i[4]?+i[4]:null}}else if(i=is.exec(s[u]))o={url:i[2],func:i[1]||ts,args:[],line:+i[3],column:i[4]?+i[4]:null};else{if(!(i=rs.exec(s[u])))continue;i[3]&&i[3].indexOf(" > eval")>-1&&(r=os.exec(i[3]))?(i[1]=i[1]||"eval",i[3]=r[1],i[4]=r[2],i[5]=""):0!==u||i[5]||void 0===e.columnNumber||(a[0].column=e.columnNumber+1),c=i[3],d=i[1]||ts,d=(n=Pa(ls(d,c),2))[0],o={url:c=n[1],func:d,args:i[2]?i[2].split(","):[],line:i[4]?+i[4]:null,column:i[5]?+i[5]:null}}!o.func&&o.line&&(o.func=ts),a.push(o)}return a.length?{message:ds(e),name:e.name,stack:a}:null}(e),t)return cs(t,n)}catch(e){}return{message:ds(e),name:e&&e.name,stack:[],failed:!0}}var ls=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:ts,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function cs(e,t){try{return Ra(Ra({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function ds(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function hs(e){var t=ps(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function fs(e){return{exception:{values:[hs(e)]}}}function ps(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function ms(e,t,n){var r;if(void 0===n&&(n={}),(0,Ba.VW)(e)&&e.error)return fs(us(e=e.error));if((0,Ba.TX)(e)||(0,Ba.fm)(e)){var i=e;if("stack"in e)r=fs(us(e));else{var o=i.name||((0,Ba.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;r=vs(a,t,n),(0,wa.Db)(r,a)}return"code"in i&&(r.tags=Ra(Ra({},r.tags),{"DOMException.code":""+i.code})),r}return(0,Ba.VZ)(e)?r=fs(us(e)):(0,Ba.PO)(e)||(0,Ba.cO)(e)?(r=function(e,t,n){var r={exception:{values:[{type:(0,Ba.cO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,Ha.zf)(e)}]},extra:{__serialized__:(0,Ha.Qy)(e)}};if(t){var i=ps(us(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),(0,wa.EG)(r,{synthetic:!0}),r):(r=vs(e,t,n),(0,wa.Db)(r,""+e,void 0),(0,wa.EG)(r,{synthetic:!0}),r)}function vs(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=ps(us(t).stack);r.stacktrace={frames:i}}return r}function gs(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function ys(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=ya(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=ya(e.sdk.packages||[],t.packages||[]),e):e}function _s(e,t){var n=gs(t),r="aggregates"in e?"sessions":"session";return{body:JSON.stringify(va(va({sent_at:(new Date).toISOString()},n&&{sdk:n}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:r})+"\n"+JSON.stringify(e),type:r,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function bs(e,t){var n=gs(t),r=e.type||"event",i="transaction"===r||t.forceEnvelope(),o=e.debug_meta||{},a=o.transactionSampling,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(o,["transactionSampling"]),u=a||{},l=u.method,c=u.rate;0===Object.keys(s).length?delete e.debug_meta:e.debug_meta=s;var d={body:JSON.stringify(n?ys(e,t.metadata.sdk):e),type:r,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(va(va({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:r,sample_rates:[{id:l,rate:c}]})+"\n"+d.body;d.body=h}return d}var ws,Es=function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=new qa(e),this.metadata=t,this._tunnel=n}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this.getDsn(),r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return this._tunnel?this._tunnel:""+this.getBaseApiEndpoint()+this.getDsn().projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this.getDsn().publicKey,sentry_version:"7"};return(0,Ha._j)(e)},e}(),Ss=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;if(!this.isReady())return za.c.reject(new Va("Not adding Promise due to buffer limit reached."));var n=e();return-1===this._buffer.indexOf(n)&&this._buffer.push(n),n.then((function(){return t.remove(n)})).then(null,(function(){return t.remove(n).then(null,(function(){}))})),n},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new za.c((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);za.c.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),ks=(0,xa.R)();function Ts(){var e,t;if(ws)return ws;if((0,es.Du)(ks.fetch))return ws=ks.fetch.bind(ks);var n=ks.document,r=ks.fetch;if("function"==typeof(null===(e=n)||void 0===e?void 0:e.createElement))try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),(null===(t=i.contentWindow)||void 0===t?void 0:t.fetch)&&(r=i.contentWindow.fetch),n.head.removeChild(i)}catch(e){ma.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return ws=r.bind(ks)}var xs={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Cs=(0,xa.R)(),Is=function(){function e(e){var t=this;this.options=e,this._buffer=new Ss(30),this._rateLimits={},this._outcomes={},this._api=new Es(e.dsn,e._metadata,e.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&Cs.document&&Cs.document.addEventListener("visibilitychange",(function(){"hidden"===Cs.document.visibilityState&&t._flushOutcomes()}))}return e.prototype.sendEvent=function(e){throw new Va("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){var n;if(this.options.sendClientReports){var r=xs[t]+":"+e;ma.k.log("Adding outcome: "+r),this._outcomes[r]=(null!=(n=this._outcomes[r])?n:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},Object.keys(e).length){ma.k.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify(Ra({},this.options.tunnel&&{dsn:this._api.getDsn().toString()})),r=JSON.stringify({type:"client_report"}),i=JSON.stringify({timestamp:(0,Wa.yW)(),discarded_events:Object.keys(e).map((function(t){var n=Pa(t.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:e[t]}}))}),o=n+"\n"+r+"\n"+i;try{!function(e,t){if("[object Navigator]"===Object.prototype.toString.call(ks&&ks.navigator)&&"function"==typeof ks.navigator.sendBeacon)return ks.navigator.sendBeacon.bind(ks.navigator)(e,t);(0,es.Ak)()&&Ts()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){console.error(e)}))}(t,o)}catch(e){ma.k.error(e)}}else ma.k.log("No outcomes to flush")}},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=Ka.fromHttpCode(n.status);this._handleRateLimit(r)&&ma.k.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),a!==Ka.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){var t=xs[e];return this._rateLimits[t]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,o=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var u=Na(a.trim().split(",")),l=u.next();!l.done;l=u.next()){var c=l.value.split(":",2),d=parseInt(c[0],10),h=1e3*(isNaN(d)?60:d);try{for(var f=(r=void 0,Na(c[1].split(";"))),p=f.next();!p.done;p=f.next()){var m=p.value;this._rateLimits[m||"all"]=new Date(o+h)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,wa.JY)(o,s)),!0)},e}(),Os=function(e){function t(t,n){void 0===n&&(n=Ts());var r=e.call(this,t)||this;return r._fetch=n,r}return Oa(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(bs(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(_s(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return this.recordLostEvent(Ma.k.RateLimitBackoff,e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,es.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new za.c((function(t,i){n._fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)}))})).then(void 0,(function(t){throw t instanceof Va?n.recordLostEvent(Ma.k.QueueOverflow,e.type):n.recordLostEvent(Ma.k.NetworkError,e.type),t}))},t}(Is),Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oa(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(bs(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(_s(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?(this.recordLostEvent(Ma.k.RateLimitBackoff,e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new za.c((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)}))})).then(void 0,(function(t){throw t instanceof Va?n.recordLostEvent(Ma.k.QueueOverflow,e.type):n.recordLostEvent(Ma.k.NetworkError,e.type),t}))},t}(Is),Ns=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oa(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=ms(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,wa.EG)(r),r.level=Ja.Error,n&&n.event_id&&(r.event_id=n.event_id),za.c.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=Ja.Info),function(e,t,n,r){void 0===n&&(n=Ja.Info);var i=vs(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),za.c.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Ra(Ra({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):(0,es.Ak)()?new Os(t):new Rs(t)},t}(Za);function Ps(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function As(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ps(arguments[t]));return e}function Ds(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,pa.Gd)();if(r&&r[e])return r[e].apply(r,As(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Ls(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return Ds("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function Ms(e){Ds("withScope",e)}var Fs=(0,xa.R)(),js=0;function Vs(){return js>0}function Us(){js+=1,setTimeout((function(){js-=1}))}function qs(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(e){return qs(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(e){throw Us(),Ms((function(n){n.addEventProcessor((function(e){var n=Ra({},e);return t.mechanism&&((0,wa.Db)(n,void 0,void 0),(0,wa.EG)(n,t.mechanism)),n.extra=Ra(Ra({},n.extra),{arguments:r}),n})),Ls(e)})),e}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}var Bs=n(464),zs=function(){function e(t){this.name=e.id,this._options=Ra({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,pa.Gd)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,wa.jH)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&(0,Ca.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,Aa(t))},type:"console"}),this._options.dom&&(0,Ca.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,Aa(t))},type:"dom"}),this._options.xhr&&(0,Ca.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,Aa(t))},type:"xhr"}),this._options.fetch&&(0,Ca.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,Aa(t))},type:"fetch"}),this._options.history&&(0,Ca.o)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,Aa(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:Ja.fromString(e.level),message:(0,Ea.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,Ea.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,pa.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t,n="object"==typeof this._options.dom?this._options.dom.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{t=e.event.target?(0,Bs.R)(e.event.target,n):(0,Bs.R)(e.event,n)}catch(e){t="<unknown>"}0!==t.length&&(0,pa.Gd)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name,global:e.global})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,pa.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,pa.Gd)().addBreadcrumb({category:"fetch",data:e.fetchData,level:Ja.Error,type:"http"},{data:e.error,input:e.args}):(0,pa.Gd)().addBreadcrumb({category:"fetch",data:Ra(Ra({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=(0,xa.R)(),n=e.from,r=e.to,i=(0,wa.en)(t.location.href),o=(0,wa.en)(n),a=(0,wa.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,pa.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),Ws=function(e){function t(t){return void 0===t&&(t={}),t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Da}],version:Da},e.call(this,Ns,t)||this}return Oa(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,xa.R)().document&&(this._isEnabled()?function(e){if(void 0===e&&(e={}),Fs.document)if(e.eventId)if(e.dsn){var t=Fs.document.createElement("script");t.async=!0,t.src=new Es(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad);var n=Fs.document.head||Fs.document.body;n&&n.appendChild(t)}else ma.k.error("Missing dsn option in showReportDialog call");else ma.k.error("Missing eventId option in showReportDialog call")}(Ra(Ra({},e),{dsn:e.dsn||this.getDsn()})):ma.k.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(zs);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(Ya),Hs=n(360),$s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qs=function(){function e(t){this.name=e.id,this._options=Ra({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,xa.R)();this._options.setTimeout&&(0,Ha.hl)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,Ha.hl)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,Ha.hl)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,Ha.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:$s).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=qs(r,{mechanism:{data:{function:(0,Hs.$)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,qs(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Hs.$)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=(0,xa.R)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Ha.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=qs(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,Hs.$)(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,qs(r,{mechanism:{data:{function:"addEventListener",handler:(0,Hs.$)(r),target:e},handled:!0,type:"instrument"}}),i)}})),(0,Ha.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(e){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(e){e in r&&"function"==typeof r[e]&&(0,Ha.hl)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,Hs.$)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=(0,Hs.$)(t.__sentry_original__)),qs(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),Ks=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Ra({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(ma.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(ma.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,Ca.o)({callback:function(n){var r=n.error,i=(0,pa.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!Vs()&&!a){var s=i.getClient(),u=void 0===r&&(0,Ba.HD)(n.msg)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(ms(r||n.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,wa.EG)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,Ca.o)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var i=(0,pa.Gd)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||Vs()||a)return!0;var s=i.getClient(),u=(0,Ba.pt)(r)?t._eventFromRejectionWithPrimitive(r):ms(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=Ja.Error,(0,wa.EG)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=(0,Ba.VW)(e)?e.message:e,a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2]);var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,Ba.HD)(t)&&t.length>0?t:(0,Bs.l)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),Gs=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,ba.c)((function(t,n){var r=(0,pa.Gd)().getIntegration(e);if(r){var i=r._handler&&r._handler.bind(r);return"function"==typeof i?i(t,n):t}return t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&(0,Ba.V9)(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Aa(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(0,Ba.V9)(e[t],Error)||n.length+1>=this._limit)return n;var r=hs(us(e[t]));return this._walkErrorTree(e[t],t,Aa([r],n))},e.id="LinkedErrors",e}(),Ys=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var r=n().getIntegration(e);if(r){try{if(r._shouldDropEvent(t,r._previousEvent))return ma.k.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return r._previousEvent=t}return r._previousEvent=t}return t}))},e.prototype._shouldDropEvent=function(e,t){return!(!t||!this._isSameMessageEvent(e,t)&&!this._isSameExceptionEvent(e,t))},e.prototype._isSameMessageEvent=function(e,t){var n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!this._isSameFingerprint(e,t)||!this._isSameStacktrace(e,t))},e.prototype._getFramesFromEvent=function(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}else if(e.stacktrace)return e.stacktrace.frames},e.prototype._isSameStacktrace=function(e,t){var n=this._getFramesFromEvent(e),r=this._getFramesFromEvent(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,(r=r).length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(e){return e.exception&&e.exception.values&&e.exception.values[0]},e.prototype._isSameExceptionEvent=function(e,t){var n=this._getExceptionFromEvent(t),r=this._getExceptionFromEvent(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&this._isSameFingerprint(e,t)&&this._isSameStacktrace(e,t))},e.prototype._isSameFingerprint=function(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(e){return!1}},e.id="Dedupe",e}(),Js=(0,xa.R)(),Xs=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,ba.c)((function(t){var n,r,i;if((0,pa.Gd)().getIntegration(e)){if(!Js.navigator&&!Js.location&&!Js.document)return t;var o=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=Js.location)||void 0===r?void 0:r.href),a=(Js.document||{}).referrer,s=(Js.navigator||{}).userAgent,u=Ra(Ra(Ra({},null===(i=t.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),l=Ra(Ra({},o&&{url:o}),{headers:u});return Ra(Ra({},t),{request:l})}return t}))},e.id="UserAgent",e}(),Zs=[new ka,new Ta,new Qs,new zs,new Ks,new Gs,new Ys,new Xs],eu=n(109),tu=n(132),nu=n(458),ru=n(734),iu=n(233),ou=n(257),au=(0,xa.R)(),su=n(422),uu=function(e,t,n){var r;return function(i){t.value>=0&&(i||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},lu=function(e,t){return{name:e,value:null!=t?t:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},cu=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},du=function(e,t){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,xa.R)().document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},hu=-1,fu=function(){return hu<0&&(hu="hidden"===(0,xa.R)().document.visibilityState?0:1/0,du((function(e){var t=e.timeStamp;hu=t}),!0)),{get firstHiddenTime(){return hu}}},pu={},mu=(0,xa.R)(),vu=function(){function e(e){var t,n;void 0===e&&(e=!1),this._reportAllChanges=e,this._measurements={},this._performanceCursor=0,!(0,su.KV)()&&(null===(t=mu)||void 0===t?void 0:t.performance)&&(null===(n=mu)||void 0===n?void 0:n.document)&&(mu.performance.mark&&mu.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(mu&&mu.performance&&mu.performance.getEntries&&Wa.Z1){ma.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o,a,s=(0,iu.XL)(Wa.Z1);if(mu.document&&mu.document.scripts)for(var u=0;u<mu.document.scripts.length;u++)if("true"===mu.document.scripts[u].dataset.entry){n=mu.document.scripts[u].src;break}if(mu.performance.getEntries().slice(this._performanceCursor).forEach((function(u){var l=(0,iu.XL)(u.startTime),c=(0,iu.XL)(u.duration);if(!("navigation"===e.op&&s+l<e.startTimestamp))switch(u.entryType){case"navigation":!function(e,t,n){gu({transaction:e,entry:t,event:"unloadEvent",timeOrigin:n}),gu({transaction:e,entry:t,event:"redirect",timeOrigin:n}),gu({transaction:e,entry:t,event:"domContentLoadedEvent",timeOrigin:n}),gu({transaction:e,entry:t,event:"loadEvent",timeOrigin:n}),gu({transaction:e,entry:t,event:"connect",timeOrigin:n}),gu({transaction:e,entry:t,event:"secureConnection",timeOrigin:n,eventEnd:"connectEnd",description:"TLS/SSL"}),gu({transaction:e,entry:t,event:"fetch",timeOrigin:n,eventEnd:"domainLookupStart",description:"cache"}),gu({transaction:e,entry:t,event:"domainLookup",timeOrigin:n,description:"DNS"}),function(e,t,n){yu(e,{op:"browser",description:"request",startTimestamp:n+(0,iu.XL)(t.requestStart),endTimestamp:n+(0,iu.XL)(t.responseEnd)}),yu(e,{op:"browser",description:"response",startTimestamp:n+(0,iu.XL)(t.responseStart),endTimestamp:n+(0,iu.XL)(t.responseEnd)})}(e,t,n)}(e,u,s),o=s+(0,iu.XL)(u.responseStart),a=s+(0,iu.XL)(u.requestStart);break;case"mark":case"paint":case"measure":var d=function(e,t,n,r,i){var o=i+n,a=o+r;return yu(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}(e,u,l,c,s);void 0===i&&"sentry-tracing-init"===u.name&&(i=d);var h=fu(),f=u.startTime<h.firstHiddenTime;"first-paint"===u.name&&f&&(ma.k.log("[Measurements] Adding FP"),t._measurements.fp={value:u.startTime},t._measurements["mark.fp"]={value:d}),"first-contentful-paint"===u.name&&f&&(ma.k.log("[Measurements] Adding FCP"),t._measurements.fcp={value:u.startTime},t._measurements["mark.fcp"]={value:d});break;case"resource":var p=u.name.replace(mu.location.origin,""),m=function(e,t,n,r,i,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r,u=s+i;return yu(e,{description:n,endTimestamp:u,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),u}}(e,u,p,l,c,s);void 0===r&&(n||"").indexOf(p)>-1&&(r=m)}})),void 0!==r&&void 0!==i&&yu(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var l=(0,iu.XL)(Wa.Z1);"number"==typeof o&&(ma.k.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(o-e.startTimestamp)},"number"==typeof a&&a<=o&&(this._measurements["ttfb.requestTime"]={value:1e3*(o-a)})),["fcp","fp","lcp"].forEach((function(n){if(t._measurements[n]&&!(l>=e.startTimestamp)){var r=t._measurements[n].value,i=l+(0,iu.XL)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;ma.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),t._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&yu(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,iu.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),this._tagMetricInfo(e),e.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},e.prototype._tagMetricInfo=function(e){this._lcpEntry&&(ma.k.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",(0,Bs.R)(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(ma.k.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach((function(t,n){return e.setTag("cls.source."+(n+1),(0,Bs.R)(t.node))})))},e.prototype._trackCLS=function(){var e,t,n,r,i,o,a,s=this;e=function(e){var t=e.entries.pop();t&&(ma.k.log("[Measurements] Adding CLS"),s._measurements.cls={value:e.value},s._clsEntry=t)},n=lu("CLS",0),r=0,i=[],(a=cu("layout-shift",o=function(e){if(e&&!e.hadRecentInput){var o=i[0],a=i[i.length-1];r&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>n.value&&(n.value=r,n.entries=i,t&&t())}}))&&(t=uu(e,n,undefined),du((function(){a.takeRecords().map(o),t(!0)})))},e.prototype._trackNavigator=function(e){var t=mu.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),_u(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),_u(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),_u(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),_u(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;!function(t,n){var r,i=fu(),o=lu("LCP"),a=function(e){var t=e.startTime;t<i.firstHiddenTime&&(o.value=t,o.entries.push(e)),r&&r()},s=cu("largest-contentful-paint",a);if(s){r=uu((function(t){var n=t.entries.pop();if(n){var r=(0,iu.XL)(Wa.Z1),i=(0,iu.XL)(n.startTime);ma.k.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i},e._lcpEntry=n}}),o,n);var u=function(){pu[o.id]||(s.takeRecords().map(a),s.disconnect(),pu[o.id]=!0,r(!0))};["keydown","click"].forEach((function(e){addEventListener(e,u,{once:!0,capture:!0})})),du(u,!0)}}(0,this._reportAllChanges)},e.prototype._trackFID=function(){var e,t,n,r,i,o,a=this;e=function(e){var t=e.entries.pop();if(t){var n=(0,iu.XL)(Wa.Z1),r=(0,iu.XL)(t.startTime);ma.k.log("[Measurements] Adding FID"),a._measurements.fid={value:e.value},a._measurements["mark.fid"]={value:n+r}}},n=fu(),r=lu("FID"),(o=cu("first-input",i=function(e){t&&e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),t(!0))}))&&(t=uu(e,r,undefined),du((function(){o.takeRecords().map(i),o.disconnect()}),!0))},e}();function gu(e){var t=e.transaction,n=e.entry,r=e.event,i=e.timeOrigin,o=e.eventEnd,a=e.description,s=o?n[o]:n[r+"End"],u=n[r+"Start"];u&&s&&yu(t,{op:"browser",description:null!=a?a:r,startTimestamp:i+(0,iu.XL)(u),endTimestamp:i+(0,iu.XL)(s)})}function yu(e,t){var n=t.startTimestamp,r=(0,tu._T)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,tu.pi)({startTimestamp:n},r))}function _u(e){return"number"==typeof e&&isFinite(e)}var bu={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var wu=(0,xa.R)(),Eu=(0,tu.pi)({idleTimeout:nu.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),wu&&wu.location){var r,i=wu.location.href;t&&(r=e({name:wu.location.pathname,op:"pageload"})),n&&(0,Ca.o)({callback:function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(ma.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:wu.location.pathname,op:"navigation"}))},type:"history"})}else ma.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},bu),Su=function(){function e(t){this.name=e.id,this._emitOptionsWarning=!1,this._configuredIdleTimeout=void 0;var n=bu.tracingOrigins;t&&(this._configuredIdleTimeout=t.idleTimeout,t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0),this.options=(0,tu.pi)((0,tu.pi)((0,tu.pi)({},Eu),t),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new vu(r&&r._reportAllChanges)}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(ma.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ma.k.warn("[Tracing] We added a reasonable default for you: "+bu.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,l=r.traceXHR,c=r.tracingOrigins,d=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),a,o),s&&(au&&au.document?au.document.addEventListener("visibilitychange",(function(){var e=(0,iu.x1)();au.document.hidden&&e&&(ma.k.log("[Tracing] Transaction: "+ru.p.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(ru.p.Cancelled),e.setTag("visibilitychange","document.hidden"),e.setTag(ou.d,ou.x[2]),e.finish())})):ma.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(e){var t=(0,tu.pi)((0,tu.pi)({},bu),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,a={},s=function(e){if(a[e])return a[e];var t=i;return a[e]=t.some((function(t){return(0,Ea.zC)(e,t)}))&&!(0,Ea.zC)(e,"sentry_key"),a[e]},u=s;"function"==typeof o&&(u=function(e){return s(e)&&o(e)});var l={};n&&(0,Ca.o)({callback:function(e){!function(e,t,n){if((0,iu.zu)()&&e.fetchData&&t(e.fetchData.url))if(e.endTimestamp&&e.fetchData.__span)(i=n[e.fetchData.__span])&&(e.response?i.setHttpStatus(e.response.status):e.error&&i.setStatus(ru.p.InternalError),i.finish(),delete n[e.fetchData.__span]);else{var r=(0,iu.x1)();if(r){var i=r.startChild({data:(0,tu.pi)((0,tu.pi)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http.client"});e.fetchData.__span=i.spanId,n[i.spanId]=i;var o=e.args[0]=e.args[0],a=e.args[1]=e.args[1]||{},s=a.headers;(0,Ba.V9)(o,Request)&&(s=o.headers),s?"function"==typeof s.append?s.append("sentry-trace",i.toTraceparent()):s=Array.isArray(s)?(0,tu.fl)(s,[["sentry-trace",i.toTraceparent()]]):(0,tu.pi)((0,tu.pi)({},s),{"sentry-trace":i.toTraceparent()}):s={"sentry-trace":i.toTraceparent()},a.headers=s}}}(e,u,l)},type:"fetch"}),r&&(0,Ca.o)({callback:function(e){!function(e,t,n){var r,i;if((0,iu.zu)()&&!(null===(r=e.xhr)||void 0===r?void 0:r.__sentry_own_request__)&&(null===(i=e.xhr)||void 0===i?void 0:i.__sentry_xhr__)&&t(e.xhr.__sentry_xhr__.url)){var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)(s=n[e.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[e.xhr.__sentry_xhr_span_id__]);else{var a=(0,iu.x1)();if(a){var s=a.startChild({data:(0,tu.pi)((0,tu.pi)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=s.spanId,n[e.xhr.__sentry_xhr_span_id__]=s,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(e){}}}}}(e,u,l)},type:"xhr"})}({traceFetch:u,traceXHR:l,tracingOrigins:c,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===e.op?function(){var e,t=("sentry-trace",(e=(0,xa.R)().document.querySelector("meta[name=sentry-trace]"))?e.getAttribute("content"):null);if(t)return(0,iu.qG)(t)}():void 0,s=(0,tu.pi)((0,tu.pi)((0,tu.pi)({},e),a),{trimEnd:!0}),u="function"==typeof r?r(s):s,l=void 0===u?(0,tu.pi)((0,tu.pi)({},s),{sampled:!1}):u;!1===l.sampled&&ma.k.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),ma.k.log("[Tracing] Starting "+l.op+" transaction on scope");var c=this._getCurrentHub(),d=(0,xa.R)().location,h=(0,eu.lb)(c,l,i,!0,{location:d});return h.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus(ru.p.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}((0,iu.WB)(o),e,n)})),h.setTag("idleTimeout",this._configuredIdleTimeout),h}ma.k.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();function ku(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ou(e,t,n){return t&&Iu(e.prototype,t),n&&Iu(e,n),e}function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,eu.ro)();var Pu,Au={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},Du=r.createContext();function Lu(){return Au}var Mu=function(){function e(){Cu(this,e),this.usedNamespaces={}}return Ou(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Fu(){return Pu}var ju={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Au=Nu(Nu({},Au),e)}(e.options.react),function(e){Pu=e}(e)}};function Vu(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Uu={};function qu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&Uu[t[0]]||("string"==typeof t[0]&&(Uu[t[0]]=new Date),Vu.apply(void 0,t))}function Bu(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return qu("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!a(r,e)||i&&!a(o,e)))}function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,r.useContext)(Du)||{},o=i.i18n,a=i.defaultNS,s=n||o||Fu();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Mu),!s){qu("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}s.options.react&&void 0!==s.options.react.wait&&qu("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=Hu(Hu(Hu({},Lu()),s.options.react),t),d=c.useSuspense,h=c.keyPrefix,f=e||a||s.options&&s.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var p=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return zu(e,s,c)}));function m(){return s.getFixedT(null,"fallback"===c.nsMode?f:f[0],h)}var v=(0,r.useState)(m),g=Tu(v,2),y=g[0],_=g[1],b=(0,r.useRef)(!0);(0,r.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){b.current&&_(m)}return b.current=!0,p||d||Bu(s,f,(function(){b.current&&_(m)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){b.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,f.join()]);var w=(0,r.useRef)(!0);(0,r.useEffect)((function(){b.current&&!w.current&&_(m),w.current=!1}),[s]);var E=[y,s,p];if(E.t=y,E.i18n=s,E.ready=p,p)return E;if(!p&&!d)return E;throw new Promise((function(e){Bu(s,f,(function(){e()}))}))}const Qu=function(e,t){if(!e)throw Ku(t)},Ku=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Gu=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,u=s?e[t+2]:0,l=i>>2,c=(3&i)<<4|a>>4;let d=(15&a)<<2|u>>6,h=63&u;s||(h=64,o||(d=64)),r.push(n[l],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gu(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw Error();const u=i<<2|o>>4;if(r.push(u),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ju=function(e){try{return Yu.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xu(e){return Zu(void 0,e)}function Zu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Zu(e[n],t[n]));return e}class el{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function tl(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nl(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tl())}function rl(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function il(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class ol extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,al.prototype.create)}}class al{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(sl,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ol(r,a,n)}}const sl=/\{\$([^}]+)}/g;function ul(e){return JSON.parse(e)}function ll(e){return JSON.stringify(e)}const cl=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ul(Ju(o[0])||""),n=ul(Ju(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function dl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hl(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function fl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function pl(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ml(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(vl(n)&&vl(o)){if(!ml(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function vl(e){return null!==e&&"object"==typeof e}function gl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yl(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function _l(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class bl{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=u^a&(s^u),i=1518500249):(r=a^s^u,i=1859775393):e<60?(r=a&s|u&(a|s),i=2400959708):(r=a^s^u,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[e]&4294967295;l=u,u=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class wl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=El),void 0===r.error&&(r.error=El),void 0===r.complete&&(r.complete=El);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function El(){}function Sl(e,t){return`${e} failed: ${t} argument `}const kl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Tl(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function xl(e){return e&&e._delegate?e._delegate:e}class Cl{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Il="[DEFAULT]";class Ol{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new el;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Il?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ol(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Nl=[];var Pl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pl||(Pl={}));const Al={debug:Pl.DEBUG,verbose:Pl.VERBOSE,info:Pl.INFO,warn:Pl.WARN,error:Pl.ERROR,silent:Pl.SILENT},Dl=Pl.INFO,Ll={[Pl.DEBUG]:"log",[Pl.VERBOSE]:"log",[Pl.INFO]:"info",[Pl.WARN]:"warn",[Pl.ERROR]:"error"},Ml=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Ll[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Fl{constructor(e){this.name=e,this._logLevel=Dl,this._logHandler=Ml,this._userLogHandler=null,Nl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pl))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Al[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pl.DEBUG,...e),this._logHandler(this,Pl.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pl.VERBOSE,...e),this._logHandler(this,Pl.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pl.INFO,...e),this._logHandler(this,Pl.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pl.WARN,...e),this._logHandler(this,Pl.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pl.ERROR,...e),this._logHandler(this,Pl.ERROR,...e)}}class jl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Vl="@firebase/app",Ul="0.7.11",ql=new Fl("@firebase/app"),Bl={[Vl]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zl=new Map,Wl=new Map;function Hl(e,t){try{e.container.addComponent(t)}catch(n){ql.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $l(e){const t=e.name;if(Wl.has(t))return ql.debug(`There were multiple attempts to register component ${t}.`),!1;Wl.set(t,e);for(const t of zl.values())Hl(t,e);return!0}function Ql(e,t){return e.container.getProvider(t)}const Kl=new al("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Gl{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cl("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}const Yl="9.6.1";function Jl(e="[DEFAULT]"){const t=zl.get(e);if(!t)throw Kl.create("no-app",{appName:e});return t}function Xl(e,t,n){var r;let i=null!==(r=Bl[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ql.warn(e.join(" "))}$l(new Cl(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}$l(new Cl("platform-logger",(e=>new jl(e)),"PRIVATE")),Xl(Vl,Ul,""),Xl(Vl,Ul,"esm2017"),Xl("fire-js","");const Zl="@firebase/database",ec="0.12.4";let tc="";class nc{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ll(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ul(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rc{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return dl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ic=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nc(t)}}catch(e){}return new rc},oc=ic("localStorage"),ac=ic("sessionStorage"),sc=new Fl("@firebase/database"),uc=function(){let e=1;return function(){return e++}}(),lc=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Qu(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new bl;n.update(t);const r=n.digest();return Yu.encodeByteArray(r)},cc=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=cc.apply(null,r):t+="object"==typeof r?ll(r):r,t+=" "}return t};let dc=null,hc=!0;const fc=function(...e){if(!0===hc&&(hc=!1,null===dc&&!0===ac.get("logging_enabled")&&(t=!0,Qu(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(sc.logLevel=Pl.VERBOSE,dc=sc.log.bind(sc),n&&ac.set("logging_enabled",!0)):"function"==typeof t?dc=t:(dc=null,ac.remove("logging_enabled")))),dc){const t=cc.apply(null,e);dc(t)}var t,n},pc=function(e){return function(...t){fc(e,...t)}},mc=function(...e){const t="FIREBASE INTERNAL ERROR: "+cc(...e);sc.error(t)},vc=function(...e){const t=`FIREBASE FATAL ERROR: ${cc(...e)}`;throw sc.error(t),new Error(t)},gc=function(...e){const t="FIREBASE WARNING: "+cc(...e);sc.warn(t)},yc=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_c="[MIN_NAME]",bc="[MAX_NAME]",wc=function(e,t){if(e===t)return 0;if(e===_c||t===bc)return-1;if(t===_c||e===bc)return 1;{const n=Oc(e),r=Oc(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Ec=function(e,t){return e===t?0:e<t?-1:1},Sc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ll(t))},kc=function(e){if("object"!=typeof e||null===e)return ll(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ll(t[r]),n+=":",n+=kc(e[t[r]]);return n+="}",n},Tc=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function xc(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Cc=function(e){Qu(!yc(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let u="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()},Ic=new RegExp("^-?(0*)\\d{1,10}$"),Oc=function(e){if(Ic.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Rc=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw gc("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Nc=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class Pc{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){gc(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ac{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(fc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gc(e)}}class Dc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Dc.OWNER="owner";const Lc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mc="websocket",Fc="long_polling";class jc{constructor(e,t,n,r,i=!1,o="",a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&oc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Vc(e,t,n){let r;if(Qu("string"==typeof t,"typeof type must == string"),Qu("object"==typeof n,"typeof params must == object"),t===Mc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Fc)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return xc(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Uc{constructor(){this.counters_={}}incrementCounter(e,t=1){dl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Xu(this.counters_)}}const qc={},Bc={};function zc(e){const t=e.toString();return qc[t]||(qc[t]=new Uc),qc[t]}class Wc{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Rc((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Hc{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pc(e),this.stats_=zc(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),Vc(t,Fc,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Wc(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new $c(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Lc.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hc.forceAllow_=!0}static forceDisallow(){Hc.forceDisallow_=!0}static isAvailable(){return!(!Hc.forceAllow_&&(Hc.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ll(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=function(e){const t=Gu(e);return Yu.encodeByteArray(t,!0)}(t),r=Tc(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ll(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class $c{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=$c.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){fc("frame writing exception"),e.stack&&fc(e.stack),fc(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fc("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{fc("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Qc=null;"undefined"!=typeof MozWebSocket?Qc=MozWebSocket:"undefined"!=typeof WebSocket&&(Qc=WebSocket);class Kc{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pc(this.connId),this.stats_=zc(t),this.connURL=Kc.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Lc.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Vc(e,Mc,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oc.set("previous_websocket_failure",!0);try{{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Qc(this.connURL,[],e)}}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Kc.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Qc&&!Kc.forceDisallow_}static previouslyFailed(){return oc.isInMemoryStorage||!0===oc.get("previous_websocket_failure")}markConnectionHealthy(){oc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ul(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Qu(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ll(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Tc(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kc.responsesRequiredToBeHealthy=2,Kc.healthyTimeout=3e4;class Gc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Hc,Kc]}initTransports_(e){const t=Kc&&Kc.isAvailable();let n=t&&!Kc.previouslyFailed();if(e.webSocketOnly&&(t||gc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Kc];else{const e=this.transports_=[];for(const t of Gc.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Yc{constructor(e,t,n,r,i,o,a,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pc("c:"+this.id+":"),this.transportManager_=new Gc(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Nc((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Sc("t",e),n=Sc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Sc("t",e),n=Sc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Sc("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?mc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mc("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&gc("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Nc((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nc((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jc{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Xc{constructor(e){this.allowedEvents_=e,this.listeners_={},Qu(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){Qu(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Zc extends Xc{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||nl()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Zc}getInitialEvent(e){return Qu("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ed{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function td(){return new ed("")}function nd(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function rd(e){return e.pieces_.length-e.pieceNum_}function id(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ed(e.pieces_,t)}function od(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ad(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function sd(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ed(t,0)}function ud(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof ed)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ed(n,0)}function ld(e){return e.pieceNum_>=e.pieces_.length}function cd(e,t){const n=nd(e),r=nd(t);if(null===n)return t;if(n===r)return cd(id(e),id(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function dd(e,t){const n=ad(e,0),r=ad(t,0);for(let e=0;e<n.length&&e<r.length;e++){const t=wc(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function hd(e,t){if(rd(e)!==rd(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function fd(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(rd(e)>rd(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class pd{constructor(e,t){this.errorPrefix_=t,this.parts_=ad(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=kl(this.parts_[e]);md(this)}}function md(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vd(e))}function vd(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class gd extends Xc{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new gd}getInitialEvent(e){return Qu("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yd=1e3;class _d extends Jc{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=_d.nextPersistentConnectionId_++,this.log_=pc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gd.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Zc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(ll(i)),Qu(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new el,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Qu(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Qu(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;_d.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&dl(e,"w")){const n=hl(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();gc(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=cl(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=cl(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Qu(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ll(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):mc("Unrecognized action received from server: "+ll(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Qu(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+_d.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},u=function(e){Qu(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:u};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?fc("getToken() completed but was canceled"):(fc("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=u&&u.token,a=new Yc(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{gc(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&gc(e),s())}}}interrupt(e){fc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],fl(this.interruptReasons_)&&(this.reconnectDelay_=yd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>kc(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ed(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){fc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){fc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+tc.replace(/\./g,"-")]=1,nl()?e["framework.cordova"]=1:il()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zc.getInstance().currentlyOnline();return fl(this.interruptReasons_)&&e}}_d.nextPersistentConnectionId_=0,_d.nextConnectionId_=0;class bd{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new bd(e,t)}}class wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new bd(_c,e),r=new bd(_c,t);return 0!==this.compare(n,r)}minPost(){return bd.MIN}}let Ed;class Sd extends wd{static get __EMPTY_NODE(){return Ed}static set __EMPTY_NODE(e){Ed=e}compare(e,t){return wc(e.name,t.name)}isDefinedOn(e){throw Ku("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return bd.MIN}maxPost(){return new bd(bc,Ed)}makePost(e,t){return Qu("string"==typeof e,"KeyIndex indexValue must always be a string."),new bd(e,Ed)}toString(){return".key"}}const kd=new Sd;class Td{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xd.RED,this.left=null!=r?r:Cd.EMPTY_NODE,this.right=null!=i?i:Cd.EMPTY_NODE}copy(e,t,n,r,i){return new xd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cd.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Cd.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xd.RED=!0,xd.BLACK=!1;class Cd{constructor(e,t=Cd.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Cd(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xd.BLACK,null,null))}remove(e){return new Cd(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xd.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Td(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Td(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Td(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Td(this.root_,null,this.comparator_,!0,e)}}function Id(e,t){return wc(e.name,t.name)}function Od(e,t){return wc(e,t)}let Rd;Cd.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new xd(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Nd=function(e){return"number"==typeof e?"number:"+Cc(e):"string:"+e},Pd=function(e){if(e.isLeafNode()){const t=e.val();Qu("string"==typeof t||"number"==typeof t||"object"==typeof t&&dl(t,".sv"),"Priority must be a string or number.")}else Qu(e===Rd||e.isEmpty(),"priority of unexpected type.");Qu(e===Rd||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ad,Dd,Ld;class Md{constructor(e,t=Md.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Qu(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Pd(this.priorityNode_)}static set __childrenNodeConstructor(e){Ad=e}static get __childrenNodeConstructor(){return Ad}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Md(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Md.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ld(e)?this:".priority"===nd(e)?this.priorityNode_:Md.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Md.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=nd(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Qu(".priority"!==n||1===rd(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Md.__childrenNodeConstructor.EMPTY_NODE.updateChild(id(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nd(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Cc(this.value_):this.value_,this.lazyHash_=lc(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Md.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Md.__childrenNodeConstructor?-1:(Qu(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Md.VALUE_TYPE_ORDER.indexOf(t),i=Md.VALUE_TYPE_ORDER.indexOf(n);return Qu(r>=0,"Unknown leaf type: "+t),Qu(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Md.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Fd=new class extends wd{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?wc(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return bd.MIN}maxPost(){return new bd(bc,new Md("[PRIORITY-POST]",Ld))}makePost(e,t){const n=Dd(e);return new bd(t,new Md("[PRIORITY-POST]",n))}toString(){return".priority"}},jd=Math.log(2);class Vd{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/jd,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ud=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new xd(s,a.node,xd.BLACK,null,null);{const u=parseInt(o/2,10)+t,l=i(t,u),c=i(u+1,r);return a=e[u],s=n?n(a):a,new xd(s,a.node,xd.BLACK,l,c)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const l=i(o+1,s),c=e[o],d=n?n(c):c;u(new xd(d,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,xd.BLACK):(s(r,xd.BLACK),s(r,xd.RED))}return o}(new Vd(e.length));return new Cd(r||t,o)};let qd;const Bd={};class zd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Qu(Bd&&Fd,"ChildrenNode.ts has not been loaded"),qd=qd||new zd({".priority":Bd},{".priority":Fd}),qd}get(e){const t=hl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Cd?t:null}hasIndex(e){return dl(this.indexSet_,e.toString())}addIndex(e,t){Qu(e!==kd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(bd.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Ud(n,e.getCompare()):Bd;const s=e.toString(),u=Object.assign({},this.indexSet_);u[s]=e;const l=Object.assign({},this.indexes_);return l[s]=o,new zd(l,u)}addToIndexes(e,t){const n=pl(this.indexes_,((n,r)=>{const i=hl(this.indexSet_,r);if(Qu(i,"Missing index implementation for "+r),n===Bd){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(bd.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Ud(n,i.getCompare())}return Bd}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new bd(e.name,r))),i.insert(e,e.node)}}));return new zd(n,this.indexSet_)}removeFromIndexes(e,t){const n=pl(this.indexes_,(n=>{if(n===Bd)return n;{const r=t.get(e.name);return r?n.remove(new bd(e.name,r)):n}}));return new zd(n,this.indexSet_)}}let Wd;class Hd{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Pd(this.priorityNode_),this.children_.isEmpty()&&Qu(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wd||(Wd=new Hd(new Cd(Od),null,zd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wd}updatePriority(e){return this.children_.isEmpty()?this:new Hd(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Wd:t}}getChild(e){const t=nd(e);return null===t?this:this.getImmediateChild(t).getChild(id(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Qu(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new bd(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Wd:this.priorityNode_;return new Hd(r,o,i)}}updateChild(e,t){const n=nd(e);if(null===n)return t;{Qu(".priority"!==nd(e)||1===rd(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(id(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Fd,((o,a)=>{t[o]=a.val(e),n++,i&&Hd.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Nd(this.getPriority().val())+":"),this.forEachChild(Fd,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":lc(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new bd(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new bd(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new bd(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,bd.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,bd.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$d?-1:0}withIndex(e){if(e===kd||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Hd(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===kd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Fd),n=t.getIterator(Fd);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===kd?null:this.indexMap_.get(e.toString())}}Hd.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const $d=new class extends Hd{constructor(){super(new Cd(Od),Hd.EMPTY_NODE,zd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Hd.EMPTY_NODE}isEmpty(){return!1}};function Qd(e,t=null){if(null===e)return Hd.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Qu(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Md(e,Qd(t));if(e instanceof Array){let n=Hd.EMPTY_NODE;return xc(e,((t,r)=>{if(dl(e,t)&&"."!==t.substring(0,1)){const e=Qd(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Qd(t))}{const n=[];let r=!1;if(xc(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Qd(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new bd(e,i)))}})),0===n.length)return Hd.EMPTY_NODE;const i=Ud(n,Id,(e=>e.name),Od);if(r){const e=Ud(n,Fd.getCompare());return new Hd(i,Qd(t),new zd({".priority":e},{".priority":Fd}))}return new Hd(i,Qd(t),zd.Default)}}Object.defineProperties(bd,{MIN:{value:new bd(_c,Hd.EMPTY_NODE)},MAX:{value:new bd(bc,$d)}}),Sd.__EMPTY_NODE=Hd.EMPTY_NODE,Md.__childrenNodeConstructor=Hd,Rd=$d,Ld=$d,function(e){Dd=e}(Qd);class Kd extends wd{constructor(e){super(),this.indexPath_=e,Qu(!ld(e)&&".priority"!==nd(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?wc(e.name,t.name):i}makePost(e,t){const n=Qd(e),r=Hd.EMPTY_NODE.updateChild(this.indexPath_,n);return new bd(t,r)}maxPost(){const e=Hd.EMPTY_NODE.updateChild(this.indexPath_,$d);return new bd(bc,e)}toString(){return ad(this.indexPath_,0).join("/")}}const Gd=new class extends wd{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?wc(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return bd.MIN}maxPost(){return bd.MAX}makePost(e,t){const n=Qd(e);return new bd(t,n)}toString(){return".value"}};function Yd(e){return{type:"value",snapshotNode:e}}function Jd(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xd(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Zd(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class eh{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Qu(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Xd(t,a)):Qu(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Jd(t,n)):o.trackChildChange(Zd(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Fd,((e,r)=>{t.hasChild(e)||n.trackChildChange(Xd(e,r))})),t.isLeafNode()||t.forEachChild(Fd,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Zd(t,r,i))}else n.trackChildChange(Jd(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Hd.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class th{constructor(e){this.indexedFilter_=new eh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=th.getStartPost_(e),this.endPost_=th.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new bd(t,n))||(n=Hd.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Hd.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Hd.EMPTY_NODE);const i=this;return t.forEachChild(Fd,((e,t)=>{i.matches(new bd(e,t))||(r=r.updateImmediateChild(e,Hd.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nh{constructor(e){this.rangedFilter_=new th(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new bd(t,n))||(n=Hd.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Hd.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Hd.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(Hd.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let a=0,s=!1;for(;o.hasNext();){const t=o.getNext();!s&&i(e,t)<=0&&(s=!0),s&&a<this.limit_&&i(t,n)<=0?a++:r=r.updateImmediateChild(t.name,Hd.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;Qu(a.numChildren()===this.limit_,"");const s=new bd(t,n),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=c&&(c.name===t||a.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Zd(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Xd(t,e));const n=a.updateImmediateChild(t,Hd.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(Jd(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l&&o(u,s)>=0?(null!=i&&(i.trackChildChange(Xd(u.name,u.node)),i.trackChildChange(Jd(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(u.name,Hd.EMPTY_NODE)):e}}class rh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fd}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Qu(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Qu(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_c}hasEnd(){return this.endSet_}getIndexEndValue(){return Qu(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Qu(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Qu(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fd}copy(){const e=new rh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ih(e){const t={};if(e.isDefault())return t;let n;return e.index_===Fd?n="$priority":e.index_===Gd?n="$value":e.index_===kd?n="$key":(Qu(e.index_ instanceof Kd,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ll(n),e.startSet_&&(t.startAt=ll(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+ll(e.indexStartName_))),e.endSet_&&(t.endAt=ll(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+ll(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function oh(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Fd&&(t.i=e.index_.toString()),t}class ah extends Jc{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=pc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Qu(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ah.getListenId_(e,n),a={};this.listens_[o]=a;const s=ih(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),hl(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ah.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ih(e._queryParams),n=e._path.toString(),r=new el;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gl(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=ul(a.responseText)}catch(e){gc("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&gc("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class sh{constructor(){this.rootNode_=Hd.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function uh(){return{value:null,children:new Map}}function lh(e,t,n){if(ld(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=nd(t);e.children.has(r)||e.children.set(r,uh()),lh(e.children.get(r),t=id(t),n)}}function ch(e,t){if(ld(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(Fd,((t,n)=>{lh(e,new ed(t),n)})),ch(e,t)}}if(e.children.size>0){const n=nd(t);return t=id(t),e.children.has(n)&&ch(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function dh(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{dh(r,new ed(t.toString()+"/"+e),n)}))}class hh{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&xc(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class fh{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hh(e);const n=1e4+2e4*Math.random();Nc(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;xc(e,((e,r)=>{r>0&&dl(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Nc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ph;function mh(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ph||(ph={}));class vh{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ph.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ld(this.path)){if(null!=this.affectedTree.value)return Qu(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ed(e));return new vh(td(),t,this.revert)}}return Qu(nd(this.path)===e,"operationForChild called for unrelated child."),new vh(id(this.path),this.affectedTree,this.revert)}}class gh{constructor(e,t){this.source=e,this.path=t,this.type=ph.LISTEN_COMPLETE}operationForChild(e){return ld(this.path)?new gh(this.source,td()):new gh(this.source,id(this.path))}}class yh{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ph.OVERWRITE}operationForChild(e){return ld(this.path)?new yh(this.source,td(),this.snap.getImmediateChild(e)):new yh(this.source,id(this.path),this.snap)}}class _h{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ph.MERGE}operationForChild(e){if(ld(this.path)){const t=this.children.subtree(new ed(e));return t.isEmpty()?null:t.value?new yh(this.source,td(),t.value):new _h(this.source,td(),t)}return Qu(nd(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _h(this.source,id(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class bh{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ld(e))return this.isFullyInitialized()&&!this.filtered_;const t=nd(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class wh{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Eh(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ku("Should only compare child_ events.");const r=new bd(t.childName,t.snapshotNode),i=new bd(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Sh(e,t){return{eventCache:e,serverCache:t}}function kh(e,t,n,r){return Sh(new bh(t,n,r),e.serverCache)}function Th(e,t,n,r){return Sh(e.eventCache,new bh(t,n,r))}function xh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ch(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ih;class Oh{constructor(e,t=(()=>(Ih||(Ih=new Cd(Ec)),Ih))()){this.value=e,this.children=t}static fromObject(e){let t=new Oh(null);return xc(e,((e,n)=>{t=t.set(new ed(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:td(),value:this.value};if(ld(e))return null;{const n=nd(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(id(e),t);return null!=i?{path:ud(new ed(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ld(e))return this;{const t=nd(e),n=this.children.get(t);return null!==n?n.subtree(id(e)):new Oh(null)}}set(e,t){if(ld(e))return new Oh(t,this.children);{const n=nd(e),r=(this.children.get(n)||new Oh(null)).set(id(e),t),i=this.children.insert(n,r);return new Oh(this.value,i)}}remove(e){if(ld(e))return this.children.isEmpty()?new Oh(null):new Oh(null,this.children);{const t=nd(e),n=this.children.get(t);if(n){const r=n.remove(id(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Oh(null):new Oh(this.value,i)}return this}}get(e){if(ld(e))return this.value;{const t=nd(e),n=this.children.get(t);return n?n.get(id(e)):null}}setTree(e,t){if(ld(e))return t;{const n=nd(e),r=(this.children.get(n)||new Oh(null)).setTree(id(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Oh(this.value,i)}}fold(e){return this.fold_(td(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(ud(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,td(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ld(e))return null;{const r=nd(e),i=this.children.get(r);return i?i.findOnPath_(id(e),ud(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,td(),t)}foreachOnPath_(e,t,n){if(ld(e))return this;{this.value&&n(t,this.value);const r=nd(e),i=this.children.get(r);return i?i.foreachOnPath_(id(e),ud(t,r),n):new Oh(null)}}foreach(e){this.foreach_(td(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(ud(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Rh{constructor(e){this.writeTree_=e}static empty(){return new Rh(new Oh(null))}}function Nh(e,t,n){if(ld(t))return new Rh(new Oh(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=cd(i,t);return o=o.updateChild(a,n),new Rh(e.writeTree_.set(i,o))}{const r=new Oh(n),i=e.writeTree_.setTree(t,r);return new Rh(i)}}}function Ph(e,t,n){let r=e;return xc(n,((e,n)=>{r=Nh(r,ud(t,e),n)})),r}function Ah(e,t){if(ld(t))return Rh.empty();{const n=e.writeTree_.setTree(t,new Oh(null));return new Rh(n)}}function Dh(e,t){return null!=Lh(e,t)}function Lh(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(cd(n.path,t)):null}function Mh(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Fd,((e,n)=>{t.push(new bd(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new bd(e,n.value))})),t}function Fh(e,t){if(ld(t))return e;{const n=Lh(e,t);return new Rh(null!=n?new Oh(n):e.writeTree_.subtree(t))}}function jh(e){return e.writeTree_.isEmpty()}function Vh(e,t){return Uh(td(),e.writeTree_,t)}function Uh(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Qu(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Uh(ud(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ud(e,".priority"),r)),n}}function qh(e,t){return Xh(t,e)}function Bh(e,t){if(e.snap)return fd(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&fd(ud(e.path,n),t))return!0;return!1}function zh(e){return e.visible}function Wh(e,t,n){let r=Rh.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)fd(n,e)?(t=cd(n,e),r=Nh(r,t,o.snap)):fd(e,n)&&(t=cd(e,n),r=Nh(r,td(),o.snap.getChild(t)));else{if(!o.children)throw Ku("WriteRecord should have .snap or .children");if(fd(n,e))t=cd(n,e),r=Ph(r,t,o.children);else if(fd(e,n))if(t=cd(e,n),ld(t))r=Ph(r,td(),o.children);else{const e=hl(o.children,nd(t));if(e){const n=e.getChild(id(t));r=Nh(r,td(),n)}}}}}return r}function Hh(e,t,n,r,i){if(r||i){const o=Fh(e.visibleWrites,t);if(!i&&jh(o))return n;if(i||null!=n||Dh(o,td())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(fd(e.path,t)||fd(t,e.path))};return Vh(Wh(e.allWrites,o,t),n||Hd.EMPTY_NODE)}return null}{const r=Lh(e.visibleWrites,t);if(null!=r)return r;{const r=Fh(e.visibleWrites,t);return jh(r)?n:null!=n||Dh(r,td())?Vh(r,n||Hd.EMPTY_NODE):null}}}function $h(e,t,n,r){return Hh(e.writeTree,e.treePath,t,n,r)}function Qh(e,t){return function(e,t,n){let r=Hd.EMPTY_NODE;const i=Lh(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Fd,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Fh(e.visibleWrites,t);return n.forEachChild(Fd,((e,t)=>{const n=Vh(Fh(i,new ed(e)),t);r=r.updateImmediateChild(e,n)})),Mh(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Mh(Fh(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Kh(e,t,n,r){return function(e,t,n,r,i){Qu(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ud(t,n);if(Dh(e.visibleWrites,o))return null;{const t=Fh(e.visibleWrites,o);return jh(t)?i.getChild(n):Vh(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Gh(e,t){return function(e,t){return Lh(e.visibleWrites,t)}(e.writeTree,ud(e.treePath,t))}function Yh(e,t,n){return function(e,t,n,r){const i=ud(t,n),o=Lh(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Vh(Fh(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Jh(e,t){return Xh(ud(e.treePath,t),e.writeTree)}function Xh(e,t){return{treePath:e,writeTree:t}}class Zh{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Qu("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Qu(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Zd(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Xd(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Jd(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ku("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Zd(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ef=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class tf{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new bh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yh(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ch(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const u=Fh(e.visibleWrites,t),l=Lh(u,td());if(null!=l)s=l;else{if(null==n)return[];s=Vh(u,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let u=n.getNext();for(;u&&e.length<i;)0!==t(u,r)&&e.push(u),u=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function nf(e,t,n,r,i,o){const a=t.eventCache;if(null!=Gh(r,n))return t;{let s,u;if(ld(n))if(Qu(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ch(t),i=Qh(r,n instanceof Hd?n:Hd.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=$h(r,Ch(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=nd(n);if(".priority"===l){Qu(1===rd(n),"Can't have a priority with additional path components");const i=a.getNode();u=t.serverCache.getNode();const o=Kh(r,n,i,u);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const c=id(n);let d;if(a.isCompleteForChild(l)){u=t.serverCache.getNode();const e=Kh(r,n,a.getNode(),u);d=null!=e?a.getNode().getImmediateChild(l).updateChild(c,e):a.getNode().getImmediateChild(l)}else d=Yh(r,l,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),l,d,c,i,o):a.getNode()}}return kh(t,s,a.isFullyInitialized()||ld(n),e.filter.filtersNodes())}}function rf(e,t,n,r,i,o,a,s){const u=t.serverCache;let l;const c=a?e.filter:e.filter.getIndexedFilter();if(ld(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){const e=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),e,null)}else{const e=nd(n);if(!u.isCompleteForPath(n)&&rd(n)>1)return t;const i=id(n),o=u.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?c.updatePriority(u.getNode(),o):c.updateChild(u.getNode(),e,o,i,ef,null)}const d=Th(t,l,u.isFullyInitialized()||ld(n),c.filtersNodes());return nf(e,d,n,i,new tf(i,d,o),s)}function of(e,t,n,r,i,o,a){const s=t.eventCache;let u,l;const c=new tf(i,t,o);if(ld(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),u=kh(t,l,!0,e.filter.filtersNodes());else{const i=nd(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),u=kh(t,l,s.isFullyInitialized(),s.isFiltered());else{const o=id(n),l=s.getNode().getImmediateChild(i);let d;if(ld(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===od(o)&&e.getChild(sd(o)).isEmpty()?e:e.updateChild(o,r):Hd.EMPTY_NODE}u=l.equals(d)?t:kh(t,e.filter.updateChild(s.getNode(),i,d,o,c,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return u}function af(e,t){return e.eventCache.isCompleteForChild(t)}function sf(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function uf(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,l=t;u=ld(n)?r:new Oh(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const u=sf(0,t.serverCache.getNode().getImmediateChild(n),r);l=rf(e,l,new ed(n),u,i,o,a,s)}})),u.children.inorderTraversal(((n,r)=>{const u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){const u=sf(0,t.serverCache.getNode().getImmediateChild(n),r);l=rf(e,l,new ed(n),u,i,o,a,s)}})),l}class lf{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new eh(n.getIndex()),i=(o=n).loadsAllData()?new eh(o.getIndex()):o.hasLimit()?new nh(o):new th(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,u=r.updateFullNode(Hd.EMPTY_NODE,a.getNode(),null),l=i.updateFullNode(Hd.EMPTY_NODE,s.getNode(),null),c=new bh(u,a.isFullyInitialized(),r.filtersNodes()),d=new bh(l,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=Sh(d,c),this.eventGenerator_=new wh(this.query_)}get query(){return this.query_}}function cf(e,t){const n=Ch(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ld(t)&&!n.getImmediateChild(nd(t)).isEmpty())?n.getChild(t):null}function df(e){return 0===e.eventRegistrations_.length}function hf(e,t,n){const r=[];if(n){Qu(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ff(e,t,n,r){t.type===ph.MERGE&&null!==t.source.queryId&&(Qu(Ch(e.viewCache_),"We should always have a full cache before handling merges"),Qu(xh(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new Zh;let a,s;if(n.type===ph.OVERWRITE){const u=n;u.source.fromUser?a=of(e,t,u.path,u.snap,r,i,o):(Qu(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!ld(u.path),a=rf(e,t,u.path,u.snap,r,i,s,o))}else if(n.type===ph.MERGE){const u=n;u.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,u)=>{const l=ud(n,r);af(t,nd(l))&&(s=of(e,s,l,u,i,o,a))})),r.foreach(((r,u)=>{const l=ud(n,r);af(t,nd(l))||(s=of(e,s,l,u,i,o,a))})),s}(e,t,u.path,u.children,r,i,o):(Qu(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered(),a=uf(e,t,u.path,u.children,r,i,s,o))}else if(n.type===ph.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=Gh(r,n))return t;{const s=new tf(r,t,i),u=t.eventCache.getNode();let l;if(ld(n)||".priority"===nd(n)){let n;if(t.serverCache.isFullyInitialized())n=$h(r,Ch(t));else{const e=t.serverCache.getNode();Qu(e instanceof Hd,"serverChildren would be complete if leaf node"),n=Qh(r,e)}n=n,l=e.filter.updateFullNode(u,n,o)}else{const i=nd(n);let c=Yh(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),l=null!=c?e.filter.updateChild(u,i,c,id(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,Hd.EMPTY_NODE,id(n),s,o):u,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=$h(r,Ch(t)),a.isLeafNode()&&(l=e.filter.updateFullNode(l,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=Gh(r,td()),kh(t,l,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=Gh(i,n))return t;const s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(ld(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return rf(e,t,n,u.getNode().getChild(n),i,o,s,a);if(ld(n)){let r=new Oh(null);return u.getNode().forEachChild(kd,((e,t)=>{r=r.set(new ed(e),t)})),uf(e,t,n,r,i,o,s,a)}return t}{let l=new Oh(null);return r.foreach(((e,t)=>{const r=ud(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),uf(e,t,n,l,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==ph.LISTEN_COMPLETE)throw Ku("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return nf(e,Th(t,o.getNode(),o.isFullyInitialized()||ld(n),o.isFiltered()),n,r,ef,i)}(e,t,n.path,r,o)}const u=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=xh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Yd(xh(t)))}}(t,a,u),{viewCache:a,changes:u}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,Qu(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Qu(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Qu(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,pf(e,o.changes,o.viewCache.eventCache.getNode(),null)}function pf(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Eh(e,i,"child_removed",t,r,n),Eh(e,i,"child_added",t,r,n),Eh(e,i,"child_moved",o,r,n),Eh(e,i,"child_changed",t,r,n),Eh(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let mf,vf;class gf{constructor(){this.views=new Map}}function yf(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Qu(null!=o,"SyncTree gave us an op for an invalid query."),ff(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ff(o,t,n,r));return i}}function _f(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=$h(n,i?r:null),o=!1;e?o=!0:r instanceof Hd?(e=Qh(n,r),o=!1):(e=Hd.EMPTY_NODE,o=!1);const a=Sh(new bh(e,o,!1),new bh(r,i,!1));return new lf(t,a)}return a}function bf(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function wf(e,t){let n=null;for(const r of e.views.values())n=n||cf(r,t);return n}function Ef(e,t){if(t._queryParams.loadsAllData())return Tf(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Sf(e,t){return null!=Ef(e,t)}function kf(e){return null!=Tf(e)}function Tf(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let xf=1;class Cf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Oh(null),this.pendingWriteTree_={visibleWrites:Rh.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function If(e,t,n,r,i){return function(e,t,n,r,i){Qu(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Nh(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Df(e,new yh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Of(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Qu(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Bh(t,r.path)?i=!1:fd(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=Wh(e.allWrites,zh,td()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Ah(e.visibleWrites,r.path):xc(r.children,(t=>{e.visibleWrites=Ah(e.visibleWrites,ud(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new Oh(null);return null!=r.snap?t=t.set(td(),!0):xc(r.children,(e=>{t=t.set(new ed(e),!0)})),Df(e,new vh(r.path,t,n))}return[]}function Rf(e,t,n){return Df(e,new yh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Nf(e,t,n,r){const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||Sf(o,t))){const s=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=kf(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(hf(i,n,r)),df(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(hf(t,n,r)),df(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!kf(e)&&o.push(new(Qu(mf,"Reference.ts has not been loaded"),mf)(t._repo,t._path)),{removed:o,events:a}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const u=s.removed;a=s.events;const l=-1!==u.findIndex((e=>e._queryParams.loadsAllData())),c=e.syncPointTree_.findOnPath(i,((e,t)=>kf(t)));if(l&&!c){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&kf(t))return[Tf(t)];{let e=[];return t&&(e=bf(t)),xc(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Ff(e,r);e.listenProvider_.startListening(zf(i),jf(e,i),o.hashFn,o.onComplete)}}}if(!c&&u.length>0&&!r)if(l){const n=null;e.listenProvider_.stopListening(zf(t),n)}else u.forEach((t=>{const n=e.queryToTagMap.get(Vf(t));e.listenProvider_.stopListening(zf(t),n)}));!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Vf(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return a}function Pf(e,t,n){const r=t._path;let i=null,o=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=cd(e,r);i=i||wf(t,n),o=o||kf(t)}));let a,s=e.syncPointTree_.get(r);s?(o=o||kf(s),i=i||wf(s,td())):(s=new gf,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Hd.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=wf(t,td());n&&(i=i.updateImmediateChild(e,n))})));const u=Sf(s,t);if(!u&&!t._queryParams.loadsAllData()){const n=Vf(t);Qu(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=xf++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let l=function(e,t,n,r,i,o){const a=_f(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fd,((e,t)=>{r.push(Jd(e,t))})),n.isFullyInitialized()&&r.push(Yd(n.getNode())),pf(e,r,n.getNode(),t)}(a,n)}(s,t,n,qh(e.pendingWriteTree_,r),i,a);if(!u&&!o){const n=Ef(s,t);l=l.concat(function(e,t,n){const r=t._path,i=jf(e,t),o=Ff(e,n),a=e.listenProvider_.startListening(zf(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Qu(!kf(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!ld(e)&&t&&kf(t))return[Tf(t).query];{let e=[];return t&&(e=e.concat(bf(t).map((e=>e.query)))),xc(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(zf(r),jf(e,r))}}return a}(e,t,n))}return l}function Af(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=wf(n,cd(e,t));if(r)return r}));return Hh(r,t,i,n,!0)}function Df(e,t){return Lf(t,e.syncPointTree_,null,qh(e.pendingWriteTree_,td()))}function Lf(e,t,n,r){if(ld(e.path))return Mf(e,t,n,r);{const i=t.get(td());null==n&&null!=i&&(n=wf(i,td()));let o=[];const a=nd(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){const e=n?n.getImmediateChild(a):null,t=Jh(r,a);o=o.concat(Lf(s,u,e,t))}return i&&(o=o.concat(yf(i,e,r,n))),o}}function Mf(e,t,n,r){const i=t.get(td());null==n&&null!=i&&(n=wf(i,td()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=Jh(r,t),u=e.operationForChild(t);u&&(o=o.concat(Mf(u,i,a,s)))})),i&&(o=o.concat(yf(i,e,r,n))),o}function Ff(e,t){const n=t.query,r=jf(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Hd.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Uf(e,n);if(r){const n=qf(r),i=n.path,o=n.queryId,a=cd(i,t);return Bf(e,i,new gh(mh(o),a))}return[]}(e,n._path,r):function(e,t){return Df(e,new gh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Nf(e,n,null,r)}}}}function jf(e,t){const n=Vf(t);return e.queryToTagMap.get(n)}function Vf(e){return e._path.toString()+"$"+e._queryIdentifier}function Uf(e,t){return e.tagToQueryMap.get(t)}function qf(e){const t=e.indexOf("$");return Qu(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ed(e.substr(0,t))}}function Bf(e,t,n){const r=e.syncPointTree_.get(t);return Qu(r,"Missing sync point for query tag that we're tracking"),yf(r,n,qh(e.pendingWriteTree_,t),null)}function zf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Qu(vf,"Reference.ts has not been loaded"),vf)(e._repo,e._path):e}class Wf{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Wf(t)}node(){return this.node_}}class Hf{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ud(this.path_,e);return new Hf(this.syncTree_,t)}node(){return Af(this.syncTree_,this.path_)}}const $f=function(e,t,n){return e&&"object"==typeof e?(Qu(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Qf(e[".sv"],t,n):"object"==typeof e[".sv"]?Kf(e[".sv"],t):void Qu(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Qf=function(e,t,n){if("timestamp"===e)return n.timestamp;Qu(!1,"Unexpected server value: "+e)},Kf=function(e,t,n){e.hasOwnProperty("increment")||Qu(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Qu(!1,"Unexpected increment value: "+r);const i=t.node();if(Qu(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Gf=function(e,t,n,r){return Jf(t,new Hf(n,e),r)},Yf=function(e,t,n){return Jf(e,new Wf(t),n)};function Jf(e,t,n){const r=e.getPriority().val(),i=$f(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=$f(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Md(o,Qd(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Md(i))),r.forEachChild(Fd,((e,r)=>{const i=Jf(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class Xf{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function Zf(e,t){let n=t instanceof ed?t:new ed(t),r=e,i=nd(n);for(;null!==i;){const e=hl(r.node.children,i)||{children:{},childCount:0};r=new Xf(i,r,e),n=id(n),i=nd(n)}return r}function ep(e){return e.node.value}function tp(e,t){e.node.value=t,ap(e)}function np(e){return e.node.childCount>0}function rp(e,t){xc(e.node.children,((n,r)=>{t(new Xf(n,e,r))}))}function ip(e,t,n,r){n&&!r&&t(e),rp(e,(e=>{ip(e,t,!0,r)})),n&&r&&t(e)}function op(e){return new ed(null===e.parent?e.name:op(e.parent)+"/"+e.name)}function ap(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===ep(e)&&!np(e)}(n),i=dl(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ap(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ap(e))}(e.parent,e.name,e)}const sp=/[\[\].#$\/\u0000-\u001F\u007F]/,up=/[\[\].#$\u0000-\u001F\u007F]/,lp=10485760,cp=function(e){return"string"==typeof e&&0!==e.length&&!sp.test(e)},dp=function(e){return"string"==typeof e&&0!==e.length&&!up.test(e)},hp=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!yc(e)||e&&"object"==typeof e&&dl(e,".sv")},fp=function(e,t,n,r){r&&void 0===t||pp(Sl(e,"value"),t,n)},pp=function(e,t,n){const r=n instanceof ed?new pd(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+vd(r));if("function"==typeof t)throw new Error(e+"contains a function "+vd(r)+" with contents = "+t.toString());if(yc(t))throw new Error(e+"contains "+t.toString()+" "+vd(r));if("string"==typeof t&&t.length>lp/3&&kl(t)>lp)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+vd(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(xc(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!cp(t)))throw new Error(e+" contains an invalid key ("+t+") "+vd(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=kl(t),md(e)}(r,t),pp(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=kl(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+vd(r)+" in addition to actual children.")}},mp=function(e,t,n,r){if(r&&void 0===t)return;const i=Sl(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];xc(t,((e,t)=>{const r=new ed(e);if(pp(i,t,ud(n,r)),".priority"===od(r)&&!hp(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=ad(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!cp(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(dd);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&fd(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},vp=function(e,t,n,r){if(!(r&&void 0===n||dp(n)))throw new Error(Sl(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gp=function(e,t){if(".info"===nd(t))throw new Error(e+" failed = Can't modify data under /.info/")};class yp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _p(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||hd(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function bp(e,t,n){_p(e,n),Ep(e,(e=>hd(e,t)))}function wp(e,t,n){_p(e,n),Ep(e,(e=>fd(e,t)||fd(t,e)))}function Ep(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Sp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Sp(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();dc&&fc("event: "+n.toString()),Rc(r)}}}class kp{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uh(),this.transactionQueueTree_=new Xf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tp(e,t,n){if(e.stats_=zc(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ah(e.repoInfo_,((t,n,r,i)=>{Ip(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Op(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ll(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new _d(e.repoInfo_,t,((t,n,r,i)=>{Ip(e,t,n,r,i)}),(t=>{Op(e,t)}),(t=>{!function(e,t){xc(t,((t,n)=>{Rp(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return Bc[r]||(Bc[r]=new fh(e.stats_,e.server_)),Bc[r]}(e.repoInfo_),e.infoData_=new sh,e.infoSyncTree_=new Cf({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Rf(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Rp(e,"connected",!1),e.serverSyncTree_=new Cf({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);wp(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function xp(e){const t=e.infoData_.getNode(new ed(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Cp(e){return(t=(t={timestamp:xp(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Ip(e,t,n,r,i){e.dataUpdateCount++;const o=new ed(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=pl(n,(e=>Qd(e)));a=function(e,t,n,r){const i=Uf(e,r);if(i){const r=qf(i),o=r.path,a=r.queryId,s=cd(o,t),u=Oh.fromObject(n);return Bf(e,o,new _h(mh(a),s,u))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Qd(n);a=function(e,t,n,r){const i=Uf(e,r);if(null!=i){const r=qf(i),o=r.path,a=r.queryId,s=cd(o,t);return Bf(e,o,new yh(mh(a),s,n))}return[]}(e.serverSyncTree_,o,t,i)}else if(r){const t=pl(n,(e=>Qd(e)));a=function(e,t,n){const r=Oh.fromObject(n);return Df(e,new _h({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Qd(n);a=Rf(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=Vp(e,o)),wp(e.eventQueue_,s,a)}function Op(e,t){Rp(e,"connected",t),!1===t&&function(e){Lp(e,"onDisconnectEvents");const t=Cp(e),n=uh();dh(e.onDisconnect_,td(),((r,i)=>{const o=Gf(r,i,e.serverSyncTree_,t);lh(n,r,o)}));let r=[];dh(n,td(),((t,n)=>{r=r.concat(Rf(e.serverSyncTree_,t,n));const i=Wp(e,t);Vp(e,i)})),e.onDisconnect_=uh(),wp(e.eventQueue_,td(),r)}(e)}function Rp(e,t,n){const r=new ed("/.info/"+t),i=Qd(n);e.infoData_.updateSnapshot(r,i);const o=Rf(e.infoSyncTree_,r,i);wp(e.eventQueue_,r,o)}function Np(e){return e.nextWriteId_++}function Pp(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&ch(e.onDisconnect_,t),Mp(0,n,r,i)}))}function Ap(e,t,n,r){const i=Qd(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&lh(e.onDisconnect_,t,i),Mp(0,r,n,o)}))}function Dp(e,t,n){let r;r=".info"===nd(t._path)?Nf(e.infoSyncTree_,t,n):Nf(e.serverSyncTree_,t,n),bp(e.eventQueue_,t._path,r)}function Lp(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),fc(n,...t)}function Mp(e,t,n,r){t&&Rc((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Fp(e,t,n){return Af(e.serverSyncTree_,t,n)||Hd.EMPTY_NODE}function jp(e,t=e.transactionQueueTree_){if(t||zp(e,t),ep(t)){const n=qp(e,t);Qu(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Fp(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];Qu(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=cd(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),u=t;e.server_.put(u.toString(),s,(r=>{Lp(e,"transaction put response",{path:u.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Of(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();zp(e,Zf(e.transactionQueueTree_,t)),jp(e,e.transactionQueueTree_),wp(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Rc(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{gc("transaction at "+u.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Vp(e,t)}}),a)}(e,op(t),n)}else np(t)&&rp(t,(t=>{jp(e,t)}))}function Vp(e,t){const n=Up(e,t),r=op(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let s=0;s<t.length;s++){const u=t[s],l=cd(n,u.path);let c,d=!1;if(Qu(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)d=!0,c=u.abortReason,i=i.concat(Of(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)d=!0,c="maxretry",i=i.concat(Of(e.serverSyncTree_,u.currentWriteId,!0));else{const n=Fp(e,u.path,o);u.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){pp("transaction failed: Data returned ",r,u.path);let t=Qd(r);"object"==typeof r&&null!=r&&dl(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=u.currentWriteId,s=Cp(e),l=Yf(t,n,s);u.currentOutputSnapshotRaw=t,u.currentOutputSnapshotResolved=l,u.currentWriteId=Np(e),o.splice(o.indexOf(a),1),i=i.concat(If(e.serverSyncTree_,u.path,l,u.currentWriteId,u.applyLocally)),i=i.concat(Of(e.serverSyncTree_,a,!0))}else d=!0,c="nodata",i=i.concat(Of(e.serverSyncTree_,u.currentWriteId,!0))}wp(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,a=t[s].unwatcher,setTimeout(a,Math.floor(0)),t[s].onComplete&&("nodata"===c?r.push((()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot))):r.push((()=>t[s].onComplete(new Error(c),!1,null)))))}var a;zp(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Rc(r[e]);jp(e,e.transactionQueueTree_)}(e,qp(e,n),r),r}function Up(e,t){let n,r=e.transactionQueueTree_;for(n=nd(t);null!==n&&void 0===ep(r);)r=Zf(r,n),n=nd(t=id(t));return r}function qp(e,t){const n=[];return Bp(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Bp(e,t,n){const r=ep(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);rp(t,(t=>{Bp(e,t,n)}))}function zp(e,t){const n=ep(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,tp(t,n.length>0?n:void 0)}rp(t,(t=>{zp(e,t)}))}function Wp(e,t){const n=op(Up(e,t)),r=Zf(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Hp(e,t)})),Hp(e,r),ip(r,(t=>{Hp(e,t)})),n}function Hp(e,t){const n=ep(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Qu(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Qu(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Of(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?tp(t,void 0):n.length=o+1,wp(e.eventQueue_,op(t),i);for(let e=0;e<r.length;e++)Rc(r[e])}}const $p=function(e,t){const n=Qp(e),r=n.namespace;"firebase.com"===n.domain&&vc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||vc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new jc(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ed(n.pathString)}},Qp=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):gc(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};class Kp{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ll(this.snapshot.exportVal())}}class Gp{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Yp{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Qu(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Jp{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new el;return Pp(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){gp("OnDisconnect.remove",this._path);const e=new el;return Ap(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){gp("OnDisconnect.set",this._path),fp("OnDisconnect.set",e,this._path,!1);const t=new el;return Ap(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){gp("OnDisconnect.setWithPriority",this._path),fp("OnDisconnect.setWithPriority",e,this._path,!1),function(e,t,n){if(!n||void 0!==t){if(yc(t))throw new Error(Sl(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!hp(t))throw new Error(Sl(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",t,!1);const n=new el;return function(e,t,n,r,i){const o=Qd(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&lh(e.onDisconnect_,t,o),Mp(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){gp("OnDisconnect.update",this._path),mp("OnDisconnect.update",e,this._path,!1);const t=new el;return function(e,t,n,r){if(fl(n))return fc("onDisconnect().update() called with empty data.  Don't do anything."),void Mp(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&xc(n,((n,r)=>{const i=Qd(r);lh(e.onDisconnect_,ud(t,n),i)})),Mp(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class Xp{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ld(this._path)?null:od(this._path)}get ref(){return new Zp(this._repo,this._path)}get _queryIdentifier(){const e=oh(this._queryParams),t=kc(e);return"{}"===t?"default":t}get _queryObject(){return oh(this._queryParams)}isEqual(e){if(!((e=xl(e))instanceof Xp))return!1;const t=this._repo===e._repo,n=hd(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Zp extends Xp{constructor(e,t){super(e,t,new rh,!1)}get parent(){const e=sd(this._path);return null===e?null:new Zp(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class em{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ed(e),n=nm(this.ref,e);return new em(this._node.getChild(t),n,Fd)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new em(n,nm(this.ref,t),Fd))))}hasChild(e){const t=new ed(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tm(e,t){return(e=xl(e))._checkNotDeleted("ref"),void 0!==t?nm(e._root,t):e._root}function nm(e,t){var n;return null===nd((e=xl(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vp("child","path",n,false)):vp("child","path",t,!1),new Zp(e._repo,ud(e._path,t))}function rm(e){return e=xl(e),new Jp(e._repo,e._path)}function im(e){return gp("remove",e._path),function(e,t){e=xl(e),gp("set",e._path),fp("set",t,e._path,!1);const n=new el;return function(e,t,n,r,i){Lp(e,"set",{path:t.toString(),value:n,priority:r});const o=Cp(e),a=Qd(n,r),s=Af(e.serverSyncTree_,t),u=Yf(a,s,o),l=Np(e),c=If(e.serverSyncTree_,t,u,l,!0);_p(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||gc("set at "+t+" failed: "+n);const a=Of(e.serverSyncTree_,l,!o);wp(e.eventQueue_,t,a),Mp(0,i,n,r)}));const d=Wp(e,t);Vp(e,d),wp(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}(e,null)}function om(e,t){mp("update",t,e._path,!1);const n=new el;return function(e,t,n,r){Lp(e,"update",{path:t.toString(),value:n});let i=!0;const o=Cp(e),a={};if(xc(n,((n,r)=>{i=!1,a[n]=Gf(ud(t,n),Qd(r),e.serverSyncTree_,o)})),i)fc("update() called with empty data.  Don't do anything."),Mp(0,r,"ok",void 0);else{const i=Np(e),o=function(e,t,n,r){!function(e,t,n,r){Qu(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ph(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Oh.fromObject(n);return Df(e,new _h({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,a,i);_p(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const a="ok"===n;a||gc("update at "+t+" failed: "+n);const s=Of(e.serverSyncTree_,i,!a),u=s.length>0?Vp(e,t):t;wp(e.eventQueue_,u,s),Mp(0,r,n,o)})),xc(n,(n=>{const r=Wp(e,ud(t,n));Vp(e,r)})),wp(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function am(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=cd(e,n);r=r||wf(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||wf(i,td()):(i=new gf,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new bh(r,!0,!1):null;return xh(_f(i,t,qh(e.pendingWriteTree_,t._path),o?a.getNode():Hd.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=Qd(n).withIndex(t._queryParams.getIndex()),i=Rf(e.serverSyncTree_,t._path,r);return bp(e.eventQueue_,t._path,i),Promise.resolve(r)}),(n=>(Lp(e,"get for query "+ll(t)+" failed: "+n),Promise.reject(new Error(n)))))}((e=xl(e))._repo,e).then((t=>new em(t,new Zp(e._repo,e._path),e._queryParams.getIndex())))}class sm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Kp("value",this,new em(e.snapshotNode,new Zp(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Gp(this,e,t):null}matches(e){return e instanceof sm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class um{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Gp(this,e,t):null}createEvent(e,t){Qu(null!=e.childName,"Child events should have a childName.");const n=nm(new Zp(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Kp(e.type,this,new em(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof um&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lm(e,t,n,r){return function(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Dp(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new Yp(n,o||void 0),s="value"===t?new sm(a):new um(t,a);return function(e,t,n){let r;r=".info"===nd(t._path)?Pf(e.infoSyncTree_,t,n):Pf(e.serverSyncTree_,t,n),bp(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Dp(e._repo,e,s)}(e,"value",t,n,r)}!function(e){Qu(!mf,"__referenceConstructor has already been defined"),mf=e}(Zp),function(e){Qu(!vf,"__referenceConstructor has already been defined"),vf=e}(Zp);const cm={};function dm(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||vc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fc("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,u=$p(o,i),l=u.repoInfo;"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${l.namespace}`,u=$p(o,i),l=u.repoInfo):a=!u.repoInfo.secure;const c=i&&a?new Dc(Dc.OWNER):new Ac(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!cp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dp(e)}(n))throw new Error(Sl(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",u),ld(u.path)||vc("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=cm[t.name];i||(i={},cm[t.name]=i);let o=i[e.toURLString()];return o&&vc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new kp(e,false,n,r),i[e.toURLString()]=o,o}(l,e,c,new Pc(e.name,n));return new hm(d,e)}class hm{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Tp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zp(this._repo,td())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=cm[t];n&&n[e.key]===e||vc(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&vc("Cannot call "+e+" on a deleted database.")}}function fm(e=Jl(),t){return Ql(e,"database").getImmediate({identifier:t})}_d.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},_d.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},tc="9.6.1",$l(new Cl("database",((e,{instanceIdentifier:t})=>dm(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Xl(Zl,ec,void 0),Xl(Zl,ec,"esm2017");const pm="settings",mm=aa({key:"settingsAtom",default:{locale:"fr"}}),vm=sa({key:"getSettings",get:({get:e})=>{const t=e(mm),n=window.localStorage.getItem(pm);return n?{...t,...JSON.parse(n)}:(window.localStorage.setItem(pm,JSON.stringify(t)),t)},set:({set:e},t)=>{window.localStorage.setItem(pm,JSON.stringify(t)),e(mm,t)}}),gm=["access_token","room"],ym=aa({key:"getHashParams",default:new Map,effects_UNSTABLE:[({setSelf:e})=>{const t=()=>{if(window.location.hash.length){const t=window.location.hash.slice(1),n=new Map;t.split("&").map((e=>{const t=e.split("=")[0],r=e.split("=")[1];gm.includes(t)&&n.set(t,r)})),e(n),history.pushState("",document.title,window.location.origin+window.location.pathname)}};return window.addEventListener("hashchange",t,!1),t(),()=>window.removeEventListener("hashchange",t,!1)}]}),_m=sa({key:"getRoomId",get:({get:e})=>{const t=e(ym),n=e(vm);return t.get("room")||(n.lastRoom?n.lastRoom:crypto.getRandomValues(new Uint32Array(2)).join(""))}}),bm=sa({key:"getRoomPath",get:({get:e})=>`rooms/${e(_m)}`});var wm=function(e,t){return wm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},wm(e,t)};function Em(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}wm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Sm=function(){return Sm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sm.apply(this,arguments)};function km(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Tm(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function xm(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function Cm(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Im(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;const Om=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rm=new al("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nm=new Fl("@firebase/auth");function Pm(e,...t){Nm.logLevel<=Pl.ERROR&&Nm.error(`Auth (9.6.1): ${e}`,...t)}function Am(e,...t){throw Lm(e,...t)}function Dm(e,...t){return Lm(e,...t)}function Lm(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Rm.create(e,...t)}function Mm(e,t,...n){if(!e)throw Lm(t,...n)}function Fm(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pm(t),new Error(t)}function jm(e,t){e||Fm(t)}const Vm=new Map;function Um(e){jm(e instanceof Function,"Expected a class definition");let t=Vm.get(e);return t?(jm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Vm.set(e,t),t)}function qm(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bm(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class zm{constructor(e,t){this.shortDelay=e,this.longDelay=t,jm(t>e,"Short delay should be less than long delay!"),this.isMobile=nl()||il()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Bm()||"https:"===Bm()||rl()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Wm(e,t){jm(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Hm{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $m={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qm=new zm(3e4,6e4);function Km(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gm(e,t,n,r,i={}){return Ym(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=gl(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Hm.fetch()(Xm(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Ym(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},$m),t);try{const t=new Zm(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ev(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ev(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ev(e,"email-already-in-use",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){const r=Object.assign(Object.assign({},Om()),{[t]:n});return new al("auth","Firebase",r).create(t,{appName:e.name})}(e,s,a);Am(e,s)}}catch(t){if(t instanceof ol)throw t;Am(e,"network-request-failed")}}async function Jm(e,t,n,r,i={}){const o=await Gm(e,t,n,r,i);return"mfaPendingCredential"in o&&Am(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Xm(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Wm(e.config,i):`${e.config.apiScheme}://${i}`}class Zm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Dm(this.auth,"timeout"))),Qm.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ev(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dm(e,t,r);return i.customData._tokenResponse=n,i}function tv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function nv(e){return 1e3*Number(e)}function rv(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pm("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ju(n);return e?JSON.parse(e):(Pm("Failed to decode base64 JWT payload"),null)}catch(e){return Pm("Caught error parsing JWT payload as JSON",e),null}}async function iv(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ol&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class ov{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class av{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tv(this.lastLoginAt),this.creationTime=tv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sv(e){var t;const n=e.auth,r=await e.getIdToken(),i=await iv(e,async function(e,t){return Gm(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Mm(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=km(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(u=e.providerData,l=a,[...u.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var u,l;const c=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!c&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new av(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class uv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Mm(e.idToken,"internal-error"),Mm(void 0!==e.idToken,"internal-error"),Mm(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=rv(e);return Mm(t,"internal-error"),Mm(void 0!==t.exp,"internal-error"),Mm(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Mm(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Ym(e,{},(async()=>{const n=gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Xm(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hm.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new uv;return n&&(Mm("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Mm("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Mm("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uv,this.toJSON())}_performRefresh(){return Fm("not implemented")}}function lv(e,t){Mm("string"==typeof e||void 0===e,"internal-error",{appName:t})}class cv{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ov(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new av(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await iv(this,this.stsTokenManager.getToken(this.auth,e));return Mm(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=xl(e),r=await n.getIdToken(t),i=rv(r);Mm(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:tv(nv(i.auth_time)),issuedAtTime:tv(nv(i.iat)),expirationTime:tv(nv(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xl(e);await sv(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Mm(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new cv(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Mm(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await iv(this,async function(e,t){return Gm(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,v=null!==(u=t.createdAt)&&void 0!==u?u:void 0,g=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:E}=t;Mm(y&&E,e,"internal-error");const S=uv.fromJSON(this.name,E);Mm("string"==typeof y,e,"internal-error"),lv(c,e.name),lv(d,e.name),Mm("boolean"==typeof _,e,"internal-error"),Mm("boolean"==typeof b,e,"internal-error"),lv(h,e.name),lv(f,e.name),lv(p,e.name),lv(m,e.name),lv(v,e.name),lv(g,e.name);const k=new cv({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:v,lastLoginAt:g});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,n=!1){const r=new uv;r.updateFromServerResponse(t);const i=new cv({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sv(i),i}}class dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dv.type="NONE";const hv=dv;function fv(e,t,n){return`firebase:${e}:${t}:${n}`}class pv{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fv(this.userKey,r.apiKey,i),this.fullPersistenceKey=fv("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cv._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new pv(Um(hv),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Um(hv);const o=fv(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=cv._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new pv(i,e,n)):new pv(i,e,n)}}function mv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_v(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wv(t))return"Blackberry";if(Ev(t))return"Webos";if(gv(t))return"Safari";if((t.includes("chrome/")||yv(t))&&!t.includes("edge/"))return"Chrome";if(bv(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function vv(e=tl()){return/firefox\//i.test(e)}function gv(e=tl()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yv(e=tl()){return/crios\//i.test(e)}function _v(e=tl()){return/iemobile/i.test(e)}function bv(e=tl()){return/android/i.test(e)}function wv(e=tl()){return/blackberry/i.test(e)}function Ev(e=tl()){return/webos/i.test(e)}function Sv(e=tl()){return/iphone|ipad|ipod/i.test(e)}function kv(e=tl()){return Sv(e)||bv(e)||Ev(e)||wv(e)||/windows phone/i.test(e)||_v(e)}function Tv(e,t=[]){let n;switch(e){case"Browser":n=mv(tl());break;case"Worker":n=`${mv(tl())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.1/${t.length?t.join(","):"FirebaseCore-web"}`}class xv{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rm,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Um(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await pv.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(Mm(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sv(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?xl(e):null;return t&&Mm(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Mm(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Um(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new al("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Um(e)||this._popupRedirectResolver;Mm(t,this,"argument-error"),this.redirectPersistenceManager=await pv.create(this,[Um(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mm(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Mm(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function Cv(e){return xl(e)}class Iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new wl(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Mm(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Ov{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fm("not implemented")}_getIdTokenResponse(e){return Fm("not implemented")}_linkToIdToken(e,t){return Fm("not implemented")}_getReauthenticationResolver(e){return Fm("not implemented")}}class Rv extends Ov{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rv(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Rv(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithPassword",Km(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithEmailLink",Km(e,t))}(e,{email:this._email,oobCode:this._password});default:Am(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return Gm(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithEmailLink",Km(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Am(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nv(e,t){return Jm(e,"POST","/v1/accounts:signInWithIdp",Km(e,t))}class Pv extends Ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Am("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=km(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Pv(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Nv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gl(t)}return e}}const Av={USER_NOT_FOUND:"user-not-found"};class Dv extends Ov{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Dv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Dv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithPhoneNumber",Km(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Jm(e,"POST","/v1/accounts:signInWithPhoneNumber",Km(e,t));if(n.temporaryProof)throw ev(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithPhoneNumber",Km(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Av)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Dv({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Lv{constructor(e){var t,n,r,i,o,a;const s=yl(_l(e)),u=null!==(t=s.apiKey)&&void 0!==t?t:null,l=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Mm(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=yl(_l(e)).link,n=t?yl(_l(t)).deep_link_id:null,r=yl(_l(e)).deep_link_id;return(r?yl(_l(r)).link:null)||r||n||t||e}(e);try{return new Lv(t)}catch(e){return null}}}class Mv{constructor(){this.providerId=Mv.PROVIDER_ID}static credential(e,t){return Rv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Lv.parseLink(t);return Mm(n,"argument-error"),Rv._fromEmailAndCode(e,n.code,n.tenantId)}}Mv.PROVIDER_ID="password",Mv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jv extends Fv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vv extends jv{constructor(){super("facebook.com")}static credential(e){return Pv._fromParams({providerId:Vv.PROVIDER_ID,signInMethod:Vv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vv.credentialFromTaggedObject(e)}static credentialFromError(e){return Vv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Vv.credential(e.oauthAccessToken)}catch(e){return null}}}Vv.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vv.PROVIDER_ID="facebook.com";class Uv extends jv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pv._fromParams({providerId:Uv.PROVIDER_ID,signInMethod:Uv.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Uv.credentialFromTaggedObject(e)}static credentialFromError(e){return Uv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Uv.credential(t,n)}catch(e){return null}}}Uv.GOOGLE_SIGN_IN_METHOD="google.com",Uv.PROVIDER_ID="google.com";class qv extends jv{constructor(){super("github.com")}static credential(e){return Pv._fromParams({providerId:qv.PROVIDER_ID,signInMethod:qv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qv.credentialFromTaggedObject(e)}static credentialFromError(e){return qv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return qv.credential(e.oauthAccessToken)}catch(e){return null}}}qv.GITHUB_SIGN_IN_METHOD="github.com",qv.PROVIDER_ID="github.com";class Bv extends jv{constructor(){super("twitter.com")}static credential(e,t){return Pv._fromParams({providerId:Bv.PROVIDER_ID,signInMethod:Bv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bv.credentialFromTaggedObject(e)}static credentialFromError(e){return Bv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Bv.credential(t,n)}catch(e){return null}}}Bv.TWITTER_SIGN_IN_METHOD="twitter.com",Bv.PROVIDER_ID="twitter.com";class zv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await cv._fromIdTokenResponse(e,n,r),o=Wv(n);return new zv({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Wv(n);return new zv({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Wv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Hv extends ol{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hv.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hv(e,t,n,r)}}function $v(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Hv._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const Qv="__sak";class Kv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qv,"1"),this.storage.removeItem(Qv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Gv extends Kv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=tl();return gv(e)||Sv(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=kv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=tl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gv.type="LOCAL";const Yv=Gv;class Jv extends Kv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jv.type="SESSION";const Xv=Jv;class Zv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Zv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function eg(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Zv.receivers=[];class tg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const u=eg("",20);r.port1.start();const l=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ng(){return window}function rg(){return void 0!==ng().WorkerGlobalScope&&"function"==typeof ng().importScripts}const ig="firebaseLocalStorageDb",og="firebaseLocalStorage",ag="fbase_key";class sg{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ug(e,t){return e.transaction([og],t?"readwrite":"readonly").objectStore(og)}function lg(){const e=indexedDB.open(ig,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(og,{keyPath:ag})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(og)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ig);return new sg(e).toPromise()}(),t(await lg()))}))}))}async function cg(e,t,n){const r=ug(e,!0).put({[ag]:t,value:n});return new sg(r).toPromise()}function dg(e,t){const n=ug(e,!0).delete(t);return new sg(n).toPromise()}class hg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await lg()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zv._getInstance(rg()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new tg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await cg(e,Qv,"1"),await dg(e,Qv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>cg(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ug(e,!1).get(t),r=await new sg(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>dg(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ug(e,!1).getAll();return new sg(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}hg.type="LOCAL";const fg=hg;function pg(e){return`__${e}${Math.floor(1e6*Math.random())}`}pg("rcb"),new zm(3e4,6e4);class mg{constructor(e){this.providerId=mg.PROVIDER_ID,this.auth=Cv(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(Mm("string"==typeof i,e,"argument-error"),Mm("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Mm("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Gm(e,"POST","/v2/accounts/mfaEnrollment:start",Km(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Mm("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Mm(n,e,"missing-multi-factor-info");const a=await function(e,t){return Gm(e,"POST","/v2/accounts/mfaSignIn:start",Km(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Gm(e,"POST","/v1/accounts:sendVerificationCode",Km(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,xl(t))}static credential(e,t){return Dv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mg.credentialFromTaggedObject(t)}static credentialFromError(e){return mg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Dv._fromTokenResponse(t,n):null}}mg.PROVIDER_ID="phone",mg.PHONE_SIGN_IN_METHOD="phone";class vg extends Ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gg(e){return async function(e,t,n=!1){const r="signIn",i=await $v(e,r,t),o=await zv._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new vg(e),e.bypassAuthState)}function yg(e){const{auth:t,user:n}=e;return Mm(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await iv(e,$v(r,i,t,e),n);Mm(o.idToken,r,"internal-error");const a=rv(o.idToken);Mm(a,r,"internal-error");const{sub:s}=a;return Mm(e.uid===s,r,"user-mismatch"),zv._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Am(r,"user-mismatch"),e}}(n,new vg(e),e.bypassAuthState)}async function _g(e){const{auth:t,user:n}=e;return Mm(n,t,"internal-error"),async function(e,t,n=!1){const r=await iv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zv._forOperation(e,"link",r)}(n,new vg(e),e.bypassAuthState)}class bg{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gg;case"linkViaPopup":case"linkViaRedirect":return _g;case"reauthViaPopup":case"reauthViaRedirect":return yg;default:Am(this.auth,"internal-error")}}resolve(e){jm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wg=new zm(2e3,1e4);class Eg extends bg{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Eg.currentPopupAction&&Eg.currentPopupAction.cancel(),Eg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Mm(e,this.auth,"internal-error"),e}async onExecution(){jm(1===this.filter.length,"Popup operations only handle one event");const e=eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Dm(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Dm(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Eg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Dm(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,wg.get())};e()}}Eg.currentPopupAction=null;const Sg=new Map;class kg extends bg{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Sg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return fv("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return Um(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Sg.set(this.auth._key(),e)}return this.bypassAuthState||Sg.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Tg(e,t,n=!1){const r=Cv(e),i=function(e,t){return t?Um(t):(Mm(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new kg(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class xg{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ig(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ig(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Dm(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cg(e))}saveEventToCache(e){this.cachedEventUids.add(Cg(e)),this.lastProcessedEventTime=Date.now()}}function Cg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ig({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Og=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rg=/^https?/;function Ng(e){const t=qm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Rg.test(n))return!1;if(Og.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pg=new zm(3e4,6e4);function Ag(){const e=ng().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Dg=null;function Lg(e){return Dg=Dg||function(e){return new Promise(((t,n)=>{var r,i,o,a;function s(){Ag(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ag(),n(Dm(e,"network-request-failed"))},timeout:Pg.get()})}if(null===(i=null===(r=ng().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ng().gapi)||void 0===o?void 0:o.load)){const t=pg("iframefcb");return ng()[t]=()=>{gapi.load?s():n(Dm(e,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=e=>{const n=Dm("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}s()}})).catch((e=>{throw Dg=null,e}))}(e),Dg}const Mg=new zm(5e3,15e3),Fg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vg(e){const t=e.config;Mm(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Wm(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Yl},i=jg.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gl(r).slice(1)}`}const Ug={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class qg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Bg(e,t,n,r,i,o){Mm(e.config.authDomain,e,"auth-domain-config-required"),Mm(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yl,eventId:i};if(t instanceof Fv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",fl(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof jv){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];return`${function({config:e}){return e.emulator?Wm(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${gl(s).slice(1)}`}const zg="webStorageSupport",Wg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xv,this._completeRedirectFn=Tg}async _openPopup(e,t,n,r){var i;return jm(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const u=Object.assign(Object.assign({},Ug),{width:r.toString(),height:i.toString(),top:o,left:a}),l=tl().toLowerCase();n&&(s=yv(l)?"_blank":n),vv(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=tl()){var t;return Sv(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new qg(null);const d=window.open(t||"",s,c);Mm(d,e,"popup-blocked");try{d.focus()}catch(e){}return new qg(d)}(e,Bg(e,t,n,qm(),r),eg())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Bg(e,t,n,qm(),r),ng().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(jm(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Lg(e),n=ng().gapi;return Mm(n,e,"internal-error"),t.open({where:document.body,url:Vg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Dm(e,"network-request-failed"),o=ng().setTimeout((()=>{r(i)}),Mg.get());function a(){ng().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new xg(e);return t.register("authEvent",(t=>(Mm(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zg,{type:zg},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Am(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Gm(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Ng(e))return}catch(e){}Am(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kv()||gv()||Sv()}};var Hg,$g="@firebase/auth",Qg="0.19.4";class Kg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Mm(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Hg="Browser",$l(new Cl("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Mm(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Mm(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Hg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tv(Hg)},o=new xv(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Um);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),$l(new Cl("auth-internal",(e=>{return t=Cv(e.getProvider("auth").getImmediate()),new Kg(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),Xl($g,Qg,void 0),Xl($g,Qg,"esm2017");var Gg="Invariant Violation",Yg=Object.setPrototypeOf,Jg=void 0===Yg?function(e,t){return e.__proto__=t,e}:Yg,Xg=function(e){function t(n){void 0===n&&(n=Gg);var r=e.call(this,"number"==typeof n?Gg+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Gg,Jg(r,t.prototype),r}return Em(t,e),t}(Error);function Zg(e,t){if(!e)throw new Xg(t)}var ey,ty=["debug","log","warn","error","silent"],ny=ty.indexOf("log");function ry(e){return function(){if(ty.indexOf(e)>=ny){var t=console[e]||console.log;return t.apply(console,arguments)}}}function iy(e){try{return e()}catch(e){}}(ey=Zg||(Zg={})).debug=ry("debug"),ey.log=ry("log"),ey.warn=ry("warn"),ey.error=ry("error");const oy=iy((function(){return globalThis}))||iy((function(){return window}))||iy((function(){return self}))||iy((function(){return global}))||iy((function(){return iy.constructor("return this")()}));var ay="__",sy=[ay,ay].join("DEV");const uy=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(oy,sy,{value:"production"!==iy((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),oy[sy]}}();function ly(e){try{return e()}catch(e){}}var cy=ly((function(){return globalThis}))||ly((function(){return window}))||ly((function(){return self}))||ly((function(){return n.g}))||ly((function(){return ly.constructor("return this")()})),dy=!1;function hy(e){return fy(e,[])}function fy(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:fy(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let r=0;r<n;++r)i.push(fy(e[r],t));return 1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+fy(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function py(e,t){if(!Boolean(e))throw new Error(t)}!cy||ly((function(){return"production"}))||ly((function(){return process}))||(Object.defineProperty(cy,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),dy=!0);class my{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||py(!1,`Body must be a string. Received: ${hy(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||py(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||py(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function vy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yy(e,t,n){return t&&gy(e.prototype,t),n&&gy(e,n),e}dy&&(delete cy.process,dy=!1),__DEV__?Zg("boolean"==typeof uy,uy):Zg("boolean"==typeof uy,36);var _y=function(){return"function"==typeof Symbol},by=function(e){return _y()&&Boolean(Symbol[e])},wy=function(e){return by(e)?Symbol[e]:"@@"+e};_y()&&!by("observable")&&(Symbol.observable=Symbol("observable"));var Ey=wy("iterator"),Sy=wy("observable"),ky=wy("species");function Ty(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function xy(e){var t=e.constructor;return void 0!==t&&null===(t=t[ky])&&(t=void 0),void 0!==t?t:My}function Cy(e){return e instanceof My}function Iy(e){Iy.log?Iy.log(e):setTimeout((function(){throw e}))}function Oy(e){Promise.resolve().then((function(){try{e()}catch(e){Iy(e)}}))}function Ry(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=Ty(t,"unsubscribe");n&&n.call(t)}}catch(e){Iy(e)}}function Ny(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Py(e,t,n){e._state="running";var r=e._observer;try{var i=Ty(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(Ny(e),!i)throw n;i.call(r,n);break;case"complete":Ny(e),i&&i.call(r)}}catch(e){Iy(e)}"closed"===e._state?Ry(e):"running"===e._state&&(e._state="ready")}function Ay(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Oy((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(Py(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void Py(e,t,n);e._queue.push({type:t,value:n})}}var Dy=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new Ly(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Ny(this),Ry(this))},yy(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Ly=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){Ay(this._subscription,"next",e)},t.error=function(e){Ay(this._subscription,"error",e)},t.complete=function(){Ay(this._subscription,"complete")},yy(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),My=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Dy(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(xy(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(xy(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=xy(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xy(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=xy(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[Sy]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=Ty(t,Sy);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Cy(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(by("iterator")&&(r=Ty(t,Ey)))return new n((function(e){Oy((function(){if(!e.closed){for(var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return vy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vy(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Oy((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){Oy((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},yy(e,null,[{key:ky,get:function(){return this}}]),e}();function Fy(e){return null!==e&&"object"==typeof e}function jy(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new Xg("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Xg(41);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(__DEV__?Zg(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Zg(1===r.length,42),n=r[0].name.value),Sm(Sm({},e),{definitions:Im([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function Vy(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Uy(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?Zg(n,"No fragment named ".concat(e.name.value,".")):Zg(n,43),n;default:return null}}function qy(e){return{__ref:String(e)}}function By(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function zy(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return zy(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return zy(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new Xg('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Xg(52);e[t.value]=null}}_y()&&Object.defineProperty(My,Symbol("extensions"),{value:{symbol:Sy,hostReportError:Iy},configurable:!0});var Wy=["connection","include","skip","client","rest","export"],Hy=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat($y(i),")")}return n.connection.key}var o=e;if(t){var a=$y(t);o+="(".concat(a,")")}return n&&Object.keys(n).forEach((function(e){-1===Wy.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat($y(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=$y;return $y=e,t}}),$y=function(e){return JSON.stringify(e,Qy)};function Qy(e,t){return Fy(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Ky(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return zy(n,r,i,t)})),n}return null}function Gy(e){return e.alias?e.alias.value:e.name.value}function Yy(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(Jy(o)){if("__typename"===o.name.value)return e[Gy(o)]}else{var a=Yy(e,Uy(o,n).selectionSet,n);if("string"==typeof a)return a}}}function Jy(e){return"Field"===e.kind}function Xy(e){return"InlineFragment"===e.kind}function Zy(e){__DEV__?Zg(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Zg(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new Xg('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new Xg(45);return e}));return __DEV__?Zg(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Zg(t.length<=1,46),e}function e_(e){return Zy(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function t_(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function n_(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function r_(e){var t=e_(e);return __DEV__?Zg(t&&"query"===t.operation,"Must contain a query definition."):Zg(t&&"query"===t.operation,47),t}function i_(e){var t;Zy(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new Xg("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Xg(51)}function o_(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&zy(t,e.variable.name,e.defaultValue)})),t}function a_(e,t){return t?t(e):My.of()}function s_(e){return"function"==typeof e?new c_(e):e}function u_(e){return e.request.length<=1}var l_=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return Em(t,e),t}(Error),c_=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return My.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(s_).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=s_(n),o=s_(r||new e(a_));return u_(i)&&u_(o)?new e((function(e){return t(e)?i.request(e)||My.of():o.request(e)||My.of()})):new e((function(e,n){return t(e)?i.request(e,n)||My.of():o.request(e,n)||My.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=Sm({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Sm(Sm({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Sm({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?t_(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new Xg("illegal argument: ".concat(i)):new Xg(24)}return e}(t))))||My.of()},e.concat=function(t,n){var r=s_(t);if(u_(r))return __DEV__&&Zg.warn(new l_("You are calling concat on a terminating link, which will have no effect",r)),r;var i=s_(n);return u_(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||My.of()}))||My.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||My.of()}))||My.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(a_)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new Xg("request is not implemented"):new Xg(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),d_=c_.execute;function h_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}class f_{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class p_{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const m_={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},v_=new Set(Object.keys(m_));function g_(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&v_.has(t)}let y_,__;var b_;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(y_||(y_={})),(b_=__||(__={})).NAME="Name",b_.DOCUMENT="Document",b_.OPERATION_DEFINITION="OperationDefinition",b_.VARIABLE_DEFINITION="VariableDefinition",b_.SELECTION_SET="SelectionSet",b_.FIELD="Field",b_.ARGUMENT="Argument",b_.FRAGMENT_SPREAD="FragmentSpread",b_.INLINE_FRAGMENT="InlineFragment",b_.FRAGMENT_DEFINITION="FragmentDefinition",b_.VARIABLE="Variable",b_.INT="IntValue",b_.FLOAT="FloatValue",b_.STRING="StringValue",b_.BOOLEAN="BooleanValue",b_.NULL="NullValue",b_.ENUM="EnumValue",b_.LIST="ListValue",b_.OBJECT="ObjectValue",b_.OBJECT_FIELD="ObjectField",b_.DIRECTIVE="Directive",b_.NAMED_TYPE="NamedType",b_.LIST_TYPE="ListType",b_.NON_NULL_TYPE="NonNullType",b_.SCHEMA_DEFINITION="SchemaDefinition",b_.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",b_.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",b_.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",b_.FIELD_DEFINITION="FieldDefinition",b_.INPUT_VALUE_DEFINITION="InputValueDefinition",b_.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",b_.UNION_TYPE_DEFINITION="UnionTypeDefinition",b_.ENUM_TYPE_DEFINITION="EnumTypeDefinition",b_.ENUM_VALUE_DEFINITION="EnumValueDefinition",b_.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",b_.DIRECTIVE_DEFINITION="DirectiveDefinition",b_.SCHEMA_EXTENSION="SchemaExtension",b_.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",b_.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",b_.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",b_.UNION_TYPE_EXTENSION="UnionTypeExtension",b_.ENUM_TYPE_EXTENSION="EnumTypeExtension",b_.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const w_=Object.freeze({});function E_(e,t,n=m_){const r=new Map;for(const e of Object.values(__))r.set(e,S_(t,e));let i,o,a,s,u=Array.isArray(e),l=[e],c=-1,d=[];const h=[],f=[];let p=e;do{c++;const e=c===l.length,y=e&&0!==d.length;if(e){if(a=0===f.length?void 0:h[h.length-1],o=s,s=f.pop(),y)if(u){o=o.slice();let e=0;for(const[t,n]of d){const r=t-e;null===n?(o.splice(r,1),e++):o[r]=n}}else{o=Object.defineProperties({},Object.getOwnPropertyDescriptors(o));for(const[e,t]of d)o[e]=t}c=i.index,l=i.keys,d=i.edits,u=i.inArray,i=i.prev}else{if(a=s?u?c:l[c]:void 0,o=s?s[a]:p,null==o)continue;s&&h.push(a)}let _;if(!Array.isArray(o)){var m,v;g_(o)||py(!1,`Invalid AST Node: ${hy(o)}.`);const n=e?null===(m=r.get(o.kind))||void 0===m?void 0:m.leave:null===(v=r.get(o.kind))||void 0===v?void 0:v.enter;if(_=null==n?void 0:n.call(t,o,a,s,h,f),_===w_)break;if(!1===_){if(!e){h.pop();continue}}else if(void 0!==_&&(d.push([a,_]),!e)){if(!g_(_)){h.pop();continue}o=_}}var g;void 0===_&&y&&d.push([a,o]),e?h.pop():(i={inArray:u,index:c,keys:l,edits:d,prev:i},u=Array.isArray(o),l=u?o:null!==(g=n[o.kind])&&void 0!==g?g:[],c=-1,d=[],s&&f.push(s),s=o)}while(void 0!==i);return 0!==d.length&&(p=d[d.length-1][1]),p}function S_(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}var k_=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=__DEV__?new Xg("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new Xg(21);throw r.parseError=e,r}return n},T_=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},x_=Object.prototype.hasOwnProperty;function C_(e){return 9===e||32===e}function I_(e){return e>=48&&e<=57}function O_(e){return e>=97&&e<=122||e>=65&&e<=90}function R_(e){return O_(e)||95===e}function N_(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let t=0;t<e.length;++t){var o;const a=e[t],s=P_(a);s!==a.length&&(r=null!==(o=r)&&void 0!==o?o:t,i=t,0!==t&&s<n&&(n=s))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function P_(e){let t=0;for(;t<e.length&&C_(e.charCodeAt(t));)++t;return t}const A_=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function D_(e){return L_[e.charCodeAt(0)]}const L_=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function M_(e){return E_(e,F_)}const F_={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>j_(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=U_("(",j_(e.variableDefinitions,", "),")"),n=j_([e.operation,j_([e.name,t]),j_(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+U_(" = ",n)+U_(" ",j_(r," "))},SelectionSet:{leave:({selections:e})=>V_(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=U_("",e,": ")+t;let a=o+U_("(",j_(n,", "),")");return a.length>80&&(a=o+U_("(\n",q_(j_(n,"\n")),"\n)")),j_([a,j_(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+U_(" ",j_(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>j_(["...",U_("on ",e),j_(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${U_("(",j_(n,", "),")")} on ${t} ${U_("",j_(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||C_(e.charCodeAt(0)))),a=n.endsWith('\\"""'),s=e.endsWith('"')&&!a,u=e.endsWith("\\"),l=s||u,c=!i||e.length>70||l||o||a;let d="";const h=i&&C_(e.charCodeAt(0));return(c&&!h||o)&&(d+="\n"),d+=n,(c||l)&&(d+="\n"),'"""'+d+'"""'}(e):`"${e.replace(A_,D_)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+j_(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+j_(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+U_("(",j_(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>U_("",e,"\n")+j_(["schema",j_(t," "),V_(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>U_("",e,"\n")+j_(["scalar",t,j_(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>U_("",e,"\n")+j_(["type",t,U_("implements ",j_(n," & ")),j_(r," "),V_(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>U_("",e,"\n")+t+(B_(n)?U_("(\n",q_(j_(n,"\n")),"\n)"):U_("(",j_(n,", "),")"))+": "+r+U_(" ",j_(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>U_("",e,"\n")+j_([t+": "+n,U_("= ",r),j_(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>U_("",e,"\n")+j_(["interface",t,U_("implements ",j_(n," & ")),j_(r," "),V_(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>U_("",e,"\n")+j_(["union",t,j_(n," "),U_("= ",j_(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>U_("",e,"\n")+j_(["enum",t,j_(n," "),V_(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>U_("",e,"\n")+j_([t,j_(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>U_("",e,"\n")+j_(["input",t,j_(n," "),V_(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>U_("",e,"\n")+"directive @"+t+(B_(n)?U_("(\n",q_(j_(n,"\n")),"\n)"):U_("(",j_(n,", "),")"))+(r?" repeatable":"")+" on "+j_(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>j_(["extend schema",j_(e," "),V_(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>j_(["extend scalar",e,j_(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>j_(["extend type",e,U_("implements ",j_(t," & ")),j_(n," "),V_(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>j_(["extend interface",e,U_("implements ",j_(t," & ")),j_(n," "),V_(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>j_(["extend union",e,j_(t," "),U_("= ",j_(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>j_(["extend enum",e,j_(t," "),V_(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>j_(["extend input",e,j_(t," "),V_(n)]," ")}};function j_(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function V_(e){return U_("{\n",q_(j_(e,"\n")),"\n}")}function U_(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function q_(e){return U_("  ",e.replace(/\n/g,"\n  "))}function B_(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var z_={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},W_=function(e,t){return t(e)};function H_(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach((function(e){i=Sm(Sm(Sm({},i),e.options),{headers:Sm(Sm({},i.headers),$_(e.headers))}),e.credentials&&(i.credentials=e.credentials),o=Sm(Sm({},o),e.http)}));var a=e.operationName,s=e.extensions,u=e.variables,l=e.query,c={operationName:a,variables:u};return o.includeExtensions&&(c.extensions=s),o.includeQuery&&(c.query=t(l,M_)),{options:i,body:c}}function $_(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function Q_(e){return new My((function(t){t.error(e)}))}var K_=iy((function(){return fetch})),G_=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,o=void 0===i?W_:i,a=e.includeExtensions,s=e.useGETForQueries,u=e.includeUnusedVariables,l=void 0!==u&&u,c=km(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw __DEV__?new Xg("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new Xg(20)}(r||K_);var d={http:{includeExtensions:a},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new c_((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),a={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,h=u.version;c&&(a["apollographql-client-name"]=c),h&&(a["apollographql-client-version"]=h)}var f,p=Sm(Sm({},a),i.headers),m={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},v=H_(e,o,z_,d,m),g=v.options,y=v.body;if(y.variables&&!l){var _=new Set(Object.keys(y.variables));E_(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&_.delete(e.name.value)}}),_.size&&(y.variables=Sm({},y.variables),_.forEach((function(e){delete y.variables[e]})))}if(!g.signal){var b=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=b.controller,E=b.signal;(f=w)&&(g.signal=E)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(g.method="GET"),"GET"===g.method){var S=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=k_(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=k_(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var l=-1===s.indexOf("?")?"?":"&";return{newURI:s+l+n.join("&")+a}}(t,y),k=S.newURI,T=S.parseError;if(T)return Q_(T);t=k}else try{g.body=k_(y,"Payload")}catch(T){return Q_(T)}return new My((function(n){var i;return(r||iy((function(){return fetch}))||K_)(t,g).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&T_(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||x_.call(t,"data")||x_.call(t,"errors")||T_(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))}(t).request)||this;return n.options=t,n}return Em(t,e),t}(c_),Y_=Object.prototype,J_=Y_.toString,X_=Y_.hasOwnProperty,Z_=Function.prototype.toString,eb=new Map;function tb(e,t){try{return nb(e,t)}finally{eb.clear()}}function nb(e,t){if(e===t)return!0;var n,r,i,o=J_.call(e);if(o!==J_.call(t))return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(ab(e,t))return!0;var a=rb(e),s=rb(t),u=a.length;if(u!==s.length)return!1;for(var l=0;l<u;++l)if(!X_.call(t,a[l]))return!1;for(l=0;l<u;++l){var c=a[l];if(!nb(e[c],t[c]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(ab(e,t))return!0;for(var d=e.entries(),h="[object Map]"===o;;){var f=d.next();if(f.done)break;var p=f.value,m=p[0],v=p[1];if(!t.has(m))return!1;if(h&&!nb(v,t.get(m)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var g=e.byteLength;if(g===t.byteLength)for(;g--&&e[g]===t[g];);return-1===g;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var y=Z_.call(e);return y===Z_.call(t)&&(r=ob,!((i=(n=y).length-r.length)>=0&&n.indexOf(r,i)===i))}return!1}function rb(e){return Object.keys(e).filter(ib,e)}function ib(e){return void 0!==this[e]}var ob="{ [native code] }";function ab(e,t){var n=eb.get(e);if(n){if(n.has(t))return!0}else eb.set(e,n=new Set);return n.add(t),!1}var sb,ub,lb=function(){return Object.create(null)},cb=Array.prototype,db=cb.forEach,hb=cb.slice,fb=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=lb),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return db.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(hb.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}(),pb="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),mb="function"==typeof WeakSet,vb="function"==typeof Symbol&&"function"==typeof Symbol.for,gb=function(){function e(){this.known=new(mb?WeakSet:Set),this.pool=new fb(pb),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Fy(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Fy(e)){var t=function(e){return Fy(e)?Array.isArray(e)?e.slice(0):Sm({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Fy(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],a=this.sortedKeys(e);o.push(a.json);var s,u=o.length;if(a.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(o)).object){var l=s.object=Object.create(i);this.known.add(l),a.sorted.forEach((function(e,t){l[e]=o[u+t]})),__DEV__&&Object.freeze(l)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),yb=Object.assign((function(e){if(Fy(e)){void 0===sb&&_b();var t=sb.admit(e),n=ub.get(t);return void 0===n&&ub.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:_b});function _b(){sb=new gb,ub=new(pb?WeakMap:Map)}function bb(e,t,n){return new My((function(r){var i=r.next,o=r.error,a=r.complete,s=0,u=!1,l={then:function(e){return new Promise((function(t){return t(e())}))}};function c(e,t){return e?function(t){++s;var n=function(){return e(t)};l=l.then(n,n).then((function(e){--s,i&&i.call(r,e),u&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:c(t,i),error:c(n,o),complete:function(){u=!0,s||a&&a.call(r)}},h=e.subscribe(d);return function(){return h.unsubscribe()}}))}function wb(e){return e.errors&&e.errors.length>0||!1}function Eb(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var Sb={kind:"Field",name:{kind:"Name",value:"__typename"}};function kb(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&kb(t[e.name.value],t)}))}function Tb(e){return kb(e_(e)||function(e){__DEV__?Zg("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Zg("Document"===e.kind,48),__DEV__?Zg(e.definitions.length<=1,"Fragment must have exactly one definition."):Zg(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?Zg("FragmentDefinition"===t.kind,"Must be a fragment definition."):Zg("FragmentDefinition"===t.kind,50),t}(e),Vy(n_(e)))?null:e}function xb(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function Cb(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],a=Tb(E_(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(xb(e)))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&Rb(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(xb(e)(t))return null}}}));return a&&Eb(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return Tb(E_(t,{OperationDefinition:{enter:function(t){return Sm(Sm({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&Eb(o,(function(e){return!!e.name&&!i[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return Tb(E_(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,a)),a}var Ib=Object.assign((function(e){return E_(Zy(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some((function(e){return Jy(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(Jy(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Sm(Sm({},e),{selections:Im(Im([],r,!0),[Sb],!1)})}}}}})}),{added:function(e){return e===Sb}}),Ob={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&Zg.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function Rb(e){var t=[];return e.selections.forEach((function(e){(Jy(e)||Xy(e))&&e.selectionSet?Rb(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function Nb(e){if("query"===i_(e).operation)return e;var t=E_(e,{OperationDefinition:{enter:function(e){return Sm(Sm({},e),{operation:"query"})}}});return t}function Pb(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?Zg(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):Zg(n&&1===n.length,38);var i=n[0];__DEV__?Zg(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):Zg(i.name&&"if"===i.name.value,39);var o=i.value;__DEV__?Zg(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):Zg(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:i})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?Zg(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):Zg(void 0!==i,37)):i=r.value.value,"skip"===n.name.value?!i:i}))}function Ab(e,t){return function(e){var t=[];return E_(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Db(e){return e&&Ab(["client"],e)&&Ab(["export"],e)}var Lb=new Map;function Mb(e){var t=Lb.get(e)||1;return Lb.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function Fb(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function jb(e){function t(t){Object.defineProperty(e,t,{value:My})}return vb&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Vb(e){return e&&"function"==typeof e.then}var Ub=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],Fb(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),Fb(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?Vb(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),Fb(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new My(t)]),Vb(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return Em(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(My);function qb(e){return Array.isArray(e)&&e.length>0}jb(Ub);var Bb,zb=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.clientErrors,s=n.networkError,u=n.errorMessage,l=n.extraInfo,c=e.call(this,u)||this;return c.graphQLErrors=o||[],c.clientErrors=a||[],c.networkError=s||null,c.message=u||(i="",(qb((r=c).graphQLErrors)||qb(r.clientErrors))&&(r.graphQLErrors||[]).concat(r.clientErrors||[]).forEach((function(e){var t=e?e.message:"Error message not found.";i+="".concat(t,"\n")})),r.networkError&&(i+="".concat(r.networkError.message,"\n")),i=i.replace(/\n$/,"")),c.extraInfo=l,c.__proto__=t.prototype,c}return Em(t,e),t}(Error);function Wb(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Bb||(Bb={}));var Hb=Object.prototype.toString;function $b(e){return Qb(e)}function Qb(e,t){switch(Hb.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Qb(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Qb(e[n],t)})),r;default:return e}}var Kb=Object.assign,Gb=Object.hasOwnProperty,Yb=!1,Jb=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Xb)}catch(e){}var n=!o.observers.size;o.observers.add(e);var r=o.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=i,o.queryId=r.queryId||n.generateQueryId();var a=e_(i.query);return o.queryName=a&&a.name&&a.name.value,o.initialFetchPolicy=i.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return Em(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Bb.ready,r=Sm(Sm({},t),{loading:Wb(n),networkStatus:n}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),tb(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==Bb.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=Bb.ready,r.loading=!1)):r.partial=!0,!__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||Zb(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!tb(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||tb(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="standby"===r||"cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&Gb.call(e,"variables")){var i=r_(this.options.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&Zg.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!tb(this.options.variables,e)&&(n.variables=this.options.variables=Sm(Sm({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Bb.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Sm(Sm({},e.query?e:Sm(Sm(Sm({},this.options),e),{variables:Sm(Sm({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Bb.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,Bb.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?(__DEV__&&!Yb&&(__DEV__&&Zg.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Yb=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&Zg.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return tb(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Bb.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?Zg(n,"Attempted to start a polling query without a polling interval."):Zg(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Wb(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"network-only"},Bb.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=Sm(Sm({},this.last),{result:this.queryManager.assumeImmutableResults?e:$b(e),variables:t}),qb(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Bb.refetch||t===Bb.fetchMore||t===Bb.poll,i=this.options.variables,o=r?h_(this.options,e):Kb(this.options,h_(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!tb(e.variables,i)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Bb.setVariables)));var a=o.variables&&Sm({},o.variables),s=this.fetch(o,t),u={next:function(e){n.reportResult(e,a)},error:function(e){n.reportError(e,a)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=s,this.observer=u),s.addObserver(u),s.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),Fb(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=Sm(Sm({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Bb.error,loading:!1});this.updateLastResult(n,t),Fb(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(My);function Xb(e){__DEV__&&Zg.error("Unhandled error",e.message,e.stack)}function Zb(e){__DEV__&&e&&__DEV__&&Zg.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}jb(Jb);var ew=Object.prototype.hasOwnProperty;function tw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return nw(e)}function nw(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new iw,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var rw=function(e,t,n){return this.merge(e[n],t[n])},iw=function(){function e(e){void 0===e&&(e=rw),this.reconciler=e,this.isObject=Fy,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return Fy(t)&&Fy(e)?(Object.keys(t).forEach((function(i){if(ew.call(e,i)){var o=e[i];if(t[i]!==o){var a=n.reconciler.apply(n,Im([e,t,i],r,!1));a!==o&&((e=n.shallowCopyForMerge(e))[i]=a)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(Fy(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):Sm({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),ow=null,aw={},sw=1,uw="@wry/context:Slot",lw=Array,cw=lw[uw]||function(){var e=function(){function e(){this.id=["slot",sw++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=ow;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===aw)break;return e!==ow&&(ow.slots[this.id]=t),!0}return ow&&(ow.slots[this.id]=aw),!1},e.prototype.getValue=function(){if(this.hasValue())return ow.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=ow;ow={parent:a,slots:o};try{return t.apply(r,n)}finally{ow=a}},e.bind=function(e){var t=ow;return function(){var n=ow;try{return ow=t,e.apply(this,arguments)}finally{ow=n}}},e.noContext=function(e,t,n){if(!ow)return e.apply(n,t);var r=ow;try{return ow=null,e.apply(n,t)}finally{ow=r}},e}();try{Object.defineProperty(lw,uw,{value:lw[uw]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function dw(){}cw.bind,cw.noContext;var hw,fw=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=dw),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),pw=new cw,mw=Object.prototype.hasOwnProperty,vw=void 0===(hw=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:hw;function gw(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var yw=[];function _w(e,t){if(!e)throw new Error(t||"assertion failure")}function bw(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var ww=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!kw(this))return Ew(this),this.value[0]},e.prototype.recompute=function(e){return _w(!this.recomputing,"already recomputing"),Ew(this),kw(this)?function(e,t){return Nw(e),pw.withValue(e,Sw,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{gw(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,kw(e)||xw(e)}(e),bw(e.value)}(this,e):bw(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Tw(this),gw(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),Nw(this),Cw(this,(function(t,n){t.setDirty(),Pw(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=yw.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(vw(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),yw.push(this.deps),this.deps=null)},e.count=0,e}();function Ew(e){var t=pw.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),kw(e)?Iw(t,e):Ow(t,e),t}function Sw(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function kw(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Tw(e){Cw(e,Iw)}function xw(e){Cw(e,Ow)}function Cw(e,t){var n=e.parents.size;if(n)for(var r=vw(e.parents),i=0;i<n;++i)t(r[i],e)}function Iw(e,t){_w(e.childValues.has(t)),_w(kw(t));var n=!kw(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=yw.pop()||new Set;e.dirtyChildren.add(t),n&&Tw(e)}function Ow(e,t){_w(e.childValues.has(t)),_w(!kw(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),Rw(e,t),kw(e)||xw(e)}function Rw(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(yw.length<100&&yw.push(n),e.dirtyChildren=null))}function Nw(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){Pw(e,n)})),e.forgetDeps(),_w(null===e.dirtyChildren)}function Pw(e,t){t.parents.delete(e),e.childValues.delete(t),Rw(e,t)}var Aw={setDirty:!0,dispose:!0,forget:!0};function Dw(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=pw.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(gw(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&mw.call(Aw,n)?n:"setDirty";vw(r).forEach((function(e){return e[i]()})),t.delete(e),gw(r)}},r}function Lw(){var e=new fb("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}Lw();var Mw=new Set;function Fw(e,t){void 0===t&&(t=Object.create(null));var n=new fw(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||Lw(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var a=n.get(o);a||(n.set(o,a=new ww(e)),a.subscribe=t.subscribe,a.forget=function(){return n.delete(o)});var s=a.recompute(Array.prototype.slice.call(arguments));return n.set(o,a),Mw.add(n),pw.hasValue()||(Mw.forEach((function(e){return e.clean()})),Mw.clear()),s};function a(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function u(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))},o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))},o.forgetKey=u,o.forget=function(){return u(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var jw=new cw,Vw=new WeakMap;function Uw(e){var t=Vw.get(e);return t||Vw.set(e,t={vars:new Set,dep:Dw()}),t}function qw(e){Uw(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Bw(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Uw(e).dep.dirty(r),zw(e)}));var a=Array.from(n);n.clear(),a.forEach((function(t){return t(e)}))}}else{var s=jw.getValue();s&&(i(s),Uw(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),Uw(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function zw(e){e.broadcastWatches&&e.broadcastWatches()}var Ww=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=tw(t.resolvers,e)})):this.resolvers=tw(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return Tm(this,void 0,void 0,(function(){return xm(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return Sm(Sm({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Ab(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){Zy(e);var t=Cb([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=E_(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return Jy(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Sm(Sm({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Tm(this,void 0,void 0,(function(){return xm(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Sm(Sm({},t),e.exportedVariables)}))]:[2,Sm({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return E_(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return w_}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Nb(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),Tm(this,void 0,void 0,(function(){var a,s,u,l,c,d,h,f,p;return xm(this,(function(m){return a=i_(e),s=n_(e),u=Vy(s),l=a.operation,c=l?l.charAt(0).toUpperCase()+l.slice(1):"Query",h=(d=this).cache,f=d.client,p={fragmentMap:u,context:Sm(Sm({},n),{cache:h,client:f}),variables:r,fragmentMatcher:i,defaultOperationType:c,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return Tm(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return xm(this,(function(l){return r=n.fragmentMap,i=n.context,o=n.variables,a=[t],s=function(e){return Tm(u,void 0,void 0,(function(){var s,u;return xm(this,(function(l){return Pb(e,o)?Jy(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&a.push(((n={})[Gy(e)]=t,n))}))]:(Xy(e)?s=e:(s=r[e.name.value],__DEV__?Zg(s,"No fragment named ".concat(e.name.value)):Zg(s,9)),s&&s.typeCondition&&(u=s.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return nw(a)}))]}))}))},e.prototype.resolveField=function(e,t,n){return Tm(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,d,h=this;return xm(this,(function(f){return r=n.variables,i=e.name.value,o=Gy(e),a=i!==o,s=t[o]||t[i],u=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(l=t.__typename||n.defaultOperationType,(c=this.resolvers&&this.resolvers[l])&&(d=c[a?i:o])&&(u=Promise.resolve(jw.withValue(this.cache,d,[t,Ky(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),Hw=new(pb?WeakMap:Map);function $w(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return Hw.set(e,(Hw.get(e)+1)%1e15),n.apply(this,arguments)})}function Qw(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Kw=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Hw.has(n)||(Hw.set(n,0),$w(n,"evict"),$w(n,"modify"),$w(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Bb.loading;return this.variables&&this.networkStatus!==Bb.loading&&!tb(this.variables,e.variables)&&(t=Bb.setVariables),tb(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Qw(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&tb(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||tb(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Qw(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Wb(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=Sm(Sm({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&tb(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Hw.get(this.cache)&&tb(t,n.variables)&&tb(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=qb(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(Gw(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(r.shouldWrite(e,t.variables))i.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:Hw.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),a=i.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(a,o),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Bb.ready},e.prototype.markError=function(e){return this.networkStatus=Bb.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Gw(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!wb(e);return!r&&n&&e.data&&(r=!0),r}var Yw=Object.prototype.hasOwnProperty,Jw=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,a=e.ssrMode,s=void 0!==a&&a,u=e.clientAwareness,l=void 0===u?{}:u,c=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(pb?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=l,this.localState=c||new Ww({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!d,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new Xg("QueryManager stopped while query was in flight"):new Xg(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,a=void 0===o?[]:o,s=e.awaitRefetchQueries,u=void 0!==s&&s,l=e.update,c=e.onQueryUpdated,d=e.errorPolicy,h=void 0===d?"none":d,f=e.fetchPolicy,p=void 0===f?"network-only":f,m=e.keepRootFields,v=e.context;return Tm(this,void 0,void 0,(function(){var e,o,s;return xm(this,(function(d){switch(d.label){case 0:return __DEV__?Zg(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):Zg(t,12),__DEV__?Zg("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Zg("network-only"===p||"no-cache"===p,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:p,errorPolicy:h,context:v,updateQueries:i,update:l,keepRootFields:m}),this.broadcastQueries(),s=this,[2,new Promise((function(d,f){return bb(s.getObservableFromLink(t,Sm(Sm({},v),{optimisticResponse:r}),n,!1),(function(d){if(wb(d)&&"none"===h)throw new zb({graphQLErrors:d.errors});o&&(o.loading=!1,o.error=null);var f=Sm({},d);return"function"==typeof a&&(a=a(f)),"ignore"===h&&wb(f)&&delete f.errors,s.markMutationResult({mutationId:e,result:f,document:t,variables:n,fetchPolicy:p,errorPolicy:h,context:v,update:l,updateQueries:i,awaitRefetchQueries:u,refetchQueries:a,removeOptimistic:r?e:void 0,onQueryUpdated:c,keepRootFields:m})})).subscribe({next:function(e){s.broadcastQueries(),d(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&s.cache.removeOptimistic(e),s.broadcastQueries(),f(t instanceof zb?t:new zb({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&Gw(r,e.errorPolicy)){i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var a=e.updateQueries;a&&this.queries.forEach((function(e,o){var s=e.observableQuery,u=s&&s.queryName;if(u&&Yw.call(a,u)){var l=a[u],c=n.queries.get(o),d=c.document,h=c.variables,f=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),p=f.result;if(f.complete&&p){var m=l(p,{mutationResult:r,queryName:d&&t_(d)||void 0,queryVariables:h});m&&i.push({result:m,dataId:"ROOT_QUERY",query:d,variables:h})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var a=e.update;if(a){if(!o){var s=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});s.complete&&(r=Sm(Sm({},r),{data:s.result}))}a(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Sm(Sm({},t),{result:{data:r}}),e)}catch(e){__DEV__&&Zg.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),Cb([Ob],Zy(t))),o=this.localState.clientQuery(r),a=i&&this.localState.serverQuery(i),s={document:r,hasClientExports:Db(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:a,defaultVars:o_(e_(r)),asQuery:Sm(Sm({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Sm(Sm({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,s)};u(e),u(r),u(o),u(a)}return n.get(e)},e.prototype.getVariables=function(e,t){return Sm(Sm({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=Sm(Sm({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Kw(this),n=new Jb({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?Zg(e.query,"query option is required. You must specify your GraphQL document in the query option."):Zg(e.query,14),__DEV__?Zg("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):Zg("Document"===e.query.kind,15),__DEV__?Zg(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):Zg(!e.returnPartialData,16),__DEV__?Zg(!e.pollInterval,"pollInterval option only supported on watchQuery."):Zg(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Xg("Store reset while query was in flight (not completed in link chain)"):new Xg(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Bb.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):Fy(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):Fy(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,a=t.document;if(o){if("all"===e)return void n.set(i,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&r.has(s)||a&&r.has(a))&&(n.set(i,o),s&&r.set(s,!0),a&&r.set(a,!0))}})),i.size&&i.forEach((function(e){var r=Mb("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new Jb({queryManager:t,queryInfo:i,options:Sm(Sm({},e),{fetchPolicy:"network-only"})});Zg(o.queryId===r),i.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&Zg.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,a=e.context,s=void 0===a?{}:a;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,s,e).map((function(o){if("no-cache"!==r&&(Gw(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),wb(o))throw new zb({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var l=this.localState.addExportedVariables(n,o,s).then(u);return new My((function(e){var t=null;return l.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o,a=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var u=this.inFlightLinkObservables,l=this.link,c={query:s,variables:n,operationName:t_(s)||void 0,context:this.prepareContext(Sm(Sm({},t),{forceFetch:!r}))};if(t=c.context,r){var d=u.get(s)||new Map;u.set(s,d);var h=yb(n);if(!(o=d.get(h))){var f=new Ub([d_(l,c)]);d.set(h,o=f),f.cleanup((function(){d.delete(h)&&d.size<1&&u.delete(s)}))}}else o=new Ub([d_(l,c)])}else o=new Ub([My.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=bb(o,(function(e){return a.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return bb(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=qb(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new zb({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var a={data:i.data,loading:!1,networkStatus:e.networkStatus||Bb.ready};return o&&"ignore"!==n.errorPolicy&&(a.errors=i.errors),a}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new zb({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Bb.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),a=this.getQuery(e),s=t.fetchPolicy,u=void 0===s?"cache-first":s,l=t.errorPolicy,c=void 0===l?"none":l,d=t.returnPartialData,h=void 0!==d&&d,f=t.notifyOnNetworkStatusChange,p=void 0!==f&&f,m=t.context,v=void 0===m?{}:m,g=Object.assign({},t,{query:i,variables:o,fetchPolicy:u,errorPolicy:c,returnPartialData:h,notifyOnNetworkStatusChange:p,context:v}),y=function(e){return g.variables=e,r.fetchQueryByPolicy(a,g,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return _.cancel(e)}))}));var _=new Ub(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(y):y(g.variables));return _.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"==typeof r?r.call(e,n):r)}(t)})),_},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,a=e.removeOptimistic,s=void 0===a?o?Mb("refetchQueries"):void 0:a,u=e.onQueryUpdated,l=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){l.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var c=new Map;return n&&this.cache.batch({update:n,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Kw&&e.watcher.observableQuery;if(r){if(u){l.delete(r.queryId);var i=u(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&c.set(r,i),i}null!==u&&l.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),l.size&&l.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,a=e.diff;if(u){if(!a){var s=i.queryInfo;s.reset(),a=s.getDiff()}r=u(i,a,o)}u&&!0!==r||(r=i.refetch()),!1!==r&&c.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),c},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,o=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,u=t.errorPolicy,l=t.returnPartialData,c=t.context,d=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var f=function(){return e.getDiff(o)},p=function(t,n){void 0===n&&(n=e.networkStatus||Bb.loading);var a=t.result;!__DEV__||l||tb(a,{})||Zb(t.missing);var s=function(e){return My.of(Sm({data:e,loading:Wb(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:a},context:c,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):s(a)},m="no-cache"===a?0:n===Bb.refetch&&"merge"!==s?1:2,v=function(){return r.getResultsFromLink(e,m,{variables:o,context:c,fetchPolicy:a,errorPolicy:u})},g=d&&"number"==typeof h&&h!==n&&Wb(n);switch(a){default:case"cache-first":return(y=f()).complete?[p(y,e.markReady())]:l||g?[p(y),v()]:[v()];case"cache-and-network":var y;return(y=f()).complete||l||g?[p(y),v()]:[v()];case"cache-only":return[p(f(),e.markReady())];case"network-only":return g?[p(f()),v()]:[v()];case"no-cache":return g?[p(e.getDiff()),v()]:[v()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Kw(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Sm(Sm({},t),{clientAwareness:this.clientAwareness})},e}(),Xw=!1;function Zw(e,t){return h_(e,t,t.variables&&{variables:Sm(Sm({},e.variables),t.variables)})}var eE=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,a=e.ssrMode,s=void 0!==a&&a,u=e.ssrForceFetchDelay,l=void 0===u?0:u,c=e.connectToDevTools,d=void 0===c?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:c,h=e.queryDeduplication,f=void 0===h||h,p=e.defaultOptions,m=e.assumeImmutableResults,v=void 0!==m&&m,g=e.resolvers,y=e.typeDefs,_=e.fragmentMatcher,b=e.name,w=e.version,E=e.link;if(E||(E=n?new G_({uri:n,credentials:r,headers:i}):c_.empty()),!o)throw __DEV__?new Xg("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new Xg(7);if(this.link=E,this.cache=o,this.disableNetworkFetches=s||l>0,this.queryDeduplication=f,this.defaultOptions=p||{},this.typeDefs=y,l&&setTimeout((function(){return t.disableNetworkFetches=!1}),l),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Xw&&__DEV__&&(Xw=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var S=window.navigator,k=S&&S.userAgent,T=void 0;"string"==typeof k&&(k.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":k.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&Zg.log("Download the Apollo DevTools for a better development experience: "+T)}this.version="3.5.6",this.localState=new Ww({cache:o,client:this,resolvers:g,fragmentMatcher:_}),this.queryManager=new Jw({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:s,clientAwareness:{name:b,version:w},localState:this.localState,assumeImmutableResults:v,onBroadcast:d?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Zw(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Sm(Sm({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Zw(this.defaultOptions.query,e)),__DEV__?Zg("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Zg("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Sm(Sm({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Zw(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return d_(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&Zg.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),tE=function(){function e(){this.getFragmentDoc=Fw(jy)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Sm(Sm({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Sm(Sm({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=km(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=km(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return null==i?r:(n.writeQuery(Sm(Sm({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return null==i?r:(n.writeFragment(Sm(Sm({},e),{data:i})),i)}})},e}(),nE=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function rE(e){return __DEV__&&(t=e,(n=new Set([t])).forEach((function(e){Fy(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){Fy(e[t])&&n.add(e[t])}))}))),e;var t,n}var iE=Object.prototype.hasOwnProperty;function oE(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var aE={dataIdFromObject:oE,addTypename:!0,resultCaching:!0,canonizeResults:!1};function sE(e){var t=e.canonizeResults;return void 0===t?aE.canonizeResults:t}var uE=/^[_a-z][_0-9a-z]*/i;function lE(e){var t=e.match(uE);return t?t[0]:e}function cE(e,t,n){return!!Fy(t)&&(Array.isArray(t)?t.every((function(t){return cE(e,t,n)})):e.selections.every((function(e){if(Jy(e)&&Pb(e,n)){var r=Gy(e);return iE.call(t,r)&&(!e.selectionSet||cE(e.selectionSet,t[r],n))}return!0})))}function dE(e){return Fy(e)&&!By(e)&&!Array.isArray(e)}var hE=Object.create(null),fE=function(){return hE},pE=Object.create(null),mE=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return rE(By(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return By(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return qy(e);if(By(e))return e;var r=n.policies.identify(e)[0];if(r){var i=qy(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return Sm({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),iE.call(this.data,e)){var n=this.data[e];if(n&&iE.call(n,t))return n[t]}return"__typename"===t&&iE.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof _E?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),iE.call(this.data,e)?this.data[e]:this instanceof _E?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;By(e)&&(e=e.__ref),By(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){__DEV__?Zg("string"==typeof n,"store.merge expects a string ID"):Zg("string"==typeof n,1);var a=new iw(wE).merge(i,o);if(this.data[n]=a,a!==i&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=lE(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||r instanceof _E||delete a[e]}})),!s.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s={DELETE:hE,INVALIDATE:pE,isReference:By,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||qy(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var l=lE(u),c=r[u];if(void 0!==c){var d="function"==typeof t?t:t[u]||t[l];if(d){var h=d===fE?hE:d(rE(c),Sm(Sm({},s),{fieldName:l,storeFieldName:u,storage:n.getStorage(e,u)}));h===pE?n.group.dirty(e,u):(h===hE&&(h=void 0),h!==c&&(i[u]=h,o=!0,c=h))}void 0!==c&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof _E?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=fE,r):fE)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(iE.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof _E&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){iE.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&iE.call(e,n)||t.delete(n)})),e){var n=e.__META,r=km(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof _E?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){iE.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof _E;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!iE.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){By(e)&&(t[e.__ref]=!0),Fy(e)&&Object.keys(e).forEach((function(t){var n=e[t];Fy(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),vE=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Dw():null,this.keyMaker=new fb(pb)},e.prototype.depend=function(e,t){if(this.d){this.d(gE(e,t));var n=lE(t);n!==t&&this.d(gE(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(gE(e,t),"__exists"===t?"forget":"setDirty")},e}();function gE(e,t){return t+"#"+e}function yE(e,t){EE(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,a=e.call(this,n,new vE(i))||this;return a.stump=new bE(a),a.storageTrie=new fb(pb),o&&a.replace(o),a}return Em(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(mE||(mE={}));var _E=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return Em(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){tb(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Sm(Sm({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return iE.call(this.data,t)?Sm(Sm({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(mE),bE=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new vE(t.group.caching,t.group))||this}return Em(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(_E);function wE(e,t,n){var r=e[n],i=t[n];return tb(r,i)?r:i}function EE(e){return!!(e instanceof mE&&e.group.caching)}function SE(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var kE=function(){function e(e){var t=this;this.knownResults=new(pb?WeakMap:Map),this.config=h_(e,{addTypename:!1!==e.addTypename,canonizeResults:sE(e)}),this.canon=e.canon||new gb,this.executeSelectionSet=Fw((function(e){var n,r=e.context.canonizeResults,i=SE(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?Sm(Sm({},o),{result:t.canon.admit(o.result)}):o:(yE(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:SE,makeCacheKey:function(e,t,n,r){if(EE(n.store))return n.store.makeCacheKey(e,By(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Fw((function(e){return yE(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(EE(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new gb},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,a=e.returnPartialData,s=void 0===a||a,u=e.canonizeResults,l=void 0===u?this.config.canonizeResults:u,c=this.config.cache.policies;o=Sm(Sm({},o_(r_(n))),o);var d,h=qy(i),f=new iw,p=this.executeSelectionSet({selectionSet:i_(n).selectionSet,objectOrReference:h,enclosingRef:h,context:{store:t,query:n,policies:c,variables:o,varString:yb(o),canonizeResults:l,fragmentMap:Vy(n_(n)),merge:function(e,t){return f.merge(e,t)}}});if(p.missing&&(d=[new nE(TE(p.missing),p.missing,n,o)],!s))throw d[0];return{result:p.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,n,r){if(EE(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(By(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var a,s=o.variables,u=o.policies,l=o.store.getFieldValue(r,"__typename"),c={};function d(e,t){var n;return e.missing&&(a=o.merge(a,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof l&&!u.rootIdsByTypename[l]&&(c={__typename:l});var h=new Set(n.selections);h.forEach((function(e){var n,f;if(Pb(e,s))if(Jy(e)){var p=u.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=Gy(e);void 0===p?Ib.added(e)||(a=o.merge(a,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(By(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Array.isArray(p)?p=d(t.executeSubSelectedArray({field:e,array:p,enclosingRef:i,context:o}),m):e.selectionSet?null!=p&&(p=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:p,enclosingRef:By(p)?p:i,context:o}),m)):o.canonizeResults&&(p=t.canon.pass(p)),void 0!==p&&(c=o.merge(c,((f={})[m]=p,f)))}else{var v=Uy(e,o.fragmentMap);v&&u.fragmentMatches(v,l)&&v.selectionSet.selections.forEach(h.add,h)}}));var f={result:c,missing:a},p=o.canonizeResults?this.canon.admit(f):rE(f);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,a=e.context;function s(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:Array.isArray(e)?s(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:a}),t):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:By(e)?e:o,context:a}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){Fy(n)&&(__DEV__?Zg(!By(n),"Missing selection set for object of type ".concat(function(e,t){return By(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):Zg(!By(n),5),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function TE(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var xE=Object.create(null);function CE(e){var t=JSON.stringify(e);return xE[t]||(xE[t]=Object.create(null))}function IE(e){var t=CE(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=RE(e,(function(e){var i=AE(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&iE.call(t,e[0])&&(i=AE(t,e,PE)),__DEV__?Zg(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):Zg(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function OE(e){var t=CE(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,a=RE(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return AE(t,e)}else{var a=n.slice(1);if(i&&iE.call(i,a)){var s=e.slice(0);return s[0]=a,AE(i,s)}}else if(r&&qb(r.directives)){var u=n.slice(1),l=r.directives.find((function(e){return e.name.value===u})),c=l&&Ky(l,i);return c&&AE(c,e.slice(1))}})),s=JSON.stringify(a);return(t||"{}"!==s)&&(o+=":"+s),o})}function RE(e,t){var n=new iw;return NE(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var a=r.length-1;a>=0;--a)(i={})[r[a]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function NE(e){var t=CE(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){Array.isArray(t)?(NE(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Array.isArray(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function PE(e,t){return e[t]}function AE(e,t,n){return n=n||PE,DE(t.reduce((function e(t,r){return Array.isArray(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function DE(e){return Fy(e)?Array.isArray(e)?e.map(DE):RE(Object.keys(e).sort(),(function(t){return AE(e,t)})):e}function LE(e){return void 0!==e.args?e.args:e.field?Ky(e.field,e.variables):null}Hy.setStringify(yb);var ME=function(){},FE=function(e,t){return t.fieldName},jE=function(e,t,n){return(0,n.mergeObjects)(e,t)},VE=function(e,t){return t},UE=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Sm({dataIdFromObject:oE},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a=t&&t.storeObject||e,s=Sm(Sm({},t),{typename:i,storeObject:a,readField:t&&t.readField||function(){var e=BE(arguments,a);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=i&&this.getTypePolicy(i),l=u&&u.keyFn||this.config.dataIdFromObject;l;){var c=l(e,s);if(!Array.isArray(c)){o=c;break}l=IE(c)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,a=r.subscriptionType,s=km(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),iE.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?jE:!1===t?VE:e.merge}a(r,t.merge),r.keyFn=!1===i?ME:Array.isArray(i)?IE(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var s=i.keyArgs,u=i.read,l=i.merge;r.keyFn=!1===s?FE:Array.isArray(s)?OE(s):"function"==typeof s?s:r.keyFn,"function"==typeof u&&(r.read=u),a(r,l)}r.read&&r.merge&&(r.keyFn=r.keyFn||FE)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?Zg(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):Zg(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(uE);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!iE.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=km(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},l=!(!n||!this.fuzzySubtypes.size),c=!1,d=0;d<s.length;++d){var h=s[d];if(h.has(o))return a.has(o)||(c&&__DEV__&&Zg.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),a.add(o)),!0;h.forEach(u),l&&d===s.length-1&&cE(e.selectionSet,n,r)&&(l=!1,c=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=LE(e);o;){var u=o(s,a);if(!Array.isArray(u)){t=u||r;break}o=OE(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return zy(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return zy(r,n,i,t)}))),Hy(e.name.value,r,n)}(e.field,e.variables):Hy(r,LE(e))),!1===t?r:r===lE(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=lE(i),a=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,o,!1),u=s&&s.read;if(u){var l=qE(this,n,e,t,t.store.getStorage(By(n)?n.__ref:n,i));return jw.withValue(this.cache,u,[a,l])}return a}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,a=n.typename,s=n.merge;return s===jE?zE(r.store)(e,t):s===VE?t:(r.overwrite&&(e=void 0),s(e,t,qE(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function qE(e,t,n,r,i){var o=e.getStoreFieldName(n),a=lE(o),s=n.variables||r.variables,u=r.store,l=u.toReference,c=u.canRead;return{args:LE(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:By,toReference:l,storage:i,cache:e.cache,canRead:c,readField:function(){return e.readField(BE(arguments,t,r),r)},mergeObjects:zE(r.store)}}function BE(e,t,n){var r,i,o,a=e[0],s=e[1],u=e.length;return"string"==typeof a?r={fieldName:a,from:u>1?s:t}:(r=Sm({},a),iE.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&Zg.warn("Undefined 'from' passed to readField with arguments ".concat((i=Array.from(e),o=Mb("stringifyForDisplay"),JSON.stringify(i,(function(e,t){return void 0===t?o:t})).split(JSON.stringify(o)).join("<undefined>")))),void 0===r.variables&&(r.variables=n),r}function zE(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new Xg("Cannot automatically merge arrays"):new Xg(4);if(Fy(t)&&Fy(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(By(t)&&dE(n))return e.merge(t.__ref,n),t;if(dE(t)&&By(n))return e.merge(t,n.__ref),n;if(dE(t)&&dE(n))return Sm(Sm({},t),n)}return n}}function WE(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:Sm(Sm({},e),{clientOnly:t,deferred:n})),i}var HE=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,u=e_(r),l=new iw;a=Sm(Sm({},o_(u)),a);var c={store:e,written:Object.create(null),merge:function(e,t){return l.merge(e,t)},variables:a,varString:yb(a),fragmentMap:Vy(n_(r)),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:c});if(!By(d))throw __DEV__?new Xg("Could not identify object ".concat(JSON.stringify(i))):new Xg(6);return c.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,s=qy(r);if(o&&o.map.size){var u=n.applyMerges(o,s,i,c);if(By(u))return;i=u}if(__DEV__&&!c.overwrite){var l=Object.create(null);a.forEach((function(e){e.selectionSet&&(l[e.name.value]=!0)})),Object.keys(i).forEach((function(e){(function(e){return!0===l[lE(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var a=i(t);if(a&&!By(o)&&!tb(o,a)&&!Object.keys(o).every((function(e){return void 0!==r.getFieldValue(a,e)}))){var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=lE(n),l="".concat(s,".").concat(u);if(!JE.has(l)){JE.add(l);var c=[];Array.isArray(o)||Array.isArray(a)||[o,a].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||c.includes(t)||c.push(t)})),__DEV__&&Zg.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(s," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(l," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(a).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(s,i,e,c.store)}))}e.merge(r,i)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,u=Object.create(null),l=n&&s.rootTypenamesById[n]||Yy(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof l&&(u.__typename=l);var c=function(){var e=BE(arguments,u,o.variables);if(By(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=s.readField(Sm(Sm({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return s.readField(e,o)},d=new Set;this.flattenFields(i,r,o,l).forEach((function(e,n){var i,o=Gy(n),h=r[o];if(d.add(n),void 0!==h){var f=s.getStoreFieldName({typename:l,fieldName:n.name.value,field:n,variables:e.variables}),p=QE(a,f),m=t.processFieldValue(h,n,n.selectionSet?WE(e,!1,!1):e,p),v=void 0;n.selectionSet&&(By(m)||dE(m))&&(v=c("__typename",m));var g=s.getMergeFunction(l,n.name.value,v);g?p.info={field:n,typename:l,merge:g}:YE(a,f),u=e.merge(u,((i={})[f]=m,i))}else!__DEV__||e.clientOnly||e.deferred||Ib.added(n)||s.getReadFunction(l,n.name.value)||__DEV__&&Zg.error("Missing field '".concat(Gy(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var h=s.identify(r,{typename:l,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:u,readField:c}),f=h[0],p=h[1];n=n||f,p&&(u=o.merge(u,p))}catch(e){if(!n)throw e}if("string"==typeof n){var m=qy(n),v=o.written[n]||(o.written[n]=[]);if(v.indexOf(i)>=0)return m;if(v.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m;var g=o.incomingById.get(n);return g?(g.storeObject=o.merge(g.storeObject,u),g.mergeTree=KE(g.mergeTree,a),d.forEach((function(e){return g.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:u,mergeTree:GE(a)?void 0:a,fieldNodeSet:d}),m}return u},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var a=i.processFieldValue(e,t,n,QE(r,o));return YE(r,o),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?$b(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=Yy(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,a=new fb(!1);return function e(s,u){var l=a.lookup(s,u.clientOnly,u.deferred);l.visited||(l.visited=!0,s.selections.forEach((function(a){if(Pb(a,n.variables)){var s=u.clientOnly,l=u.deferred;if(s&&l||!qb(a.directives)||a.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=Ky(e,n.variables);r&&!1===r.if||(l=!0)}})),Jy(a)){var c=i.get(a);c&&(s=s&&c.clientOnly,l=l&&c.deferred),i.set(a,WE(n,s,l))}else{var d=Uy(a,n.fragmentMap);d&&o.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,WE(n,s,l))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var o,a=this;if(e.map.size&&!By(n)){var s,u=Array.isArray(n)||!By(t)&&!dE(t)?void 0:t,l=n;u&&!i&&(i=[By(u)?u.__ref:u]);var c=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=c(u,t),o=c(l,t);if(void 0!==o){i&&i.push(t);var d=a.applyMerges(e,n,o,r,i);d!==o&&(s=s||new Map).set(t,d),i&&Zg(i.pop()===t)}})),s&&(n=Array.isArray(l)?l.slice(0):Sm({},l),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),$E=[];function QE(e,t){var n=e.map;return n.has(t)||n.set(t,$E.pop()||{map:new Map}),n.get(t)}function KE(e,t){if(e===t||!t||GE(t))return e;if(!e||GE(e))return t;var n=e.info&&t.info?Sm(Sm({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,KE(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){i.map.set(n,KE(t.map.get(n),e.map.get(n)))}))}return i}function GE(e){return!e||!(e.info||e.map.size)}function YE(e,t){var n=e.map,r=n.get(t);r&&GE(r)&&($E.push(r),n.delete(t))}var JE=new Set,XE=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Bw,n.txCount=0,n.config=function(e){return h_(aE,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new UE({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return Em(t,e),t.prototype.init=function(){var e=this.data=new mE.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new HE(this,this.storeReader=new kE({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:sE(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=Fw((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(EE(n)){var r=e.optimistic,i=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,yb({optimistic:r,rootId:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(Sm(Sm({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof nE)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(iE.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(Sm(Sm({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||Uw(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&qw(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){yb.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(By(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&Zg.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(iE.call(e,"id"))return!1;e=Sm(Sm({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),yb.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),qw(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,s=e.onWatchUpdated,u=function(e){var i=n,o=i.data,a=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=a}},l=new Set;return s&&!this.txCount&&this.broadcastWatches(Sm(Sm({},e),{onWatchUpdated:function(e){return l.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&l.size?(this.broadcastWatches(Sm(Sm({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&l.delete(e),n}})),l.size&&l.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=Ib(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&tb(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(tE);Xl("firebase","9.6.1","app");var ZE=n(676);const eS="@firebase/installations",tS="0.5.4",nS="w:0.5.4",rS=new al("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function iS(e){return e instanceof ol&&e.code.includes("request-failed")}function oS({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function aS(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function sS(e,t){const n=(await t.json()).error;return rS.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function uS({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function lS(e){const t=await e();return t.status>=500&&t.status<600?e():t}function cS(e){return new Promise((t=>{setTimeout(t,e)}))}const dS=/^[cdef][\w-]{21}$/;function hS(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return dS.test(t)?t:""}catch(e){return""}}function fS(e){return`${e.appName}!${e.appId}`}const pS=new Map;function mS(e,t){const n=fS(e);vS(n,t),function(e,t){const n=(!gS&&"BroadcastChannel"in self&&(gS=new BroadcastChannel("[Firebase] FID Change"),gS.onmessage=e=>{vS(e.data.key,e.data.fid)}),gS);n&&n.postMessage({key:e,fid:t}),0===pS.size&&gS&&(gS.close(),gS=null)}(n,t)}function vS(e,t){const n=pS.get(e);if(n)for(const e of n)e(t)}let gS=null;const yS="firebase-installations-store";let _S=null;function bS(){return _S||(_S=(0,ZE.openDb)("firebase-installations-database",1,(e=>{0===e.oldVersion&&e.createObjectStore(yS)}))),_S}async function wS(e,t){const n=fS(e),r=(await bS()).transaction(yS,"readwrite"),i=r.objectStore(yS),o=await i.get(n);return await i.put(t,n),await r.complete,o&&o.fid===t.fid||mS(e,t.fid),t}async function ES(e){const t=fS(e),n=(await bS()).transaction(yS,"readwrite");await n.objectStore(yS).delete(t),await n.complete}async function SS(e,t){const n=fS(e),r=(await bS()).transaction(yS,"readwrite"),i=r.objectStore(yS),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.complete,!a||o&&o.fid===a.fid||mS(e,a.fid),a}async function kS(e){let t;const n=await SS(e,(n=>{const r=function(e){return CS(e||{fid:hS(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(rS.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=oS(e),r=uS(e),i={fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:nS},o={method:"POST",headers:r,body:JSON.stringify(i)},a=await lS((()=>fetch(n,o)));if(a.ok){const e=await a.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:aS(e.authToken)}}throw await sS("Create Installation",a)}(e,t);return wS(e,n)}catch(n){throw iS(n)&&409===n.customData.serverCode?await ES(e):await wS(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:TS(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function TS(e){let t=await xS(e);for(;1===t.registrationStatus;)await cS(100),t=await xS(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await kS(e);return n||t}return t}function xS(e){return SS(e,(e=>{if(!e)throw rS.create("installation-not-found");return CS(e)}))}function CS(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function IS({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${oS(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=uS(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});o&&i.append("x-firebase-client",o.getPlatformInfoString());const a={installation:{sdkVersion:nS}},s={method:"POST",headers:i,body:JSON.stringify(a)},u=await lS((()=>fetch(r,s)));if(u.ok)return aS(await u.json());throw await sS("Generate Auth Token",u)}async function OS(e,t=!1){let n;const r=await SS(e.appConfig,(r=>{if(!NS(r))throw rS.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await RS(e.appConfig);for(;1===n.authToken.requestStatus;)await cS(100),n=await RS(e.appConfig);const r=n.authToken;return 0===r.requestStatus?OS(e,t):r}(e,t),r;{if(!navigator.onLine)throw rS.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await IS(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await wS(e.appConfig,r),n}catch(n){if(!iS(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await wS(e.appConfig,n)}else await ES(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function RS(e){return SS(e,(e=>{if(!NS(e))throw rS.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function NS(e){return void 0!==e&&2===e.registrationStatus}function PS(e){return rS.create("missing-app-config-values",{valueName:e})}const AS="installations";$l(new Cl(AS,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw PS("App Configuration");if(!e.name)throw PS("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw PS(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Ql(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),$l(new Cl("installations-internal",(e=>{const t=Ql(e.getProvider("app").getImmediate(),AS).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await kS(t.appConfig);return r?r.catch(console.error):OS(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await kS(e);t&&await t}(n.appConfig),(await OS(n,t)).token}(t,e)}}),"PRIVATE")),Xl(eS,tS),Xl(eS,tS,"esm2017");const DS="analytics",LS="https://www.googletagmanager.com/gtag/js",MS=new Fl("@firebase/analytics");function FS(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}const jS=new al("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),VS=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function US(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function qS(e,t=VS,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw jS.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw jS.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new zS;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),BS({appId:r,apiKey:i,measurementId:o},a,s,t)}async function BS(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=VS){const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(jS.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(a)return MS.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:o,measurementId:a};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:US(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw jS.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(o),t}catch(t){if(!function(e){if(!(e instanceof ol&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(o),a)return MS.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:o,measurementId:a};throw t}const s=503===Number(t.customData.httpStatus)?Tl(n,i.intervalMillis,30):Tl(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return i.setThrottleMetadata(o,u),MS.debug(`Calling attemptFetch again in ${s} millis`),BS(e,u,r,i)}}class zS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function WS(e,t,n,r,i,o,a){var s;const u=qS(e);u.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&MS.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>MS.error(e))),t.push(u);const l=async function(){if("object"!=typeof indexedDB)return MS.warn(jS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}catch(e){return MS.warn(jS.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,d]=await Promise.all([u,l]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(LS))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${LS}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date);const h=null!==(s=null==a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",c.measurementId,h),c.measurementId}class HS{constructor(e){this.app=e}_delete(){return delete $S[this.app.options.appId],Promise.resolve()}}let $S={},QS=[];const KS={};let GS,YS,JS="dataLayer",XS=!1;function ZS(e,t,n){!function(){const e=[];if(rl()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=jS.create("invalid-analytics-context",{errorInfo:t});MS.warn(n.message)}}();const r=e.options.appId;if(!r)throw jS.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw jS.create("no-api-key");MS.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$S[r])throw jS.create("already-exists",{id:r});if(!XS){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){return async function(i,o,a){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await FS(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){MS.error(e)}}(e,t,n,o,a):"config"===i?await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await FS(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){MS.error(e)}e("config",i,o)}(e,t,n,r,o,a):e("set",o)}catch(e){MS.error(e)}}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}($S,QS,KS);YS=e,GS=t,XS=!0}return $S[r]=WS(e,QS,KS,t,GS,JS,n),new HS(e)}function ek(e,t,n,r){e=xl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(YS,$S[e.app.options.appId],t,n,r).catch((e=>MS.error(e)))}const tk="@firebase/analytics",nk="0.7.4";$l(new Cl(DS,((e,{options:t})=>ZS(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),$l(new Cl("analytics-internal",(function(e){try{const t=e.getProvider(DS).getImmediate();return{logEvent:(e,n,r)=>ek(t,e,n,r)}}catch(e){throw jS.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),Xl(tk,nk),Xl(tk,nk,"esm2017");const rk=n(181),ik=new eE({uri:rk.apollo.url,cache:new XE}),ok=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Kl.create("bad-app-name",{appName:String(r)});const i=zl.get(r);if(i){if(ml(e,i.options)&&ml(n,i.config))return i;throw Kl.create("duplicate-app",{appName:r})}const o=new Rl(r);for(const e of Wl.values())o.addComponent(e);const a=new Gl(e,n,o);return zl.set(r,a),a}(rk.firebase),ak=function(e=Jl()){const t=Ql(e=xl(e),DS);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=Ql(e,DS);if(n.isInitialized()){const e=n.getImmediate();if(ml(t,n.getOptions()))return e;throw jS.create("already-initialized")}return n.initialize({options:t})}(e)}(ok),sk=ua({key:"getDataFromPath",default:e=>am(tm(fm(),e)).then((e=>e.val()||void 0)),effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=fm(),i=tm(r,e),o=tm(r,`${e}/values`);n((e=>{null==e?im(o):om(i,{values:e})}));const a=lm(o,(e=>t(e.val()||void 0)));return()=>a()}]}),uk=n(181),lk=sa({key:"getTwitchToken",get:({get:e})=>{const t=e(ym).get("access_token"),n=window.localStorage.getItem(uk.token.key);return t?(t!==n&&window.localStorage.setItem(uk.token.key,t),t):null!=n?n:""},set:({},e)=>{"string"==typeof e?window.localStorage.setItem(uk.token.key,e):window.localStorage.removeItem(uk.token.key)}}),ck=sa({key:"getFirebaseToken",get:async({get:e})=>{const t=e(lk),n=new URL(uk.token.url);n.searchParams.append("twitch",t);const r=await fetch(n.toString());if(r.status<200||r.status>299)throw new Error;return r.text()}}),dk=sa({key:"getCurrentUser",get:async({get:e})=>{const t=function(e=Jl()){const t=Ql(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Ql(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ml(n.getOptions(),null!=t?t:{}))return e;Am(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Wg,persistence:[fg,Yv,Xv]})}(ok);let n=t.currentUser;if(!n){const r=e(ck);n=(await async function(e,t){const n=Cv(e),r=await async function(e,t){return Jm(e,"POST","/v1/accounts:signInWithCustomToken",Km(e,t))}(n,{token:t,returnSecureToken:!0}),i=await zv._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(t,r)).user}return n},dangerouslyAllowMutability:!0}),hk=sa({key:"getCurrentUserPath",get:({get:e})=>`users/${e(dk).uid}`}),fk=()=>{const e=ca(bm),t=ca(hk),n=ca(dk);return(0,r.useEffect)((()=>{const r=fm(),i=tm(r,".info/connected"),o=tm(r,t),a=tm(r,`${e}/users`);om(o,{id:n.uid,name:n.displayName,online:!0,photoURL:n.photoURL}),function(e){Ds("setUser",e)}({id:n.uid,username:n.displayName||"undefined"}),om(a,{[n.uid]:!0});const s=lm(i,(e=>{0!=e.val()&&(rm(o).update({online:!1}),rm(a).update({[n.uid]:!1}))})),u=()=>{om(o,{online:!1}),om(a,{[n.uid]:!1})};return window.addEventListener("beforeunload",u,!1),()=>{om(o,{online:!1}),om(a,{[n.uid]:!1}),s(),window.removeEventListener("beforeunload",u,!1)}}),[e]),null};function pk(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const mk=/\r\n|[\n\r]/g;function vk(e,t){let n=0,r=1;for(const i of e.body.matchAll(mk)){if("number"==typeof i.index||pk(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function gk(e){return yk(e.source,vk(e.source,e.start))}function yk(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,l=`${e.name}:${a}:${u}\n`,c=r.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let e=0;e<d.length;e+=80)n.push(d.slice(e,e+80));return l+_k([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return l+_k([[a-1+" |",c[i-1]],[`${a} |`,d],["|","^".padStart(u)],[`${a+1} |`,c[i+1]]])}function _k(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class bk extends Error{constructor(e,t,n,r,i,o,a){var s,u,l;super(e),this.name="GraphQLError",this.path=null!=i?i:void 0,this.originalError=null!=o?o:void 0,this.nodes=wk(Array.isArray(t)?t:t?[t]:void 0);const c=wk(null===(s=this.nodes)||void 0===s?void 0:s.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=n?n:null==c||null===(u=c[0])||void 0===u?void 0:u.source,this.positions=null!=r?r:null==c?void 0:c.map((e=>e.start)),this.locations=r&&n?r.map((e=>vk(n,e))):null==c?void 0:c.map((e=>vk(e.source,e.start)));const d="object"==typeof(h=null==o?void 0:o.extensions)&&null!==h?null==o?void 0:o.extensions:void 0;var h;this.extensions=null!==(l=null!=a?a:d)&&void 0!==l?l:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,bk):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+gk(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+yk(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function wk(e){return void 0===e||0===e.length?void 0:e}function Ek(e,t,n){return new bk(`Syntax Error: ${n}`,void 0,e,[t])}let Sk,kk;var Tk;(Tk=Sk||(Sk={})).SOF="<SOF>",Tk.EOF="<EOF>",Tk.BANG="!",Tk.DOLLAR="$",Tk.AMP="&",Tk.PAREN_L="(",Tk.PAREN_R=")",Tk.SPREAD="...",Tk.COLON=":",Tk.EQUALS="=",Tk.AT="@",Tk.BRACKET_L="[",Tk.BRACKET_R="]",Tk.BRACE_L="{",Tk.PIPE="|",Tk.BRACE_R="}",Tk.NAME="Name",Tk.INT="Int",Tk.FLOAT="Float",Tk.STRING="String",Tk.BLOCK_STRING="BlockString",Tk.COMMENT="Comment",function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(kk||(kk={}));class xk{constructor(e){const t=new p_(Sk.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Sk.EOF)do{if(e.next)e=e.next;else{const t=Ak(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===Sk.COMMENT);return e}}function Ck(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function Ik(e,t){return Ok(e.charCodeAt(t))&&Rk(e.charCodeAt(t+1))}function Ok(e){return e>=55296&&e<=56319}function Rk(e){return e>=56320&&e<=57343}function Nk(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return Sk.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Pk(e,t,n,r,i){const o=e.line,a=1+n-e.lineStart;return new p_(t,n,r,o,a,i)}function Ak(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return Dk(e,i);case 33:return Pk(e,Sk.BANG,i,i+1);case 36:return Pk(e,Sk.DOLLAR,i,i+1);case 38:return Pk(e,Sk.AMP,i,i+1);case 40:return Pk(e,Sk.PAREN_L,i,i+1);case 41:return Pk(e,Sk.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return Pk(e,Sk.SPREAD,i,i+3);break;case 58:return Pk(e,Sk.COLON,i,i+1);case 61:return Pk(e,Sk.EQUALS,i,i+1);case 64:return Pk(e,Sk.AT,i,i+1);case 91:return Pk(e,Sk.BRACKET_L,i,i+1);case 93:return Pk(e,Sk.BRACKET_R,i,i+1);case 123:return Pk(e,Sk.BRACE_L,i,i+1);case 124:return Pk(e,Sk.PIPE,i,i+1);case 125:return Pk(e,Sk.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?zk(e,i):Fk(e,i)}if(I_(t)||45===t)return Lk(e,i,t);if(R_(t))return Wk(e,i);throw Ek(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":Ck(t)||Ik(n,i)?`Unexpected character: ${Nk(e,i)}.`:`Invalid character: ${Nk(e,i)}.`)}return Pk(e,Sk.EOF,r,r)}function Dk(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(Ck(e))++i;else{if(!Ik(n,i))break;i+=2}}return Pk(e,Sk.COMMENT,t,i,n.slice(t+1,i))}function Lk(e,t,n){const r=e.source.body;let i=t,o=n,a=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),I_(o))throw Ek(e.source,i,`Invalid number, unexpected digit after 0: ${Nk(e,i)}.`)}else i=Mk(e,i,o),o=r.charCodeAt(i);if(46===o&&(a=!0,o=r.charCodeAt(++i),i=Mk(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(a=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=Mk(e,i,o),o=r.charCodeAt(i)),46===o||R_(o))throw Ek(e.source,i,`Invalid number, expected digit but got: ${Nk(e,i)}.`);return Pk(e,a?Sk.FLOAT:Sk.INT,t,i,r.slice(t,i))}function Mk(e,t,n){if(!I_(n))throw Ek(e.source,t,`Invalid number, expected digit but got: ${Nk(e,t)}.`);const r=e.source.body;let i=t+1;for(;I_(r.charCodeAt(i));)++i;return i}function Fk(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,a="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return a+=n.slice(o,i),Pk(e,Sk.STRING,t,i+1,a);if(92!==r){if(10===r||13===r)break;if(Ck(r))++i;else{if(!Ik(n,i))throw Ek(e.source,i,`Invalid character within String: ${Nk(e,i)}.`);i+=2}}else{a+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?jk(e,i):Vk(e,i):Bk(e,i);a+=t.value,i+=t.size,o=i}}throw Ek(e.source,i,"Unterminated string.")}function jk(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!Ck(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|qk(e),r<0)break}throw Ek(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function Vk(e,t){const n=e.source.body,r=Uk(n,t+2);if(Ck(r))return{value:String.fromCodePoint(r),size:6};if(Ok(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=Uk(n,t+8);if(Rk(e))return{value:String.fromCodePoint(r,e),size:12}}throw Ek(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Uk(e,t){return qk(e.charCodeAt(t))<<12|qk(e.charCodeAt(t+1))<<8|qk(e.charCodeAt(t+2))<<4|qk(e.charCodeAt(t+3))}function qk(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Bk(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Ek(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function zk(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,a=o,s="";const u=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){s+=n.slice(a,o),u.push(s);const r=Pk(e,Sk.BLOCK_STRING,t,o+3,N_(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(Ck(r))++o;else{if(!Ik(n,o))throw Ek(e.source,o,`Invalid character within String: ${Nk(e,o)}.`);o+=2}else s+=n.slice(a,o),u.push(s),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,s="",a=o,i=o;else s+=n.slice(a,o),a=o+1,o+=4}throw Ek(e.source,o,"Unterminated string.")}function Wk(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r&&(O_(o=n.charCodeAt(i))||I_(o)||95===o);)++i;var o;return Pk(e,Sk.NAME,t,i,n.slice(t,i))}class Hk{constructor(e,t){const n=function(e){return e instanceof my}(e)?e:new my(e);this._lexer=new xk(n),this._options=t}parseName(){const e=this.expectToken(Sk.NAME);return this.node(e,{kind:__.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:__.DOCUMENT,definitions:this.many(Sk.SOF,this.parseDefinition,Sk.EOF)})}parseDefinition(){if(this.peek(Sk.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===Sk.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Ek(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Sk.BRACE_L))return this.node(e,{kind:__.OPERATION_DEFINITION,operation:y_.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(Sk.NAME)&&(n=this.parseName()),this.node(e,{kind:__.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Sk.NAME);switch(e.value){case"query":return y_.QUERY;case"mutation":return y_.MUTATION;case"subscription":return y_.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Sk.PAREN_L,this.parseVariableDefinition,Sk.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:__.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Sk.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Sk.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Sk.DOLLAR),this.node(e,{kind:__.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:__.SELECTION_SET,selections:this.many(Sk.BRACE_L,this.parseSelection,Sk.BRACE_R)})}parseSelection(){return this.peek(Sk.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(Sk.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:__.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Sk.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Sk.PAREN_L,t,Sk.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(Sk.COLON),this.node(t,{kind:__.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Sk.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(Sk.NAME)?this.node(e,{kind:__.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:__.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:__.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:__.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case Sk.BRACKET_L:return this.parseList(e);case Sk.BRACE_L:return this.parseObject(e);case Sk.INT:return this._lexer.advance(),this.node(t,{kind:__.INT,value:t.value});case Sk.FLOAT:return this._lexer.advance(),this.node(t,{kind:__.FLOAT,value:t.value});case Sk.STRING:case Sk.BLOCK_STRING:return this.parseStringLiteral();case Sk.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:__.BOOLEAN,value:!0});case"false":return this.node(t,{kind:__.BOOLEAN,value:!1});case"null":return this.node(t,{kind:__.NULL});default:return this.node(t,{kind:__.ENUM,value:t.value})}case Sk.DOLLAR:if(e){if(this.expectToken(Sk.DOLLAR),this._lexer.token.kind===Sk.NAME){const e=this._lexer.token.value;throw Ek(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:__.STRING,value:e.value,block:e.kind===Sk.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:__.LIST,values:this.any(Sk.BRACKET_L,(()=>this.parseValueLiteral(e)),Sk.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:__.OBJECT,fields:this.any(Sk.BRACE_L,(()=>this.parseObjectField(e)),Sk.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(Sk.COLON),this.node(t,{kind:__.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(Sk.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(Sk.AT),this.node(t,{kind:__.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(Sk.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(Sk.BRACKET_R),t=this.node(e,{kind:__.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(Sk.BANG)?this.node(e,{kind:__.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:__.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Sk.STRING)||this.peek(Sk.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(Sk.BRACE_L,this.parseOperationTypeDefinition,Sk.BRACE_R);return this.node(e,{kind:__.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(Sk.COLON);const n=this.parseNamedType();return this.node(e,{kind:__.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:__.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:__.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Sk.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Sk.BRACE_L,this.parseFieldDefinition,Sk.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Sk.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:__.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(Sk.PAREN_L,this.parseInputValueDef,Sk.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Sk.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(Sk.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:__.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:__.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:__.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(Sk.EQUALS)?this.delimitedMany(Sk.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:__.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(Sk.BRACE_L,this.parseEnumValueDefinition,Sk.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:__.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Ek(this._lexer.source,this._lexer.token.start,`${$k(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:__.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(Sk.BRACE_L,this.parseInputValueDef,Sk.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Sk.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(Sk.BRACE_L,this.parseOperationTypeDefinition,Sk.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:__.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:__.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:__.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:__.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:__.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:__.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:__.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Sk.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:__.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(Sk.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(kk,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new f_(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ek(this._lexer.source,t.start,`Expected ${Qk(e)}, found ${$k(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==Sk.NAME||t.value!==e)throw Ek(this._lexer.source,t.start,`Expected "${e}", found ${$k(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===Sk.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return Ek(this._lexer.source,t.start,`Unexpected ${$k(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function $k(e){const t=e.value;return Qk(e.kind)+(null!=t?` "${t}"`:"")}function Qk(e){return function(e){return e===Sk.BANG||e===Sk.DOLLAR||e===Sk.AMP||e===Sk.PAREN_L||e===Sk.PAREN_R||e===Sk.SPREAD||e===Sk.COLON||e===Sk.EQUALS||e===Sk.AT||e===Sk.BRACKET_L||e===Sk.BRACKET_R||e===Sk.BRACE_L||e===Sk.PIPE||e===Sk.BRACE_R}(e)?`"${e}"`:e}var Kk=new Map,Gk=new Map,Yk=!0,Jk=!1;function Xk(e){return e.replace(/[\s,]+/g," ").trim()}function Zk(e){var t,n,r,i=Xk(e);if(!Kk.has(i)){var o=function(e,t){return new Hk(e,t).parseDocument()}(e,{experimentalFragmentVariables:Jk,allowLegacyFragmentVariables:Jk});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");Kk.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=Xk((a=e.loc).source.body.substring(a.start,a.end)),o=Gk.get(t);o&&!o.has(i)?Yk&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Gk.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var a})),Sm(Sm({},t),{definitions:r}))))}return Kk.get(i)}function eT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),Zk(r)}var tT,nT=eT;(tT=eT||(eT={})).gql=nT,tT.resetCaches=function(){Kk.clear(),Gk.clear()},tT.disableFragmentWarnings=function(){Yk=!1},tT.enableExperimentalFragmentVariables=function(){Jk=!0},tT.disableExperimentalFragmentVariables=function(){Jk=!1},eT.default=eT;const rT=aa({key:"getAllCharacters",default:[],effects_UNSTABLE:[({setSelf:e})=>{(async()=>{const{data:{personages:t}}=await ik.query({query:eT`
                        query getPersonnages {
                            personages(first: 1000) {
                                id
                                nom
                                categories {
                                    nom
                                }
                                image {
                                    url(transformation: {image: {resize: {height: 200}}})
                                    offsetX
                                }
                            }
                        }
                    `}),n=t.map((e=>{if(!e.image)return;const t=e.categories.map((e=>e.nom));return{id:e.id,name:e.nom,categories:t.length>0?t:["Autre"],image:e.image}})).filter((e=>void 0!==e));e(n)})()}]}),iT=la({key:"getCharactersForPlayer",get:e=>({get:t})=>{if(!e)return[];const n=t(rT),r=`${t(bm)}/characters/${e.id}`,i=(t(sk(r))||[]).map((e=>n.find((t=>t.id===e)))).filter((e=>null!=e));return i},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(bm)}/characters/${e.id}`;t(sk(i),r.map((e=>e.id)))}}),oT=la({key:"getCharacterSecretForPlayer",get:e=>({get:t})=>{if(!e)return;const n=t(rT),r=`${t(bm)}/secret/${e.id}`,i=t(sk(r));return n.find((e=>e.id===i))},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(bm)}/secret/${e.id}`;t(sk(i),r?.id)}}),aT=la({key:"getCharacterGuessForPlayer",get:e=>({get:t})=>{if(!e)return;const n=t(rT),r=`${t(bm)}/guess/${e.id}`,i=t(sk(r));if(!i)return;const o=n.find((e=>e.id===i.id));if(!o)throw new Error;return{...o,reason:i.reason}},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(bm)}/guess/${e.id}`;t(sk(i),r)}}),sT=ua({key:"getPlayers",default:e=>{const t=fm();return am(tm(t,`${e}/users`)).then((e=>{const n=e.val();return Promise.all(Object.keys(n).map((async e=>{const n=tm(t,`users/${e}`);return(await am(n)).val()})))}))},effects_UNSTABLE:e=>[({setSelf:t})=>{const n=fm(),r=tm(n,`${e}/users`);let i=new Map;const o=lm(r,(e=>{new Map(Object.entries(e.val())).forEach((async(e,r)=>{const o=i.get(r);if(o){const n={...o,online:e};return i.set(r,n),void t([...i.values()])}const a=tm(n,`users/${r}`),s=await am(a);i.set(r,s.val()),t([...i.values()])}))}));return()=>o()}]}),uT=sa({key:"getPlayersOnline",get:({get:e})=>e(sT(e(bm))).filter((e=>e.online))}),lT=sa({key:"getMe",get:({get:e})=>e(sT(e(bm))).find((t=>t.id===e(dk).uid))}),cT=sa({key:"getOpponent",get:({get:e})=>e(sT(e(bm))).find((t=>t.id!==e(dk).uid))}),dT=ua({key:"getRoundStateForRoom",default:e=>am(tm(fm(),`${e}/roundState`)).then((e=>e.val()||"not-started")),effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=fm(),i=tm(r,e),o=tm(r,`${e}/roundState`);n((e=>{om(i,{roundState:e})}));const a=lm(o,(e=>t(e.val()||"not-started")));return()=>a()}]}),hT=ua({key:"isRoomSameBoardForRoom",default:e=>am(tm(fm(),`${e}/sameBoard`)).then((e=>e.val()||!1)),effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=fm(),i=tm(r,e),o=tm(r,`${e}/sameBoard`);n((e=>{om(i,{sameBoard:e})}));const a=lm(o,(e=>t(e.val()||!1)));return()=>a()}]}),fT=ua({key:"isRoomWinner",default:e=>am(tm(fm(),`${e}/roomWinner`)).then((e=>e.val()||void 0)),effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=fm(),i=tm(r,e),o=tm(r,`${e}/roomWinner`);n((e=>{null==e?im(o):om(i,{roomWinner:e})}));const a=lm(o,(e=>t(e.val()||void 0)));return()=>a()}]}),pT=()=>{const e=ca(lT),t=ca(bm),[n,i]=da(dT(t)),[o,a]=da(vm),s=ca(_m),u=ha(ym),l=ha(oT(e)),c=ha(aT(e)),d=ha(fT(t)),h=fa(_m),f=()=>{l(void 0),c(void 0),d(void 0),i("not-started")},{t:p}=$u();switch(n){case"not-started":return r.createElement("div",{className:"control-top control-top--not-started"},r.createElement("div",null,p("lobby.room")," ",r.createElement("span",{className:"control-top--not-started__room-id"},(()=>{const e=s.split("");return e.map(((t,n)=>n<e.length-3?"⁕":t))})())),r.createElement("button",{className:"control-top--not-started__new-room",onClick:()=>(i("not-started"),a({...o,lastRoom:void 0}),u(new Map),h(),void ek(ak,"newRoom"))},p("control-top.new-room")));case"running":return r.createElement("div",{className:"control-top control-top--running"},r.createElement("button",{className:"control-top--running__quit",onClick:()=>(i("not-started"),void ek(ak,"exit"))},p("control-top.quit")));case"finished":return r.createElement("div",{className:"control-top control-top--finished"},r.createElement("button",{className:"finished--start-again",onClick:f},p("control-top.start-again")))}};n(33),n(269),n(926),n(845),n(654),n(344);const mT=()=>r.createElement("div",{className:"loadassets"},["assets/case-background.webp","assets/case-front.webp","assets/logo-ccb.webp","assets/plateau-background.webp","assets/plateau-front.webp","assets/TwitchGlitchPurple.svg"].map(((e,t)=>r.createElement("img",{key:t,src:e})))),vT=1/60*1e3,gT="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),yT="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(gT())),vT);let _T=!0,bT=!1,wT=!1;const ET={delta:0,timestamp:0},ST=["read","update","preRender","render","postRender"],kT=ST.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{const u=s&&i,l=u?t:n;return o&&a.add(e),-1===l.indexOf(e)&&(l.push(e),u&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:u=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(u),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(u))}}};return s}((()=>bT=!0)),e)),{}),TT=ST.reduce(((e,t)=>{const n=kT[t];return e[t]=(e,t=!1,r=!1)=>(bT||RT(),n.schedule(e,t,r)),e}),{}),xT=ST.reduce(((e,t)=>(e[t]=kT[t].cancel,e)),{}),CT=ST.reduce(((e,t)=>(e[t]=()=>kT[t].process(ET),e)),{}),IT=e=>kT[e].process(ET),OT=e=>{bT=!1,ET.delta=_T?vT:Math.max(Math.min(e-ET.timestamp,40),1),ET.timestamp=e,wT=!0,ST.forEach(IT),wT=!1,bT&&(_T=!1,yT(OT))},RT=()=>{bT=!0,_T=!0,wT||yT(OT)},NT=()=>ET,PT=TT;function AT(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var DT=(0,r.createContext)(null);function LT(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}var MT=0;function FT(){var e=MT;return MT++,e}var jT=function(e){var t=e.children,n=e.initial,i=e.isPresent,o=e.onExitComplete,a=e.custom,s=e.presenceAffectsLayout,u=LT(VT),l=LT(FT),c=(0,r.useMemo)((function(){return{id:l,initial:n,isPresent:i,custom:a,onExitComplete:function(e){var t,n;u.set(e,!0);try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u.values()),i=r.next();!i.done;i=r.next())if(!i.value)return}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==o||o()},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}}),s?void 0:[i]);return(0,r.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[i]),r.useEffect((function(){!i&&!u.size&&(null==o||o())}),[i]),r.createElement(DT.Provider,{value:c},t)};function VT(){return new Map}var UT=(0,r.createContext)({});function qT(e){return e.key||""}var BT=function(e){var t=e.children,n=e.custom,i=e.initial,o=void 0===i||i,a=e.onExitComplete,s=e.exitBeforeEnter,u=e.presenceAffectsLayout,l=void 0===u||u,c=Cm(function(){var e=(0,r.useRef)(!1),t=Cm((0,r.useState)(0),2),n=t[0],i=t[1];AT((function(){return e.current=!0}));var o=(0,r.useCallback)((function(){!e.current&&i(n+1)}),[n]);return[(0,r.useCallback)((function(){return PT.postRender(o)}),[o]),n]}(),1),d=c[0],h=(0,r.useContext)(UT).forceRender;h&&(d=h);var f=(0,r.useRef)(!0),p=(0,r.useRef)(!0);(0,r.useEffect)((function(){return function(){p.current=!1}}),[]);var m=function(e){var t=[];return r.Children.forEach(e,(function(e){(0,r.isValidElement)(e)&&t.push(e)})),t}(t),v=(0,r.useRef)(m),g=(0,r.useRef)(new Map).current,y=(0,r.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=qT(e);t.set(n,e)}))}(m,g),f.current)return f.current=!1,r.createElement(r.Fragment,null,m.map((function(e){return r.createElement(jT,{key:qT(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:l},e)})));for(var _=Im([],Cm(m),!1),b=v.current.map(qT),w=m.map(qT),E=b.length,S=0;S<E;S++){var k=b[S];-1===w.indexOf(k)?y.add(k):y.delete(k)}return s&&y.size&&(_=[]),y.forEach((function(e){if(-1===w.indexOf(e)){var t=g.get(e);if(t){var i=b.indexOf(e);_.splice(i,0,r.createElement(jT,{key:qT(t),isPresent:!1,onExitComplete:function(){g.delete(e),y.delete(e);var t=v.current.findIndex((function(t){return t.key===e}));if(v.current.splice(t,1),!y.size){if(v.current=m,!1===p.current)return;d(),a&&a()}},custom:n,presenceAffectsLayout:l},t))}}})),_=_.map((function(e){var t=e.key;return y.has(t)?e:r.createElement(jT,{key:qT(e),isPresent:!0,presenceAffectsLayout:l},e)})),v.current=_,r.createElement(r.Fragment,null,y.size?_:_.map((function(e){return(0,r.cloneElement)(e)})))},zT=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},WT={measureLayout:zT(["layout","layoutId","drag"]),animation:zT(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:zT(["exit"]),drag:zT(["drag","dragControls"]),focus:zT(["whileFocus"]),hover:zT(["whileHover","onHoverStart","onHoverEnd"]),tap:zT(["whileTap","onTap","onTapStart","onTapCancel"]),pan:zT(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:zT(["whileInView","onViewportEnter","onViewportLeave"])},HT=(0,r.createContext)({strict:!1}),$T=Object.keys(WT),QT=$T.length,KT=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),GT=(0,r.createContext)({}),YT="undefined"!=typeof window,JT=YT?r.useLayoutEffect:r.useEffect;function XT(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ZT(e){return Array.isArray(e)}function ex(e){return"string"==typeof e||ZT(e)}function tx(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function nx(e,t,n){var r=e.getProps();return tx(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function rx(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||ex(e.initial)||ex(e.animate)||ex(e.whileHover)||ex(e.whileDrag)||ex(e.whileTap)||ex(e.whileFocus)||ex(e.exit)}function ix(e){return Boolean(rx(e)||e.variants)}function ox(e){return Array.isArray(e)?e.join(" "):e}const ax=(e,t,n)=>-n*e+n*t+e;function sx(e,t){return t?e*(1e3/t):0}function ux(e,t){-1===e.indexOf(t)&&e.push(t)}function lx(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var cx=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return ux(this.subscriptions,e),function(){return lx(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),dx=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new cx,this.velocityUpdateSubscribers=new cx,this.renderSubscribers=new cx,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=NT(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,PT.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return PT.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?sx(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function hx(e){return new dx(e)}var fx=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)};const px=(e,t,n)=>Math.min(Math.max(n,e),t);function mx(e,t){return e*Math.sqrt(1-t*t)}const vx=["duration","bounce"],gx=["stiffness","damping","mass"];function yx(e,t){return t.some((t=>void 0!==e[t]))}function _x(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=km(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:u,mass:l,velocity:c,duration:d,isResolvedFromDuration:h}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!yx(e,gx)&&yx(e,vx)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,a=1-t;a=px(.05,1,a),e=px(.01,10,e/1e3),a<1?(i=t=>{const r=t*a,i=r*e;return.001-(r-n)/mx(t,a)*Math.exp(-i)},o=t=>{const r=t*a*e,o=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,u=Math.exp(-r),l=mx(Math.pow(t,2),a);return(.001-i(t)>0?-1:1)*((o-s)*u)/l}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(o),f=bx,p=bx;function m(){const e=c?-c/1e3:0,r=n-t,o=u/(2*Math.sqrt(s*l)),a=Math.sqrt(s/l)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){const t=mx(a,o);f=i=>{const s=Math.exp(-o*a*i);return n-s*((e+o*a*r)/t*Math.sin(t*i)+r*Math.cos(t*i))},p=n=>{const i=Math.exp(-o*a*n);return o*a*i*(Math.sin(t*n)*(e+o*a*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*a*r)-t*r*Math.sin(t*n))}}else if(1===o)f=t=>n-Math.exp(-a*t)*(r+(e+a*r)*t);else{const t=a*Math.sqrt(o*o-1);f=i=>{const s=Math.exp(-o*a*i),u=Math.min(t*i,300);return n-s*((e+o*a*r)*Math.sinh(u)+t*r*Math.cosh(u))/t}}}return m(),{next:e=>{const t=f(e);if(h)a.done=e>=d;else{const o=1e3*p(e),s=Math.abs(o)<=r,u=Math.abs(n-t)<=i;a.done=s&&u}return a.value=a.done?n:t,a},flipTarget:()=>{c=-c,[t,n]=[n,t],m()}}}_x.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const bx=e=>0,wx=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ex=(e,t)=>n=>Math.max(Math.min(n,t),e),Sx=e=>e%1?Number(e.toFixed(5)):e,kx=/(-)?([\d]*\.?[\d])+/g,Tx=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,xx=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Cx(e){return"string"==typeof e}const Ix={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Ox=Object.assign(Object.assign({},Ix),{transform:Ex(0,1)}),Rx=Object.assign(Object.assign({},Ix),{default:1}),Nx=(e,t)=>n=>Boolean(Cx(n)&&xx.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Px=(e,t,n)=>r=>{if(!Cx(r))return r;const[i,o,a,s]=r.match(kx);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Ax=Ex(0,255),Dx=Object.assign(Object.assign({},Ix),{transform:e=>Math.round(Ax(e))}),Lx={test:Nx("rgb","red"),parse:Px("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Dx.transform(e)+", "+Dx.transform(t)+", "+Dx.transform(n)+", "+Sx(Ox.transform(r))+")"},Mx={test:Nx("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Lx.transform},Fx=e=>({test:t=>Cx(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),jx=Fx("deg"),Vx=Fx("%"),Ux=Fx("px"),qx=Fx("vh"),Bx=Fx("vw"),zx=Object.assign(Object.assign({},Vx),{parse:e=>Vx.parse(e)/100,transform:e=>Vx.transform(100*e)}),Wx={test:Nx("hsl","hue"),parse:Px("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Vx.transform(Sx(t))+", "+Vx.transform(Sx(n))+", "+Sx(Ox.transform(r))+")"};function Hx(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function $x({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=Hx(s,r,e+1/3),o=Hx(s,r,e),a=Hx(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}const Qx=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Kx=[Mx,Lx,Wx],Gx=e=>Kx.find((t=>t.test(e))),Yx=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Jx=(e,t)=>{let n=Gx(e),r=Gx(t);Yx(e),Yx(t);let i=n.parse(e),o=r.parse(t);n===Wx&&(i=$x(i),n=Lx),r===Wx&&(o=$x(o),r=Lx);const a=Object.assign({},i);return e=>{for(const t in a)"alpha"!==t&&(a[t]=Qx(i[t],o[t],e));return a.alpha=ax(i.alpha,o.alpha,e),n.transform(a)}},Xx={test:e=>Lx.test(e)||Mx.test(e)||Wx.test(e),parse:e=>Lx.test(e)?Lx.parse(e):Wx.test(e)?Wx.parse(e):Mx.parse(e),transform:e=>Cx(e)?e:e.hasOwnProperty("red")?Lx.transform(e):Wx.transform(e)},Zx="${c}",eC="${n}";function tC(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(Tx);r&&(n=r.length,e=e.replace(Tx,Zx),t.push(...r.map(Xx.parse)));const i=e.match(kx);return i&&(e=e.replace(kx,eC),t.push(...i.map(Ix.parse))),{values:t,numColors:n,tokenised:e}}function nC(e){return tC(e).values}function rC(e){const{values:t,numColors:n,tokenised:r}=tC(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?Zx:eC,r<n?Xx.transform(e[r]):Sx(e[r]));return t}}const iC=e=>"number"==typeof e?0:e,oC={test:function(e){var t,n,r,i;return isNaN(e)&&Cx(e)&&(null!==(n=null===(t=e.match(kx))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Tx))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:nC,createTransformer:rC,getAnimatableNone:function(e){const t=nC(e);return rC(e)(t.map(iC))}},aC=e=>"number"==typeof e,sC=(e,t)=>n=>t(e(n)),uC=(...e)=>e.reduce(sC);function lC(e,t){return aC(e)?n=>ax(e,t,n):Xx.test(e)?Jx(e,t):fC(e,t)}const cC=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>lC(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},dC=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=lC(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function hC(e){const t=oC.parse(e),n=t.length;let r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const fC=(e,t)=>{const n=oC.createTransformer(t),r=hC(e),i=hC(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?uC(cC(r.parsed,i.parsed),n):n=>`${n>0?t:e}`},pC=(e,t)=>n=>ax(e,t,n);function mC(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=function(e,t,n){const r=[],i=n||("number"==typeof(o=e[0])?pC:"string"==typeof o?Xx.test(o)?Jx:fC:Array.isArray(o)?cC:"object"==typeof o?dC:void 0);var o;const a=e.length-1;for(let n=0;n<a;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;o=uC(e,o)}r.push(o)}return r}(t,r,i),s=2===o?function([e,t],[n]){return r=>n(wx(e,t,r))}(e,a):function(e,t){const n=e.length,r=n-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){let t=1;for(;t<n&&!(e[t]>i||t===r);t++);o=t-1}const s=wx(e[o],e[o+1],i);return t[o](s)}}(e,a);return n?t=>s(px(e[0],e[o-1],t)):s}const vC=e=>t=>1-e(1-t),gC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yC=e=>t=>t*t*((e+1)*t-e),_C=e=>e,bC=(2,e=>Math.pow(e,2));const wC=vC(bC),EC=gC(bC),SC=e=>1-Math.sin(Math.acos(e)),kC=vC(SC),TC=gC(kC),xC=yC(1.525),CC=vC(xC),IC=gC(xC),OC=(e=>{const t=yC(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),RC=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},NC=vC(RC);function PC(e,t){return e.map((()=>t||EC)).splice(0,e.length-1)}function AC({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=function(e,t){return e.map((e=>e*t))}(r&&r.length===a.length?r:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(a),i);function u(){return mC(s,a,{ease:Array.isArray(n)?n:PC(a,n)})}let l=u();return{next:e=>(o.value=l(e),o.done=e>=i,o),flipTarget:()=>{a.reverse(),l=u()}}}const DC={keyframes:AC,spring:_x,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;const u=t+s,l=void 0===o?u:o(u);return l!==u&&(s=l-t),{next:e=>{const t=-s*Math.exp(-e/r);return a.done=!(t>i||t<-i),a.value=a.done?l:l+t,a},flipTarget:()=>{}}}};function LC(e,t,n=0){return e-t-n}const MC=e=>{const t=({delta:t})=>e(t);return{start:()=>PT.update(t,!0),stop:()=>xT.update(t)}};function FC(e){var t,n,{from:r,autoplay:i=!0,driver:o=MC,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:l=0,onPlay:c,onStop:d,onComplete:h,onRepeat:f,onUpdate:p}=e,m=km(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,g,y,{to:_}=m,b=0,w=m.duration,E=!1,S=!0;const k=function(e){if(Array.isArray(e.to))return AC;if(DC[e.type])return DC[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?AC:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?_x:AC}(m);(null===(n=(t=k).needsInterpolation)||void 0===n?void 0:n.call(t,r,_))&&(y=mC([0,100],[r,_],{clamp:!1}),r=0,_=100);const T=k(Object.assign(Object.assign({},m),{from:r,to:_}));return i&&(null==c||c(),v=o((function(e){if(S||(e=-e),a+=e,!E){const e=T.next(Math.max(0,a));g=e.value,y&&(g=y(g)),E=S?e.done:a<=0}null==p||p(g),E&&(0===b&&(null!=w||(w=a)),b<s?function(e,t,n,r){return r?e>=t+n:e<=-n}(a,w,l,S)&&(b++,"reverse"===u?(S=b%2==0,a=function(e,t,n=0,r=!0){return r?LC(t+-e,t,n):t-(e-t)+n}(a,w,l,S)):(a=LC(a,w,l),"mirror"===u&&T.flipTarget()),E=!1,f&&f()):(v.stop(),h&&h()))})),v.start()),{stop:()=>{null==d||d(),v.stop()}}}var jC=function(e){return 1e3*e};const VC=(e,t)=>1-3*t+3*e,UC=(e,t)=>3*t-6*e,qC=e=>3*e,BC=(e,t,n)=>((VC(t,n)*e+UC(t,n))*e+qC(t))*e,zC=(e,t,n)=>3*VC(t,n)*e*e+2*UC(t,n)*e+qC(t),WC=.1;function HC(e,t,n,r){if(e===t&&n===r)return _C;const i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=BC(t*WC,e,n);return o=>0===o||1===o?o:BC(function(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=WC;--o;const a=r+(t-i[o])/(i[o+1]-i[o])*WC,s=zC(a,e,n);return s>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=zC(t,n,r);if(0===i)return t;t-=(BC(t,n,r)-e)/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=BC(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+WC,e,n)}(o),t,r)}var $C={linear:_C,easeIn:bC,easeInOut:EC,easeOut:wC,circIn:SC,circInOut:TC,circOut:kC,backIn:xC,backInOut:IC,backOut:CC,anticipate:OC,bounceIn:NC,bounceInOut:e=>e<.5?.5*(1-RC(1-2*e)):.5*RC(2*e-1)+.5,bounceOut:RC},QC=function(e){if(Array.isArray(e)){e.length;var t=Cm(e,4);return HC(t[0],t[1],t[2],t[3])}return"string"==typeof e?("Invalid easing type '".concat(e,"'"),$C[e]):e},KC=function(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!oC.test(t)||t.startsWith("url(")))},GC=function(e){return Array.isArray(e)},YC=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},JC=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},XC=function(){return{type:"keyframes",ease:"linear",duration:.3}},ZC=function(e){return{type:"keyframes",duration:.8,values:e}},eI={x:YC,y:YC,z:YC,rotate:YC,rotateX:YC,rotateY:YC,rotateZ:YC,scaleX:JC,scaleY:JC,scale:JC,opacity:XC,backgroundColor:XC,color:XC,default:JC};const tI=new Set(["brightness","contrast","saturate","opacity"]);function nI(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(kx)||[];if(!r)return e;const i=n.replace(r,"");let o=tI.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const rI=/([a-z-]*)\(.*?\)/g,iI=Object.assign(Object.assign({},oC),{getAnimatableNone:e=>{const t=e.match(rI);return t?t.map(nI).join(" "):e}});var oI=Sm(Sm({},Ix),{transform:Math.round}),aI={borderWidth:Ux,borderTopWidth:Ux,borderRightWidth:Ux,borderBottomWidth:Ux,borderLeftWidth:Ux,borderRadius:Ux,radius:Ux,borderTopLeftRadius:Ux,borderTopRightRadius:Ux,borderBottomRightRadius:Ux,borderBottomLeftRadius:Ux,width:Ux,maxWidth:Ux,height:Ux,maxHeight:Ux,size:Ux,top:Ux,right:Ux,bottom:Ux,left:Ux,padding:Ux,paddingTop:Ux,paddingRight:Ux,paddingBottom:Ux,paddingLeft:Ux,margin:Ux,marginTop:Ux,marginRight:Ux,marginBottom:Ux,marginLeft:Ux,rotate:jx,rotateX:jx,rotateY:jx,rotateZ:jx,scale:Rx,scaleX:Rx,scaleY:Rx,scaleZ:Rx,skew:jx,skewX:jx,skewY:jx,distance:Ux,translateX:Ux,translateY:Ux,translateZ:Ux,x:Ux,y:Ux,z:Ux,perspective:Ux,transformPerspective:Ux,opacity:Ox,originX:zx,originY:zx,originZ:Ux,zIndex:oI,fillOpacity:Ox,strokeOpacity:Ox,numOctaves:oI},sI=Sm(Sm({},aI),{color:Xx,backgroundColor:Xx,outlineColor:Xx,fill:Xx,stroke:Xx,borderColor:Xx,borderTopColor:Xx,borderRightColor:Xx,borderBottomColor:Xx,borderLeftColor:Xx,filter:iI,WebkitFilter:iI}),uI=function(e){return sI[e]};function lI(e,t){var n,r=uI(e);return r!==iI&&(r=oC),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var cI=function(e){return GC(e)?e[e.length-1]||0:e};function dI(e,t,n){var r,i,o,a;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Im([],Cm(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=km(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Sm(Sm({},e),(i=n,o=t.to,a=GC(o)?ZC:eI[i]||eI.default,Sm({to:o},a(o))))),Sm(Sm({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,a=km(e,["ease","times","yoyo","flip","loop"]),s=Sm({},a);return n&&(s.offset=n),a.duration&&(s.duration=jC(a.duration)),a.repeatDelay&&(s.repeatDelay=jC(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!=typeof e[0]}(t)?t.map(QC):QC(t)),"tween"===a.type&&(s.type="keyframes"),(r||o||i)&&(r?s.repeatType="reverse":o?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=o||r||i||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}(e))}function hI(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function fI(e){return"number"==typeof e?0:lI("",e)}function pI(e,t){return e[t]||e.default||e}function mI(e,t,n,r){return void 0===r&&(r={}),t.start((function(i){var o,a,s=function(e,t,n,r,i){var o,a=pI(r,e),s=null!==(o=a.from)&&void 0!==o?o:t.get(),u=KC(e,n);"none"===s&&u&&"string"==typeof n?s=lI(e,n):hI(s)&&"string"==typeof n?s=fI(n):!Array.isArray(n)&&hI(n)&&"string"==typeof s&&(n=fI(s));var l=KC(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),l&&u&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:l,driver:c,onUpdate:d,onComplete:h,onStop:f}){let p;function m(e){return void 0!==n&&e<n||void 0!==r&&e>r}function v(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function g(e){null==p||p.stop(),p=FC(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var n;null==d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:h,onStop:f}))}function y(e){g(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:u},e))}if(m(e))y({from:e,velocity:t,to:v(e)});else{let r=i*t+e;void 0!==l&&(r=l(r));const a=v(r),s=a===n?-1:1;let c,d;const h=e=>{c=d,d=e,t=sx(e-c,NT().delta),(1===s&&e>a||-1===s&&e<a)&&y({from:e,to:a,velocity:t})};g({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:u,modifyTarget:l,onUpdate:m(r)?h:void 0})}return{stop:()=>null==p?void 0:p.stop()}}(Sm(Sm({},r),a)):FC(Sm(Sm({},dI(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e,r,o=cI(n);return t.set(o),i(),null===(e=null==a?void 0:a.onUpdate)||void 0===e||e.call(a,o),null===(r=null==a?void 0:a.onComplete)||void 0===r||r.call(a),{stop:function(){}}}}(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(pI(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),l=function(){return a=s()};return u?o=setTimeout(l,jC(u)):l(),function(){clearTimeout(o),null==a||a.stop()}}))}var vI=["TopLeft","TopRight","BottomLeft","BottomRight"],gI=vI.length;function yI(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var _I=wI(0,.5,kC),bI=wI(.5,.95,_C);function wI(e,t,n){return function(r){return r<e?0:r>t?1:n(wx(e,t,r))}}function EI(e,t){e.min=t.min,e.max=t.max}function SI(e,t){EI(e.x,t.x),EI(e.y,t.y)}function kI(e){return void 0===e||1===e}function TI(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!kI(t)||!kI(n)||!kI(r)}function xI(e){return TI(e)||CI(e.x)||CI(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function CI(e){return e&&"0%"!==e}function II(e,t,n){return n+t*(e-n)}function OI(e,t,n,r,i){return void 0!==i&&(e=II(e,i,r)),II(e,n,r)+t}function RI(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=OI(e.min,t,n,r,i),e.max=OI(e.max,t,n,r,i)}function NI(e,t){var n=t.x,r=t.y;RI(e.x,n.translate,n.scale,n.originPoint),RI(e.y,r.translate,r.scale,r.originPoint)}function PI(e,t){e.min=e.min+t,e.max=e.max+t}function AI(e,t,n){var r=Cm(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,u=ax(e.min,e.max,s);RI(e,t[i],t[o],u,t.scale)}var DI=["x","scaleX","originX"],LI=["y","scaleY","originY"];function MI(e,t){AI(e.x,t,DI),AI(e.y,t,LI)}const FI=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),jI=e=>FI(e)&&e.hasOwnProperty("z"),VI=(e,t)=>Math.abs(e-t);function UI(e,t){if(aC(e)&&aC(t))return VI(e,t);if(FI(e)&&FI(t)){const n=VI(e.x,t.x),r=VI(e.y,t.y),i=jI(e)&&jI(t)?VI(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function qI(e){return e.max-e.min}function BI(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),UI(e,t)<n}function zI(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=ax(t.min,t.max,e.origin),e.scale=qI(n)/qI(t),(BI(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ax(n.min,n.max,e.origin)-e.originPoint,(BI(e.translate)||isNaN(e.translate))&&(e.translate=0)}function WI(e,t,n,r){zI(e.x,t.x,n.x,null==r?void 0:r.originX),zI(e.y,t.y,n.y,null==r?void 0:r.originY)}function HI(e,t,n){e.min=n.min+t.min,e.max=e.min+qI(t)}function $I(e,t,n){e.min=t.min-n.min,e.max=e.min+qI(t)}function QI(e,t,n){$I(e.x,t.x,n.x),$I(e.y,t.y,n.y)}function KI(e,t,n,r,i){return e=II(e-=t,1/n,r),void 0!==i&&(e=II(e,1/i,r)),e}function GI(e,t,n,r,i){var o=Cm(n,3),a=o[0],s=o[1],u=o[2];!function(e,t,n,r,i,o,a){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===a&&(a=e),Vx.test(t)&&(t=parseFloat(t),t=ax(a.min,a.max,t/100)-a.min),"number"==typeof t){var s=ax(o.min,o.max,r);e===o&&(s-=t),e.min=KI(e.min,t,n,s,i),e.max=KI(e.max,t,n,s,i)}}(e,t[a],t[s],t[u],t.scale,r,i)}var YI=["x","scaleX","originX"],JI=["y","scaleY","originY"];function XI(e,t,n,r){GI(e.x,t,YI,null==n?void 0:n.x,null==r?void 0:r.x),GI(e.y,t,JI,null==n?void 0:n.y,null==r?void 0:r.y)}function ZI(e){return 0===e.translate&&1===e.scale}function eO(e){return ZI(e.x)&&ZI(e.y)}function tO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var nO=function(){function e(){this.members=[]}return e.prototype.add=function(e){ux(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(lx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),rO={};function iO(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),u&&(o+="rotateY(".concat(u,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(o+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":o}function oO(e){return[e("x"),e("y")]}var aO=["","X","Y","Z"],sO=["transformPerspective","x","y","z"];function uO(e,t){return sO.indexOf(e)-sO.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return aO.forEach((function(t){return sO.push(e+t)}))}));var lO=new Set(sO);function cO(e){return lO.has(e)}var dO=new Set(["originX","originY","originZ"]);function hO(e){return dO.has(e)}var fO=function(e,t){return e.depth-t.depth},pO=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){ux(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){lx(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(fO),this.isDirty=!1,this.children.forEach(e)},e}();function mO(e){var t,n=fx(e)?e.get():e;return t=n,Boolean(t&&"object"==typeof t&&t.mix&&t.toValue)?n.toValue():n}var vO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gO(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(kO),i.nodes.forEach(TO)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?Im(Im([],Cm(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new pO)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new cx),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,Im([],Cm(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,u=o.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||a)&&(this.isLayoutDirty=!0),t){var l,c=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(l),l=setTimeout(c,250),vO.hasAnimatedSinceResize&&(vO.hasAnimatedSinceResize=!1,i.nodes.forEach(SO))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,o,a,s=e.delta,l=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,d=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:NO,f=u.getProps().onLayoutAnimationComplete,p=!i.targetLayout||!tO(i.targetLayout,d)||c,m=!l&&c;(null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||m||l&&(p||!i.currentAnimation)?(i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,m),i.startAnimation(Sm(Sm({},pI(h,"layout")),{onComplete:f}))):i.isLead()&&(null===(a=(o=i.options).onExitComplete)||void 0===a||a.call(o)),i.targetLayout=d}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,xT.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(xO))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,u=a.layout;if(void 0!==s||u){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(wO);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(PO),this.potentialNodes.clear()),this.nodes.forEach(EO),this.nodes.forEach(yO),this.nodes.forEach(_O),this.clearAllSnapshots(),CT.update(),CT.preRender(),CT.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(bO),this.sharedNodes.forEach(CO)},e.prototype.scheduleUpdateProjection=function(){PT.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;PT.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));DO(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();DO(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!eO(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,o=null==r?void 0:r(this.latestValues,""),a=o!==this.prevTransformTemplateValue;t&&(n||xI(this.latestValues)||a)&&(i(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(PI(t.x,n.x),PI(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};SI(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;r!==this.root&&i&&o.layoutScroll&&(PI(t.x,i.x),PI(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};SI(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&MI(n,{x:-i.scroll.x,y:-i.scroll.y}),xI(i.latestValues)&&MI(n,i.latestValues)}return xI(this.latestValues)&&MI(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};SI(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&xI(i.latestValues)){TI(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};SI(o,i.measure()),XI(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return xI(this.latestValues)&&XI(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=Sm(Sm(Sm({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},QI(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),SI(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,HI(t.x,n.x,r.x),HI(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):SI(this.target,this.layout.actual),NI(this.target,this.targetDelta)):SI(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},QI(this.relativeTargetOrigin,this.target,this.relativeParent.target),SI(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!xI(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();SI(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,o;void 0===r&&(r=!1);var a=n.length;if(a){var s,u;t.x=t.y=1;for(var l=0;l<a;l++)u=(s=n[l]).projectionDelta,"contents"!==(null===(o=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&MI(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,NI(e,u)),r&&xI(s.latestValues)&&MI(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var a=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;WI(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=iO(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null==i?void 0:i.latestValues)||{},a=Sm({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},l=null==i?void 0:i.isShared,c=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,d=Boolean(l&&!c&&!0===this.options.crossfade&&!this.path.some(RO));this.mixTargetDelta=function(t){var n,i,h,f,p,m=t/1e3;IO(s.x,e.x,m),IO(s.y,e.y,m),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(QI(u,r.layout.actual,r.relativeParent.layout.actual),i=r.relativeTarget,h=r.relativeTargetOrigin,f=u,p=m,OO(i.x,h.x,f.x,p),OO(i.y,h.y,f.y,p)),l&&(r.animationValues=a,function(e,t,n,r,i,o){var a,s,u,l;i?(e.opacity=ax(0,null!==(a=n.opacity)&&void 0!==a?a:1,_I(r)),e.opacityExit=ax(null!==(s=t.opacity)&&void 0!==s?s:1,0,bI(r))):o&&(e.opacity=ax(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var c=0;c<gI;c++){var d="border".concat(vI[c],"Radius"),h=yI(t,d),f=yI(n,d);if((void 0!==h||void 0!==f)&&(h||(h=0),f||(f=0),"number"==typeof h&&"number"==typeof f)){var p=Math.max(ax(h,f,r),0);e[d]=p}}(t.rotate||n.rotate)&&(e.rotate=ax(t.rotate||0,n.rotate||0,r))}(a,o,r.latestValues,m,d,c)),r.root.scheduleUpdateProjection(),r.scheduleRender()},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(xT.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=PT.update((function(){vO.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=fx(0)?0:hx(0);return mI("",r,1e3,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,0,Sm(Sm({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(SI(t,n),MI(t,i),WI(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new nO),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<aO.length;r++){var i="rotate"+aO[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,o,a;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=mO(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var c={};return this.options.layoutId&&(c.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,c.pointerEvents=mO(e.pointerEvents)||""),this.hasProjected&&!xI(this.latestValues)&&(c.transform=u?u({},""):"none",this.hasProjected=!1),c}var d=l.animationValues||l.latestValues;this.applyTransformsToTarget(),s.transform=iO(this.projectionDeltaWithTransform,this.treeScale,d),u&&(s.transform=u(d,s.transform));var h=this.projectionDelta,f=h.x,p=h.y;for(var m in s.transformOrigin="".concat(100*f.origin,"% ").concat(100*p.origin,"% 0"),l.animationValues?s.opacity=l===this?null!==(i=null!==(r=d.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=l===this?null!==(o=d.opacity)&&void 0!==o?o:"":null!==(a=d.opacityExit)&&void 0!==a?a:0,rO)if(void 0!==d[m]){var v=rO[m],g=v.correct,y=v.applyTo,_=g(d[m],l);if(y)for(var b=y.length,w=0;w<b;w++)s[y[w]]=_;else s[m]=_}return this.options.layoutId&&(s.pointerEvents=l===this?mO(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(wO),this.root.sharedNodes.clear()},e}()}function yO(e){e.updateLayout()}function _O(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,u=a.measured;"size"===e.options.animationType?oO((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=qI(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&oO((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=qI(s[e]);t.max=t.min+n}));var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};WI(l,s,o.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?WI(c,e.applyTransform(u,!0),o.measured):WI(c,s,o.layout);var d=!eO(l),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var f=e.relativeParent,p=f.snapshot,m=f.layout;if(p&&m){var v={x:{min:0,max:0},y:{min:0,max:0}};QI(v,o.layout,p.layout);var g={x:{min:0,max:0},y:{min:0,max:0}};QI(g,s,m.actual),tO(v,g)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function bO(e){e.clearSnapshot()}function wO(e){e.clearMeasurements()}function EO(e){e.resetTransform()}function SO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function kO(e){e.resolveTargetDelta()}function TO(e){e.calcProjection()}function xO(e){e.resetRotation()}function CO(e){e.removeLeadSnapshot()}function IO(e,t,n){e.translate=ax(t.translate,0,n),e.scale=ax(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function OO(e,t,n,r){e.min=ax(t.min,n.min,r),e.max=ax(t.max,n.max,r)}function RO(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var NO={duration:.45,ease:[.4,0,.1,1]};function PO(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function AO(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function DO(e){AO(e.x),AO(e.y)}var LO=1,MO=(0,r.createContext)({}),FO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Em(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(r.Component);function jO(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,s=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?WT.projectionNodeConstructor=e[t]:WT[t].Component=e[t])}(t),(0,r.forwardRef)((function(e,t){var u=function(e){var t,n=e.layoutId,i=null===(t=(0,r.useContext)(UT))||void 0===t?void 0:t.id;return i&&void 0!==n?i+"-"+n:n}(e);e=Sm(Sm({},e),{layoutId:u});var l=(0,r.useContext)(KT),c=null,d=function(e){var t=function(e,t){if(rx(e)){var n=e.initial,r=e.animate;return{initial:!1===n||ex(n)?n:void 0,animate:ex(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(GT)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[ox(n),ox(i)])}(e),h=l.isStatic?void 0:LT((function(){if(vO.hasEverUpdated)return LO++})),f=a(e,l.isStatic);return!l.isStatic&&YT&&(d.visualElement=function(e,t,n,i){var o=(0,r.useContext)(HT),a=(0,r.useContext)(GT).visualElement,s=(0,r.useContext)(DT),u=(0,r.useRef)(void 0);i||(i=o.renderer),!u.current&&i&&(u.current=i(e,{visualState:t,parent:a,props:n,presenceId:null==s?void 0:s.id,blockInitialAnimation:!1===(null==s?void 0:s.initial)}));var l=u.current;return JT((function(){null==l||l.syncRender()})),(0,r.useEffect)((function(){var e;null===(e=null==l?void 0:l.animationState)||void 0===e||e.animateChanges()})),JT((function(){return function(){return null==l?void 0:l.notifyUnmount()}}),[]),l}(s,f,Sm(Sm({},l),e),n),function(e,t,n,i){var o,a=t.layoutId,s=t.layout,u=t.drag,l=t.dragConstraints,c=t.layoutScroll,d=(0,r.useContext)(MO);i&&n&&!(null==n?void 0:n.projection)&&(n.projection=new i(e,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(u)||l&&XT(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof s?s:"both",initialPromotionConfig:d,layoutScroll:c}))}(h,e,d.visualElement,i||WT.projectionNodeConstructor),c=function(e,t,n){var i=[];if((0,r.useContext)(HT),!t)return null;for(var o=0;o<QT;o++){var a=$T[o],s=WT[a],u=s.isEnabled,l=s.Component;u(e)&&l&&i.push(r.createElement(l,Sm({key:a},e,{visualElement:t})))}return i}(e,d.visualElement)),r.createElement(FO,{visualElement:d.visualElement,props:Sm(Sm({},l),e)},c,r.createElement(GT.Provider,{value:d},o(s,e,h,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):XT(n)&&(n.current=r))}),[t])}(f,d.visualElement,t),f,l.isStatic,d.visualElement)))}))}function VO(e){function t(t,n){return void 0===n&&(n={}),jO(e(t,n))}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var UO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function qO(e){return"string"==typeof e&&!e.includes("-")&&!!(UO.indexOf(e)>-1||/[A-Z]/.test(e))}function BO(e,t){var n=t.layout,r=t.layoutId;return cO(e)||hO(e)||(n||void 0!==r)&&(!!rO[e]||"opacity"===e)}var zO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function WO(e){return e.startsWith("--")}var HO=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function $O(e,t,n,r){var i,o=e.style,a=e.vars,s=e.transform,u=e.transformKeys,l=e.transformOrigin;u.length=0;var c=!1,d=!1,h=!0;for(var f in t){var p=t[f];if(WO(f))a[f]=p;else{var m=aI[f],v=HO(p,m);if(cO(f)){if(c=!0,s[f]=v,u.push(f),!h)continue;p!==(null!==(i=m.default)&&void 0!==i?i:0)&&(h=!1)}else hO(f)?(l[f]=v,d=!0):o[f]=v}}c?o.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,u=t.allowTransformNone,l=void 0===u||u,c="";o.sort(uO);for(var d=!1,h=o.length,f=0;f<h;f++){var p=o[f];c+="".concat(zO[p]||p,"(").concat(i[p],") "),"z"===p&&(d=!0)}return!d&&s?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(e,n,h,r):r&&(o.transform=r({},"")),d&&(o.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ,a=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(a)}(l))}function QO(e,t,n){for(var r in t)fx(t[r])||BO(r,n)||(e[r]=t[r])}function KO(e,t,n){var i={},o=function(e,t,n){var i={};return QO(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};$O(e,t,{enableHardwareAcceleration:!n},i);var r=e.style;return Sm(Sm({},e.vars),r)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),i.style=o,i}var GO=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function YO(e){return GO.has(e)}var JO=function(e){return!YO(e)};try{var XO=require("@emotion/is-prop-valid").default;JO=function(e){return e.startsWith("on")?!YO(e):XO(e)}}catch(Yg){}function ZO(e,t,n){return"string"==typeof e?e:Ux.transform(t+n*e)}var eR={offset:"stroke-dashoffset",array:"stroke-dasharray"},tR={offset:"strokeDashoffset",array:"strokeDasharray"};function nR(e,t,n,r){var i=t.attrX,o=t.attrY,a=t.originX,s=t.originY,u=t.pathLength,l=t.pathSpacing,c=void 0===l?1:l,d=t.pathOffset,h=void 0===d?0:d;$O(e,km(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var f=e.attrs,p=e.style,m=e.dimensions;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=ZO(t,e.x,e.width),i=ZO(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var o=i?eR:tR;e[o.offset]=Ux.transform(-r);var a=Ux.transform(t),s=Ux.transform(n);e[o.array]="".concat(a," ").concat(s)}(f,u,c,h,!1)}var rR=function(){return Sm(Sm({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function iR(e,t){var n=(0,r.useMemo)((function(){var n=rR();return nR(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),Sm(Sm({},n.attrs),{style:Sm({},n.style)})}),[t]);if(e.style){var i={};QO(i,e.style,e),n.style=Sm(Sm({},i),n.style)}return n}function oR(e){return void 0===e&&(e=!1),function(t,n,i,o,a,s){var u=a.latestValues,l=(qO(t)?iR:KO)(n,u,s),c=function(e,t,n){var r={};for(var i in e)(JO(i)||!0===n&&YO(i)||!t&&!YO(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),d=Sm(Sm(Sm({},c),l),{ref:o});return i&&(d["data-projection-id"]=i),(0,r.createElement)(t,d)}}var aR=/([a-z])([A-Z])/g,sR=function(e){return e.replace(aR,"$1-$2").toLowerCase()};function uR(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var lR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function cR(e,t){for(var n in uR(e,t),t.attrs)e.setAttribute(lR.has(n)?n:sR(n),t.attrs[n])}function dR(e){var t=e.style,n={};for(var r in t)(fx(t[r])||BO(r,e))&&(n[r]=t[r]);return n}function hR(e){var t=dR(e);for(var n in e)fx(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function fR(e){return"object"==typeof e&&"function"==typeof e.start}function pR(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:vR(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var mR=function(e){return function(t,n){var i=(0,r.useContext)(GT),o=(0,r.useContext)(DT);return n?pR(e,t,i,o):LT((function(){return pR(e,t,i,o)}))}};function vR(e,t,n,r){var i={},o=!1===(null==n?void 0:n.initial),a=r(e);for(var s in a)i[s]=mO(a[s]);var u=e.initial,l=e.animate,c=rx(e),d=ix(e);t&&d&&!c&&!1!==e.inherit&&(null!=u||(u=t.initial),null!=l||(l=t.animate));var h=o||!1===u,f=h?l:u;return f&&"boolean"!=typeof f&&!fR(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=tx(e,t);if(n){var r=n.transitionEnd;n.transition;var o=km(n,["transitionEnd","transition"]);for(var a in o){var s=o[a];Array.isArray(s)&&(s=s[h?s.length-1:0]),null!==s&&(i[a]=s)}for(var a in r)i[a]=r[a]}})),i}var gR,yR={useVisualState:mR({scrapeMotionValuesFromProps:hR,createRenderState:rR,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}nR(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),cR(t,r)}})},_R={useVisualState:mR({scrapeMotionValuesFromProps:dR,createRenderState:function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}})};function bR(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function wR(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return bR(r,t,n,i)}),[e,t,n,i])}function ER(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function SR(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(gR||(gR={}));var kR={pageX:0,pageY:0};function TR(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||kR;return{x:n[t+"X"],y:n[t+"Y"]}}function xR(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function CR(e,t){return void 0===t&&(t="page"),{point:SR(e)?TR(e,t):xR(e,t)}}var IR=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,CR(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},OR={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},RR={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function NR(e){return YT&&null===window.onpointerdown?e:YT&&null===window.ontouchstart?RR[e]:YT&&null===window.onmousedown?OR[e]:e}function PR(e,t,n,r){return bR(e,NR(t),IR(n,"pointerdown"===t),r)}function AR(e,t,n,r){return wR(e,NR(t),n&&IR(n,"pointerdown"===t),r)}function DR(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var LR=DR("dragHorizontal"),MR=DR("dragVertical");function FR(e){var t=!1;if("y"===e)t=MR();else if("x"===e)t=LR();else{var n=LR(),r=MR();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function jR(){var e=FR(!0);return!e||(e(),!1)}function VR(e,t,n){return function(r,i){var o;ER(r)&&!jR()&&(null===(o=e.animationState)||void 0===o||o.setActive(gR.Hover,t),null==n||n(r,i))}}var UR=function(e,t){return!!t&&(e===t||UR(e,t.parentElement))},qR=new WeakMap,BR=new WeakMap,zR=function(e){var t;null===(t=qR.get(e.target))||void 0===t||t(e)},WR=function(e){e.forEach(zR)};var HR={some:0,all:1};function $R(e,t,n,i){var o=i.root,a=i.margin,s=i.amount,u=void 0===s?"some":s,l=i.once;(0,r.useEffect)((function(){if(e){var r={root:null==o?void 0:o.current,rootMargin:a,threshold:"number"==typeof u?u:HR[u]};return function(e,t,n){var r=function(e){var t=e.root,n=km(e,["root"]),r=t||document;BR.has(r)||BR.set(r,{});var i=BR.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(WR,Sm({root:t},n))),i[o]}(t);return qR.set(e,n),r.observe(e),function(){qR.delete(e),r.unobserve(e)}}(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!l||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(gR.InView,i);var o=n.getProps(),a=i?o.onViewportEnter:o.onViewportLeave;null==a||a(e)}}))}}),[e,o,a,u])}function QR(e,t,n){(0,r.useEffect)((function(){e&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(gR.InView,!0)}))}),[e])}var KR=function(e){return function(t){return e(t),null}},GR={inView:KR((function(e){var t=e.visualElement,n=e.whileInView,i=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,s=void 0===a?{}:a,u=(0,r.useRef)({hasEnteredView:!1,isInView:!1}),l=Boolean(n||i||o);s.once&&u.current.hasEnteredView&&(l=!1),("undefined"==typeof IntersectionObserver?QR:$R)(l,u.current,t,s)})),tap:KR((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=t||n||i||o,u=(0,r.useRef)(!1),l=(0,r.useRef)(null);function c(){var e;null===(e=l.current)||void 0===e||e.call(l),l.current=null}function d(){var e;return c(),u.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(gR.Tap,!1),!jR()}function h(e,n){d()&&(UR(a.getInstance(),e.target)?null==t||t(e,n):null==i||i(e,n))}function f(e,t){d()&&(null==i||i(e,t))}AR(a,"pointerdown",s?function(e,t){var r;c(),u.current||(u.current=!0,l.current=uC(PR(window,"pointerup",h),PR(window,"pointercancel",f)),null===(r=a.animationState)||void 0===r||r.setActive(gR.Tap,!0),null==n||n(e,t))}:void 0),AT(c)})),focus:KR((function(e){var t=e.whileFocus,n=e.visualElement;wR(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(gR.Focus,!0)}:void 0),wR(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(gR.Focus,!1)}:void 0)})),hover:KR((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;AR(i,"pointerenter",t||r?VR(i,!0,t):void 0),AR(i,"pointerleave",n||r?VR(i,!1,n):void 0)}))};function YR(){var e=(0,r.useContext)(DT);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,o=ZR();return(0,r.useEffect)((function(){return i(o)}),[]),!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var JR=0,XR=function(){return JR++},ZR=function(){return LT(XR)};function eN(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var tN=function(e){return function(t){return t.test(e)}},nN=[Ix,Ux,Vx,jx,Bx,qx,{test:function(e){return"auto"===e},parse:function(e){return e}}],rN=function(e){return nN.find(tN(e))},iN=Im(Im([],Cm(nN),!1),[Xx,oC],!1),oN=function(e){return iN.find(tN(e))};function aN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hx(n))}function sN(e,t){if(t)return(t[e]||t.default||t).from}function uN(e,t,n){var r;void 0===n&&(n={});var i=nx(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return lN(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=a.delayChildren,o=void 0===i?0:i,s=a.staggerChildren,u=a.staggerDirection;return function(e,t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var a=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(cN).forEach((function(e,r){a.push(uN(e,t,Sm(Sm({},o),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,o+r,s,u,n)}:function(){return Promise.resolve()},l=a.when;if(l){var c=Cm("beforeChildren"===l?[s,u]:[u,s],2),d=c[0],h=c[1];return d().then(h)}return Promise.all([s(),u(n.delay)])}function lN(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,u=i.type,l=e.makeTargetAnimatable(t),c=l.transition,d=void 0===c?e.getDefaultTransition():c,h=l.transitionEnd,f=km(l,["transition","transitionEnd"]);s&&(d=s);var p=[],m=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var v in f){var g=e.getValue(v),y=f[v];if(!(!g||void 0===y||m&&dN(m,v))){var _=mI(v,g,y,Sm({delay:a},d));p.push(_)}}return Promise.all(p).then((function(){h&&function(e,t){var n=nx(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var a=km(r,["transitionEnd","transition"]);for(var s in a=Sm(Sm({},a),o))aN(e,s,cI(a[s]))}(e,h)}))}function cN(e,t){return e.sortNodePosition(t)}function dN(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var hN=[gR.Animate,gR.InView,gR.Focus,gR.Hover,gR.Tap,gR.Drag,gR.Exit],fN=Im([],Cm(hN),!1).reverse(),pN=hN.length;function mN(e){var t=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return uN(e,t,n)}));r=Promise.all(i)}else if("string"==typeof t)r=uN(e,t,n);else{var o="function"==typeof t?nx(e,t,n.custom):t;r=lN(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}(e),n=function(){var e;return(e={})[gR.Animate]=vN(!0),e[gR.InView]=vN(),e[gR.Hover]=vN(),e[gR.Tap]=vN(),e[gR.Drag]=vN(),e[gR.Focus]=vN(),e[gR.Exit]=vN(),e}(),r={},i=!0,o=function(t,n){var r=nx(e,n);if(r){r.transition;var i=r.transitionEnd,o=km(r,["transition","transitionEnd"]);t=Sm(Sm(Sm({},t),o),i)}return t};function a(a,s){for(var u,l=e.getProps(),c=e.getVariantContext(!0)||{},d=[],h=new Set,f={},p=1/0,m=function(t){var r=fN[t],m=n[r],v=null!==(u=l[r])&&void 0!==u?u:c[r],g=ex(v),y=r===s?m.isActive:null;!1===y&&(p=t);var _=v===c[r]&&v!==l[r]&&g;if(_&&i&&e.manuallyAnimateOnMount&&(_=!1),m.protectedKeys=Sm({},f),!m.isActive&&null===y||!v&&!m.prevProp||fR(v)||"boolean"==typeof v)return"continue";var b=function(e,t){return"string"==typeof t?t!==e:!!ZT(t)&&!eN(t,e)}(m.prevProp,v),w=b||r===s&&m.isActive&&!_&&g||t>p&&g,E=Array.isArray(v)?v:[v],S=E.reduce(o,{});!1===y&&(S={});var k=m.prevResolvedValues,T=void 0===k?{}:k,x=Sm(Sm({},T),S),C=function(e){w=!0,h.delete(e),m.needsAnimating[e]=!0};for(var I in x){var O=S[I],R=T[I];f.hasOwnProperty(I)||(O!==R?GC(O)&&GC(R)?!eN(O,R)||b?C(I):m.protectedKeys[I]=!0:void 0!==O?C(I):h.add(I):void 0!==O&&h.has(I)?C(I):m.protectedKeys[I]=!0)}m.prevProp=v,m.prevResolvedValues=S,m.isActive&&(f=Sm(Sm({},f),S)),i&&e.blockInitialAnimation&&(w=!1),w&&!_&&d.push.apply(d,Im([],Cm(E.map((function(e){return{animation:e,options:Sm({type:r},a)}}))),!1))},v=0;v<pN;v++)m(v);if(r=Sm({},f),h.size){var g={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),d.push({animation:g})}var y=Boolean(d.length);return i&&!1===l.initial&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:a,setActive:function(t,r,i){var o;return n[t].isActive===r?Promise.resolve():(null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r,a(i,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function vN(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var gN={animation:KR((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=mN(t)),fR(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:KR((function(e){var t=e.custom,n=e.visualElement,i=Cm(YR(),2),o=i[0],a=i[1],s=(0,r.useContext)(DT);(0,r.useEffect)((function(){var e,r;n.isPresent=o;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(gR.Exit,!o,{custom:null!==(r=null==s?void 0:s.custom)&&void 0!==r?r:t});!o&&(null==i||i.then(a))}),[o])}))},yN=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=wN(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=UI(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=NT().timestamp;r.history.push(Sm(Sm({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,u=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=_N(t,r.transformPagePoint),ER(e)&&0===e.buttons?r.handlePointerUp(e,t):PT.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=wN(_N(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!(SR(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=_N(CR(e),this.transformPagePoint),a=o.point,s=NT().timestamp;this.history=[Sm(Sm({},a),{timestamp:s})];var u=t.onSessionStart;u&&u(e,wN(o,this.history)),this.removeListeners=uC(PR(window,"pointermove",this.handlePointerMove),PR(window,"pointerup",this.handlePointerUp),PR(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),xT.update(this.updatePoint)},e}();function _N(e,t){return t?{point:t(e.point)}:e}function bN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wN(e,t){var n=e.point;return{point:n,delta:bN(n,SN(t)),offset:bN(n,EN(t)),velocity:kN(t,.1)}}function EN(e){return e[0]}function SN(e){return e[e.length-1]}function kN(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=SN(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>jC(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function TN(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function xN(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=Cm([i,r],2))[0],i=n[1]),{min:r,max:i}}var CN=.35;function IN(e,t,n){return{min:ON(e,t),max:ON(e,n)}}function ON(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function RN(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function NN(e,t){return RN(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var PN=new WeakMap,AN=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new yN(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(CR(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=FR(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),oO((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(Vx.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];o&&(i=qI(o)*(parseFloat(i)/100))}n.originPoint[e]=i})),null==s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(gR.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(u),void(null!==n.currentDirection&&(null==a||a(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null==s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(gR.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&DN(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?ax(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?ax(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&XT(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:TN(e.x,r,o),y:TN(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=CN),!1===e?e=0:!0===e&&(e=CN),{x:IN(e,"left","right"),y:IN(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&oO((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!XT(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=NN(e,n),i=t.scroll;return i&&(PI(r.x,i.x),PI(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:xN(e.x,t.x),y:xN(e.y,t.y)}}(i.layout.actual,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=RN(s))}return a},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,l=this.constraints||{},c=oO((function(n){var u;if(DN(n,r,t.currentDirection)){var c=null!==(u=null==l?void 0:l[n])&&void 0!==u?u:{};s&&(c={min:0,max:0});var d=o?200:1e6,h=o?40:1e7,f=Sm(Sm({type:"inertia",velocity:i?e[n]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.startAxisValueAnimation(n,f)}}));return Promise.all(c).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return mI(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;oO((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;oO((function(n){if(DN(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],a=o.min,s=o.max;i.set(e[n]-ax(a,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(XT(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};oO((function(e){var n,r,i,o,s,u=t.getAxisMotionValue(e);if(u){var l=u.get();a[e]=(n={min:l,max:l},r=t.constraints[e],i=.5,o=qI(n),(s=qI(r))>o?i=wx(r.min,r.max-o,n.min):o>s&&(i=wx(n.min,n.max-s,r.min)),px(0,1,i))}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),oO((function(e){if(DN(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(ax(o,s,a[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;PN.set(this.visualElement,this);var n=PR(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){XT(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var a=bR(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(oO((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){a(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,u=void 0!==s&&s,l=e.dragElastic,c=void 0===l?CN:l,d=e.dragMomentum,h=void 0===d||d;return Sm(Sm({},e),{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:h})},e}();function DN(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var LN={pan:KR((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=t||n||i||o,u=(0,r.useRef)(null),l=(0,r.useContext)(KT).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==u.current&&u.current.updateHandlers(c)})),AR(a,"pointerdown",s&&function(e){u.current=new yN(e,c,{transformPagePoint:l})}),AT((function(){return u.current&&u.current.end()}))})),drag:KR((function(e){var t=e.dragControls,n=e.visualElement,i=LT((function(){return new AN(n)}));(0,r.useEffect)((function(){return t&&t.subscribe(i)}),[i,t]),(0,r.useEffect)((function(){return i.addListeners()}),[i])}))},MN=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"],FN=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,l=e.removeValueFromRenderState,c=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,f=e.props,p=e.presenceId,m=e.blockInitialAnimation,v=e.visualState;void 0===t&&(t={});var g,y,_=!1,b=v.latestValues,w=v.renderState,E=function(){var e=MN.map((function(){return new cx})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){MN.forEach((function(r){var i,o="on"+r,a=e[o];null===(i=t[r])||void 0===i||i.call(t),a&&(t[r]=n[o](a))}))}};return e.forEach((function(e,t){n["on"+MN[t]]=function(t){return e.add(t)},n["notify"+MN[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.notify.apply(e,Im([],Cm(t),!1))}})),n}(),S=new Map,k=new Map,T={},x=Sm({},b);function C(){g&&_&&(I(),s(g,w,f.style,L.projection))}function I(){r(L,w,b,t,f)}function O(){E.notifyUpdate(b)}var R=d(f);for(var N in R){var P=R[N];void 0!==b[N]&&fx(P)&&P.set(b[N],!1)}var A=rx(f),D=ix(f),L=Sm(Sm({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,variantChildren:D?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==h?void 0:h.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(g)},mount:function(e){_=!0,g=L.current=e,L.projection&&L.projection.mount(e),D&&h&&!A&&(y=null==h?void 0:h.addVariantChild(L)),null==h||h.children.add(L),L.setProps(f)},unmount:function(){var e;null===(e=L.projection)||void 0===e||e.unmount(),xT.update(O),xT.render(C),k.forEach((function(e){return e()})),null==y||y(),null==h||h.children.delete(L),E.clearAllListeners(),g=void 0,_=!1},addVariantChild:function(e){var t,n=L.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(L.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return D?L:null==h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return f.layoutId},getInstance:function(){return g},getStaticValue:function(e){return b[e]},setStaticValue:function(e,t){return b[e]=t},getLatestValues:function(){return b},setVisibility:function(e){L.isVisible!==e&&(L.isVisible=e,L.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(L,e,f,t)},measureViewportBox:function(){return a(g,f)},addValue:function(e,t){L.hasValue(e)&&L.removeValue(e),S.set(e,t),b[e]=t.get(),function(e,t){var n=t.onChange((function(t){b[e]=t,f.onUpdate&&PT.update(O,!1,!0)})),r=t.onRenderRequest(L.scheduleRender);k.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=k.get(e))||void 0===t||t(),k.delete(e),delete b[e],l(e,w)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var n=S.get(e);return void 0===n&&void 0!==t&&(n=hx(t),L.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){var n;return null!==(n=b[e])&&void 0!==n?n:u(g,e,t)},setBaseTarget:function(e,t){x[e]=t},getBaseTarget:function(e){if(i){var t=i(f,e);if(void 0!==t&&!fx(t))return t}return x[e]}},E),{build:function(){return I(),w},scheduleRender:function(){PT.render(C,!1,!0)},syncRender:C,setProps:function(e){f=e,E.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(fx(o))e.addValue(i,o);else if(fx(a))e.addValue(i,hx(o));else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else e.addValue(i,hx(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(L,d(f),T)},getProps:function(){return f},getVariant:function(e){var t;return null===(t=f.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return f.transition},getTransformPagePoint:function(){return f.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==h?void 0:h.getVariantContext();if(!A){var t=(null==h?void 0:h.getVariantContext())||{};return void 0!==f.initial&&(t.initial=f.initial),t}for(var n={},r=0;r<VN;r++){var i=jN[r],o=f[i];(ex(o)||!1===o)&&(n[i]=o)}return n}});return L}},jN=Im(["initial"],Cm(hN),!1),VN=jN.length;function UN(e){return"string"==typeof e&&e.startsWith("var(--")}var qN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BN(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=Cm(function(e){var t=qN.exec(e);if(!t)return[,];var n=Cm(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():UN(o)?BN(o,t,n+1):o}}var zN,WN=new Set(["width","height","top","left","right","bottom","x","y"]),HN=function(e){return WN.has(e)},$N=function(e,t){e.set(t,!1),e.set(t)},QN=function(e){return e===Ix||e===Ux};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(zN||(zN={}));var KN=function(e,t){return parseFloat(e.split(", ")[t])},GN=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return KN(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?KN(a[1],e):0}},YN=new Set(["x","y","z"]),JN=sO.filter((function(e){return!YN.has(e)})),XN={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:GN(4,13),y:GN(5,14)};function ZN(e,t,n,r){return function(e){return Object.keys(e).some(HN)}(t)?function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=Sm({},t),r=Sm({},r);var i=Object.keys(t).filter(HN),o=[],a=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var l,c=n[i],d=rN(c),h=t[i];if(GC(h)){var f=h.length,p=null===h[0]?1:0;c=h[p],d=rN(c);for(var m=p;m<f;m++)l?rN(h[m]):(l=rN(h[m]))===d||QN(d)&&QN(l)}else l=rN(h);if(d!==l)if(QN(d)&&QN(l)){var v=u.get();"string"==typeof v&&u.set(parseFloat(v)),"string"==typeof h?t[i]=parseFloat(h):Array.isArray(h)&&l===Ux&&(t[i]=h.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==l?void 0:l.transform)&&(0===c||0===h)?0===c?u.set(l.transform(c)):t[i]=d.transform(h):(a||(o=function(e){var t=[];return JN.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],$N(u,h))}})),s.length){var u=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=XN[e](r,o)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);$N(r,s[n]),e[n]=XN[n](u,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var n=Cm(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var eP={treeType:"dom",readValueFromInstance:function(e,t){if(cO(t)){var n=uI(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(WO(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return NN(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=km(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!==(r=sN(a,t))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,o,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var l=0;l<u;l++){var c=s[l],d=t[c],h=null;Array.isArray(d)&&(h=d[0]),null===h&&(h=null!==(i=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==i?i:t[c]),null!=h&&("string"==typeof h&&(/^\-?\d*\.?\d+$/.test(h)||/^0[^.\s]+$/.test(h))?h=parseFloat(h):!oN(h)&&oC.test(d)&&(h=lI(c,d)),e.addValue(c,hx(h)),null!==(o=(a=n)[c])&&void 0!==o||(a[c]=h),e.setBaseTarget(c,h))}}(e,s,u);var l=function(e,t,n,r){var i=function(e,t,n){var r,i=km(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:n};for(var a in n&&(n=Sm({},n)),e.forEachValue((function(e){var t=e.get();if(UN(t)){var n=BN(t,o);n&&e.set(n)}})),i){var s=i[a];if(UN(s)){var u=BN(s,o);u&&(i[a]=u,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return ZN(e,t=i.target,n,r=i.transitionEnd)}(e,s,u,a);a=l.transitionEnd,s=l.target}return Sm({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:dR,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),$O(t,n,r,i.transformTemplate)},render:uR},tP=FN(eP),nP=FN(Sm(Sm({},eP),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return cO(t)?(null===(n=uI(t))||void 0===n?void 0:n.default)||0:(t=lR.has(t)?t:sR(t),e.getAttribute(t))},scrapeMotionValuesFromProps:hR,build:function(e,t,n,r,i){nR(t,n,r,i.transformTemplate)},render:cR})),rP=function(e,t){return qO(e)?nP(t,{enableHardwareAcceleration:!1}):tP(t,{enableHardwareAcceleration:!0})};function iP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var oP={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!Ux.test(e))return e;e=parseFloat(e)}var n=iP(e,t.target.x),r=iP(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},aP="_$css",sP={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(qN,(function(e){return a.push(e),aP})));var s=oC.parse(e);if(s.length>5)return i;var u=oC.createTransformer(e),l="number"!=typeof s[0]?1:0,c=r.x.scale*n.x,d=r.y.scale*n.y;s[0+l]/=c,s[1+l]/=d;var h=ax(c,d,.5);"number"==typeof s[2+l]&&(s[2+l]/=h),"number"==typeof s[3+l]&&(s[3+l]/=h);var f=u(s);if(o){var p=0;f=f.replace(aP,(function(){var e=a[p];return p++,e}))}return f}},uP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Em(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,s=r.projection;e=lP,Object.assign(rO,e),s&&((null==i?void 0:i.group)&&i.group.add(s),(null==o?void 0:o.register)&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Sm(Sm({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),vO.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s?(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||PT.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(r.Component),lP={borderRadius:Sm(Sm({},oP),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:oP,borderTopRightRadius:oP,borderBottomLeftRadius:oP,borderBottomRightRadius:oP,boxShadow:sP},cP={measureLayout:function(e){var t=Cm(YR(),2),n=t[0],i=t[1],o=(0,r.useContext)(UT);return r.createElement(uP,Sm({},e,{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(MO),isPresent:n,safeToRemove:i}))}},dP=gO({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),hP={current:void 0},fP=gO({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!hP.current){var e=new dP(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),hP.current=e}return hP.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"}}),pP=Sm(Sm(Sm(Sm({},gN),GR),LN),cP),mP=VO((function(e,t){return function(e,t,n,r,i){var o=t.forwardMotionProps,a=void 0!==o&&o,s=qO(e)?yR:_R;return Sm(Sm({},s),{preloadedFeatures:n,useRender:oR(a),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,pP,rP,fP)}));const vP=({actions:e,onRemoved:t,text:n})=>((0,r.useEffect)((()=>{if(!(e&&e.length>0))return setTimeout((()=>{t()}),5e3),()=>clearTimeout(void 0)}),[e]),r.createElement("div",{className:"notification"},r.createElement("div",{className:"notification--text",dangerouslySetInnerHTML:{__html:n}}),e?.map(((e,n)=>r.createElement("button",{key:n,className:"notification--action",onClick:()=>{t(),e.onClick()}},e.text))))),gP=aa({key:"getNotifications",default:[]}),yP=sa({key:"addNotificationProxy",get:({get:e})=>e(gP)[0],set:({set:e,get:t},n)=>{if(n instanceof ia)return;const r=t(gP),i=r.length>0?r[r.length-1].id+1:1;e(gP,[...r,{...n,id:i}])}}),_P=sa({key:"removeNotificationProxy",get:({get:e})=>e(gP)[0],set:({set:e,get:t},n)=>{if(n instanceof ia)return;const r=t(gP).filter((e=>e.id!==n.id));e(gP,r)}}),bP=()=>{const e=ca(gP),t=ha(_P),n={hidden:{height:"0px",overflow:"hidden"},visible:{height:"auto",overflow:"hidden"}};return r.createElement("div",{className:"notification-center"},r.createElement(BT,null,e.map(((e,i)=>r.createElement(mP.div,{key:e.id,transition:{duration:.3},animate:"visible",initial:"hidden",exit:"hidden",variants:n,style:{zIndex:100-i}},r.createElement(vP,{...e,onRemoved:()=>t(e)}))))))},wP=sa({key:"getCategories",get:({get:e})=>e(rT).reduce(((e,t)=>(t.categories.map((t=>{const n=e.find((e=>e.name===t));n?n.count++:e.push({name:t,count:1})})),e)),[]).sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())))}),EP=ua({key:"getCategoriesBannedForRoom",default:e=>am(tm(fm(),`${e}/categoriesBanned`)).then((e=>e.val()||[])),effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=fm(),i=tm(r,e),o=tm(r,`${e}/categoriesBanned`);n((e=>{om(i,{categoriesBanned:e})}));const a=lm(o,(e=>t(e.val()||[])));return()=>a()}]}),SP=()=>{const e=ca(wP),t=ca(bm),[n,i]=da(EP(t)),[o,a]=(0,r.useState)(!0),{t:s}=$u(),u={hidden:{y:"82%"},visible:{y:0}};return r.createElement(BT,null,r.createElement(mP.div,{className:"categories",transition:{duration:.3},initial:"hidden",animate:o?"visible":"hidden",variants:u,exit:u.hidden},r.createElement("div",{className:"categories--title",onClick:()=>a(!o)},s("categories.choose-categories")),r.createElement("div",{className:"categories--container"},e.map(((e,t)=>r.createElement("div",{key:t,className:"categorie"},r.createElement("input",{type:"checkbox",id:e.name,className:"categorie--checkbox",onChange:()=>(e=>n.includes(e)?i(n.filter((t=>t!==e))):i([...n,e]))(e.name),checked:!n.includes(e.name)}),r.createElement("label",{className:"categorie--label",htmlFor:e.name},e.name," (",e.count,")")))))))},kP=({name:e,inline:t,photoURL:n})=>{const i=["player"];return t&&i.push("player--inline"),r.createElement("div",{className:i.join(" ")},r.createElement("img",{className:"player--img",src:n,alt:e}),r.createElement("span",{className:"player--name"},e))},TP=()=>{const e=ca(bm),t=ca(EP(e)),n=ca(rT),i=ca(lT),o=ca(cT),a=ca(sT(e)),s=ca(uT),u=ca(_m),[l,c]=(0,r.useState)(!1),d=ha(iT(i)),h=ha(aT(i)),f=ha(oT(i)),p=ha(iT(o)),m=ha(aT(o)),v=ha(oT(o)),g=ha(fT(e)),y=ha(dT(e)),[_,b]=da(hT(e)),{t:w}=$u();if((0,r.useEffect)((()=>{l&&setTimeout((()=>{c(!1)}),2e3)}),[l]),s.length<2)return r.createElement("div",{className:"lobby"},w("lobby.waiting"),r.createElement("button",{className:"lobby--link",onClick:()=>{c(!0),window.navigator.clipboard.writeText(`${window.location.origin}${window.location.pathname}#room=${u}`)}},w(l?"lobby.link-clicked":"lobby.link")));const E={hidden:{y:"-100%"},visible:{y:"0%"}};return r.createElement("div",{className:"lobby"},r.createElement(BT,null,2===s.length&&i&&o&&r.createElement(mP.div,{className:"lobby--info lobby--versus",animate:"visible",initial:"hidden",exit:"hidden",variants:E},r.createElement("div",{className:"lobby--versus__me"},r.createElement(kP,{...i})),r.createElement("div",null,"vs"),r.createElement("div",{className:"lobby--versus__opponent"},r.createElement(kP,{...o}))),s.length>2&&r.createElement(mP.div,{className:"lobby--info lobby--toomanyplayers",animate:"visible",initial:"hidden",exit:"hidden",variants:E},w("lobby.too-many-players"),r.createElement("div",{className:"lobby--toomanyplayers__list"},a.map((e=>r.createElement(kP,{key:e.id,...e})))))),r.createElement("button",{className:"lobby--start",onClick:async()=>{f(void 0),h(void 0),v(void 0),m(void 0),g(void 0);const e=function(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const n=Math.random()*r--|0,i=e[r+t];e[r+t]=e[n+t],e[n+t]=i}return e}(n.filter((e=>{for(let n of e.categories)if(t.includes(n))return!1;return!0}))),r=_?e.length:e.length/2,i=e.slice(0,Math.min(24,r)),o=_?i:e.slice(i.length,i.length+24);d(i),p(o),y("running"),ek(ak,"startRound",{players:a,categoriesBanned:t})}},w("lobby.start")),r.createElement("div",{className:"lobby--same-board"},r.createElement("label",{htmlFor:"same-board"},w("lobby.use-same-board")),r.createElement("input",{type:"checkbox",id:"same-board",checked:_,onChange:()=>b(!_)})),r.createElement(SP,null))},xP=n(181),CP=()=>{const{t:e}=$u();return r.createElement("div",{className:"login"},r.createElement("div",{className:"login--container"},r.createElement("div",{className:"login--container__title"},r.createElement("img",{className:"login--container__logo",src:"./assets/TwitchGlitchPurple.svg"}),e("login.title")),r.createElement("button",{onClick:()=>{window.location.assign(`https://id.twitch.tv/oauth2/authorize?client_id=${xP.twitch.clientId}&redirect_uri=${encodeURIComponent(window.location.origin+window.location.pathname)}&response_type=token`)}},e("login.action")),r.createElement("br",null)))},IP=({top:e})=>{const t=["logo","logo--scale"];return e&&t.push("logo--top"),r.createElement("div",{className:t.join(" ")},r.createElement("img",{src:"assets/logo-ccb.webp",alt:"Cacabox",className:"logo--rotate"}))};var OP={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function a(){}function s(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"==typeof i?new i(e):(e(a,a),null)}var u,l,c,d,h,f,p,m,v=(c=Math.floor(1e3/60),d={},h=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(u=function(e){var t=Math.random();return d[t]=requestAnimationFrame((function n(r){h===r||h+c-1<r?(h=r,delete d[t],e()):d[t]=requestAnimationFrame(n)})),t},l=function(e){d[e]&&cancelAnimationFrame(d[e])}):(u=function(e){return setTimeout(e,c)},l=function(e){return clearTimeout(e)}),{frame:u,cancel:l}),g=(m={},function(){if(f)return f;if(!r&&o){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{f=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(n,r,i){if(p)return t(n,null),p;var o=Math.random().toString(36).slice(2);return p=s((function(r){function a(t){t.data.callback===o&&(delete m[o],e.removeEventListener("message",a),p=null,i(),r())}e.addEventListener("message",a),t(n,o),m[o]=a.bind(null,{data:{callback:o}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),m)m[t](),delete m[t]}}(f)}return f}),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(e,t,n){return function(e,t){return t?t(e):e}(e&&function(e){return!(null==e)}(e[t])?e[t]:y[t],n)}function b(e){return e<0?0:Math.floor(e)}function w(e){return parseInt(e,16)}function E(e){return e.map(S)}function S(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:w(t.substring(0,2)),g:w(t.substring(2,4)),b:w(t.substring(4,6))}}function k(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function T(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function x(e,n){var a,u=!e,l=!!_(n||{},"resize"),c=_(n,"disableForReducedMotion",Boolean),d=o&&_(n||{},"useWorker")?g():null,h=u?k:T,f=!(!e||!d||!e.__confetti_initialized),p="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(t,n,o){for(var u,l,c,d,f=_(t,"particleCount",b),p=_(t,"angle",Number),m=_(t,"spread",Number),g=_(t,"startVelocity",Number),y=_(t,"decay",Number),w=_(t,"gravity",Number),S=_(t,"drift",Number),k=_(t,"colors",E),T=_(t,"ticks",Number),x=_(t,"shapes"),C=_(t,"scalar"),I=function(e){var t=_(e,"origin",Object);return t.x=_(t,"x",Number),t.y=_(t,"y",Number),t}(t),O=f,R=[],N=e.width*I.x,P=e.height*I.y;O--;)R.push((void 0,void 0,l=(u={x:N,y:P,angle:p,spread:m,startVelocity:g,color:k[O%k.length],shape:x[(0,d=x.length,Math.floor(Math.random()*(d-0))+0)],ticks:T,decay:y,gravity:w,drift:S,scalar:C}).angle*(Math.PI/180),c=u.spread*(Math.PI/180),{x:u.x,y:u.y,wobble:10*Math.random(),velocity:.5*u.startVelocity+Math.random()*u.startVelocity,angle2D:-l+(.5*c-Math.random()*c),tiltAngle:Math.random()*Math.PI,color:u.color,shape:u.shape,tick:0,totalTicks:u.ticks,decay:u.decay,drift:u.drift,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*u.gravity,ovalScalar:.6,scalar:u.scalar}));return a?a.addFettis(R):(a=function(e,t,n,o,a){var u,l,c=t.slice(),d=e.getContext("2d"),h=s((function(t){function s(){u=l=null,d.clearRect(0,0,o.width,o.height),a(),t()}u=v.frame((function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),d.clearRect(0,0,o.width,o.height),c=c.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,a,s,u){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,0,s,void 0),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(d,e)})),c.length?u=v.frame(t):s()})),l=s}));return{addFettis:function(e){return c=c.concat(e),h},canvas:e,promise:h,reset:function(){u&&v.cancel(u),l&&l()}}}(e,R,h,n,o)).promise}function y(n){var r=c||_(n,"disableForReducedMotion",Boolean),i=_(n,"zIndex",Number);if(r&&p)return s((function(e){e()}));u&&a?e=a.canvas:u&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),l&&!f&&h(e);var o={width:e.width,height:e.height};function v(){if(d){var t={getBoundingClientRect:function(){if(!u)return e.getBoundingClientRect()}};return h(t),void d.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function g(){a=null,l&&t.removeEventListener("resize",v),u&&e&&(document.body.removeChild(e),e=null,f=!1)}return d&&!f&&d.init(e),f=!0,d&&(e.__confetti_initialized=!0),l&&t.addEventListener("resize",v,!1),d?d.fire(n,o,g):m(n,o,g)}return y.reset=function(){d&&d.reset(),a&&a.reset()},y}n.exports=x(null,{useWorker:!0,resize:!0}),n.exports.create=x}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),OP,!1);const RP=OP.exports;OP.exports.create;const NP=({font:e,text:t,...n})=>{const i=(0,r.useRef)(null),[o,a]=(0,r.useState)(),[s,u]=(0,r.useState)(),l=function(e,t,n){var i=this,o=(0,r.useRef)(null),a=(0,r.useRef)(0),s=(0,r.useRef)(null),u=(0,r.useRef)([]),l=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)(e),h=(0,r.useRef)(!0);d.current=e;var f=!t&&0!==t&&"undefined"!=typeof window;t=+t||0;var p=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,v="maxWait"in n,g=v?Math.max(+n.maxWait||0,t):null;(0,r.useEffect)((function(){return h.current=!0,function(){h.current=!1}}),[]);var y=(0,r.useMemo)((function(){var e=function(e){var t=u.current,n=l.current;return u.current=l.current=null,a.current=e,c.current=d.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(s.current),s.current=f?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!h.current)return!1;var n=e-o.current,r=e-a.current;return!o.current||n>=t||n<0||v&&r>=g},y=function(t){return s.current=null,m&&u.current?e(t):(u.current=l.current=null,c.current)},_=function(){var e=Date.now();if(r(e))return y(e);if(h.current){var i=e-o.current,s=e-a.current,u=t-i,l=v?Math.min(u,g-s):u;n(_,l)}},b=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=Date.now(),g=r(m);if(u.current=d,l.current=i,o.current=m,g){if(!s.current&&h.current)return a.current=o.current,n(_,t),p?e(o.current):c.current;if(v)return n(_,t),e(o.current)}return s.current||n(_,t),c.current};return b.cancel=function(){s.current&&(f?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,u.current=o.current=l.current=s.current=null},b.isPending=function(){return!!s.current},b.flush=function(){return s.current?y(Date.now()):c.current},b}),[p,v,t,g,m,f]);return y}((()=>{u({width:window.innerWidth,height:window.innerHeight})}),200);return(0,r.useEffect)((()=>{setTimeout((()=>{if(!i.current)return;const n=document.createElement("span");n.innerText=t,n.style.fontFamily=e,n.style.fontSize="100px",n.classList.add("textfit"),document.body.appendChild(n);const{width:r}=i.current.getBoundingClientRect(),{width:o}=n.getBoundingClientRect();var s;n.remove(),a(`${s=r/o*100,12,24,Math.min(Math.max(s,12),24)}px`)}),50)}),[t,s]),(0,r.useEffect)((()=>(window.addEventListener("resize",l),()=>window.removeEventListener("resize",l))),[]),r.createElement("div",{style:{whiteSpace:"nowrap",fontSize:o},...n,ref:i},t)},PP=({animateDelay:e,character:t,disabled:n=!1,onClick:i,position:o,state:a="visible"})=>{const{name:s,image:{offsetX:u}}=t,l=["character--box"],c={backgroundImage:`url(${t.image.url})`};let d;o&&(d={...o,position:"absolute"}),n||"hidden"!==a||l.push("character--box__hiden"),null!==u&&(c.backgroundPosition=100*u+"% center"),!n&&i&&l.push("character--box__action");const h={hidden:{zIndex:o?.zIndex},visible:{zIndex:o?.zIndex}};return r.createElement(BT,null,r.createElement(mP.div,{className:"character",style:d,transition:{delay:"hidden"===a?.3:0},initial:"visible",animate:a,variants:h},r.createElement(mP.div,{custom:e,className:l.join(" "),initial:"hidden",animate:a,variants:{loose:{y:"95%",transition:{duration:.1}},hidden:{y:"65%",transition:{duration:.4}},visible:e=>({y:0,transition:{delay:.07*(e??1)}}),win:e=>({y:0,transition:{bounce:1,delay:e/10,duration:.5,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}})},onClick:()=>!n&&i&&i(t,a)},r.createElement("div",{className:"character--box__background"},r.createElement("img",{src:"assets/case-background.webp"})),r.createElement("div",{className:"character--box__image",style:c}),r.createElement("div",{className:"character--box__front"},r.createElement("img",{src:"assets/case-front.webp"})),r.createElement(NP,{className:"character--box__name",text:s,font:"Sweaty Belvin"}))))},AP={width:2400,height:1840},DP=({animation:e,characters:t,charactersHidden:n,disabled:i,onClick:o,opponent:a})=>{const s=[{y:173,x:364,width:1670,height:340,padding:[32,32,0,32]},{y:444,x:320,width:1777,height:354,padding:[32,32,0,32]},{y:800,x:236,width:1946,height:430,padding:[32,32,0,32]},{y:1155,x:877,width:650,height:430,padding:[32,32,0,32]}],u=[32,21,11,0],[l]=(0,r.useState)(new Map),c=(e,t)=>{let n={...e};if(n.padding){const[e,t,r,i]=n.padding;n.x-=i,n.y-=e,n.width=n.width+i+t,n.height=n.height+e+r}let r={...t};if(r.padding){const[e,t,i,o]=r.padding;r.width=r.width+o+t,r.height=r.height+e+i,n.x+=o,n.y+=e}const{x:i,y:o,width:a,height:s}=n;return{height:s/r.height*100+"%",left:i/r.width*100+"%",top:o/r.height*100+"%",width:a/r.width*100+"%"}},d=(r,i,o)=>{const a=(s[r].width-7*u[r])/(r>2?3:8),l={x:a*i+u[r]*i,y:0,width:a,height:s[r].height},d=n&&o&&n.includes(o);return{...c(l,s[r]),zIndex:!e&&d?t.length-10*r+i:100+10*r+i}},h=(t,n,r)=>{const i=t%2==1;return"win"===e?n+(i?1.8:1):l.get(r)?1:i?8*t+(7-n):8*t+n},f=t=>e||(n&&n.includes(t)?"hidden":"visible"),p=t.reduce(((e,t,n)=>{const r=Math.floor(n/8);return e[r]=e[r]||[],e[r].push(t),e}),[]),{t:m}=$u();return r.createElement("div",{className:"plateau"},r.createElement("img",{src:"assets/plateau-front.webp",alt:"Plateau"}),p.map(((e,t)=>r.createElement("div",{className:"plateau--row",key:t,style:{...c(s[t],AP)}},e.map(((e,n)=>r.createElement(PP,{key:n,animateDelay:h(t,n,e),character:e,disabled:i,onClick:l.set(e,!0)&&o,position:d(t,n,e),state:f(e)})))))),a&&r.createElement("div",{className:"plateau--opponent",style:{...c(s[3],AP)}},r.createElement("div",{className:"plateau--opponent__row"},r.createElement(PP,{character:a.secret,disabled:!0,position:d(3,0),state:"visible"})),r.createElement("div",{className:"plateau--opponent__info"},r.createElement("div",{className:"plateau--opponent__name"},a.player.name),r.createElement("div",null,m("scene.must-guess")),r.createElement("div",{className:"plateau--opponent__arrow"},r.createElement("svg",{viewBox:"0 0 500 500",width:"500",height:"500"},r.createElement("path",{style:{fill:"none",strokeWidth:"8px",stroke:"rgb(247, 17, 94)",strokeLinejoin:"round",strokeLinecap:"round"},d:"M 5.127 74.702 C 53.948 79.023 65.32 43.175 64.995 18.138"}),r.createElement("path",{style:{fill:"none",strokeWidth:"8px",stroke:"rgb(247, 17, 94)",strokeLinejoin:"round",strokeLinecap:"round"},d:"M 52.224 21.27 C 52.224 21.27 55.74 7.044 64.61 4.754 C 73.499 2.459 76.584 22.509 76.584 22.509"}))))))},LP=()=>{const e=ca(cT),t=ha(oT(e)),n=ca(iT(e)),{t:i}=$u();return r.createElement("div",{className:"choosecharacter"},r.createElement("div",{className:"choosecharacter--modal"},r.createElement("div",{className:"choosecharacter--modal__title"},r.createElement("span",null,i("choosecharacter.title")),e&&r.createElement(kP,{...e,inline:!0})),r.createElement(BT,null,r.createElement(mP.div,{className:"choosecharacter--modal__container",animate:"visible",initial:"hidden",exit:"hidden",variants:{hidden:{scale:0},visible:{scale:1}}},r.createElement(DP,{characters:n,onClick:e=>{t(e)}})))))},MP=()=>{const e=ca(bm),t=ca(lT),n=ca(cT),i=ca(sT(e)),o=ca(iT(t)),a=ca(oT(n)),[s,u]=da(aT(t)),[l,c]=da(aT(n)),[d,h]=da(dT(e)),[f,p]=da(fT(e)),m=ha(yP),[v,g]=(0,r.useState)([]),[y,_]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[E,S]=(0,r.useState)(),{t:k}=$u(),T=e=>new Promise((t=>setTimeout((e=>t(!0)),e))),x=()=>{if(!l)throw new Error;c({...l,reason:"right"}),h("finished"),p(n),ek(ak,"endRound",{players:i,numberOfGuess:I})},C=()=>{if(!l)throw new Error;c({...l,reason:"wrong"})};let I=0;(0,r.useEffect)((()=>{if(void 0===l||void 0===a)return;if("asking"!==l.reason)return;const e={text:k("plateau.yes"),onClick:x},t={text:k("plateau.no"),onClick:C};m({text:`${k("plateau.guess-asking")} <span class="scene--characterguessed__name">${l.name}</span> ?`,actions:l.id===a.id?[e]:[t]})}),[l,a]),(0,r.useEffect)((()=>{let e;if(void 0!==s){if("asking"===s.reason)return void I++;const t="right"===s.reason?`${k("plateau.guess-right")} <span class="scene--characterguessed__name">${s.name}</span> !`:`${k("plateau.guess-wrong")} <span class="scene--characterguessed__name">${s.name}</span>.`;m({text:t}),e=setTimeout((()=>{u(void 0)}),5e3)}return()=>clearTimeout(e)}),[s]),(0,r.useEffect)((()=>{if(!f||!t||f.id!==t.id)return;let e,n=!1;return(async()=>{const t=(e,t)=>Math.random()*(t-e)+e,r={particleCount:100,spread:360,startVelocity:30,ticks:100,zIndex:8999};w(!0),S("loose"),await T(150),n||(S("win"),e=setInterval((()=>{RP({...r,origin:{x:t(.1,.3),y:Math.random()-.2}}),RP({...r,origin:{x:t(.4,.6),y:Math.random()-.2}}),RP({...r,origin:{x:t(.7,.9),y:Math.random()-.2}})}),400),await T(1e4),n||(clearInterval(e),S("hidden"),S(void 0),w(!1)))})(),()=>{n=!0,clearInterval(e),S("hidden"),S(void 0),w(!1)}}),[f,t]),(0,r.useEffect)((()=>{if(!f||!t||f.id===t.id)return;let e=!1;return(async()=>{S("loose"),w(!0),await T(10150),e||(S(void 0),w(!1))})(),()=>{e=!0,S("hidden"),S(void 0),w(!1)}}),[f,t]);const O=["scene--plateau"];return y&&O.push("scene--guessing"),n?a?r.createElement("div",{className:"scene"},r.createElement(IP,{top:!0}),r.createElement("div",{className:O.join(" ")},r.createElement(DP,{animation:E,characters:o,charactersHidden:v,disabled:b,opponent:{player:n,secret:a},onClick:y?(e,t)=>{"hidden"!==t&&(u({...e,reason:"asking"}),_(!1))}:e=>{if(v.includes(e))return g(v.filter((t=>t!==e)));g([...v,e])}}),"finished"!==d&&r.createElement("button",{className:"scene--guessing__button",onClick:()=>_(!y)},y?r.createElement("svg",{height:"48",width:"48",viewBox:"0 0 24 24"},r.createElement("path",{d:"M13.427 3.021h-7.427v-3.021l-6 5.39 6 5.61v-3h7.427c3.071 0 5.561 2.356 5.561 5.427 0 3.071-2.489 5.573-5.561 5.573h-7.427v5h7.427c5.84 0 10.573-4.734 10.573-10.573s-4.733-10.406-10.573-10.406z"})):"?"))):r.createElement(LP,null):null};function FP(e){return FP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FP(e)}function jP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VP(e,t){return VP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},VP(e,t)}function UP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VP(e,t)}function qP(e,t){if(t&&("object"===FP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jP(e)}function BP(e){return BP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},BP(e)}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HP={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},$P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cu(this,e),this.init(t,n)}return Ou(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||HP,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,WP(WP({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),QP=new $P,KP=function(){function e(){Cu(this,e),this.observers={}}return Ou(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function GP(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function YP(e){return null==e?"":""+e}function JP(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function XP(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function ZP(e,t,n){var r=XP(e,t,Object);r.obj[r.k]=n}function eA(e,t){var n=XP(e,t),r=n.obj,i=n.k;if(r)return r[i]}function tA(e,t,n){var r=eA(e,n);return void 0!==r?r:eA(t,n)}function nA(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):nA(e[r],t[r],n):e[r]=t[r]);return e}function rA(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var iA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function oA(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return iA[e]})):e}var aA="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,sA=[" ",",","?","!",";"];function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if("string"==typeof u)return u;if(s&&"string"==typeof u[s])return u[s];var l=r.slice(o+a).join(n);return l?cA(u,l,n):void 0}i=i[r[o]]}return i}}var dA=function(e){UP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=BP(t);if(n){var i=BP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return qP(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Cu(this,i),t=r.call(this),aA&&KP.call(jP(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return Ou(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=eA(this.data,a);return s||!o||"string"!=typeof n?s:cA(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),ZP(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=eA(this.data,a)||{};r?nA(s,n,i):s=lA(lA({},s),n),ZP(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?lA(lA({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(KP),hA={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mA={},vA=function(e){UP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=BP(t);if(n){var i=BP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return qP(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Cu(this,i),t=r.call(this),aA&&KP.call(jP(t)),JP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,jP(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=QP.create("translator"),t}return Ou(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=sA.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==FP(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),s=a.key,u=a.namespaces,l=u[u.length-1],c=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return l+h+s}return s}var f=this.resolve(e,t),p=f&&f.res,m=f&&f.usedKey||s,v=f&&f.exactUsedKey||s,g=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(b&&p&&w&&y.indexOf(g)<0&&("string"!=typeof _||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,pA(pA({},t),{},{ns:u})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var E="[object Array]"===g,S=E?[]:{},k=E?v:m;for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)){var x="".concat(k).concat(o).concat(T);S[T]=this.translate(x,pA(pA({},t),{joinArrays:!1,ns:u})),S[T]===x&&(S[T]=p[T])}p=S}}else if(b&&"string"==typeof _&&"[object Array]"===g)(p=p.join(_))&&(p=this.extendTranslation(p,e,t,n));else{var C=!1,I=!1,O=void 0!==t.count&&"string"!=typeof t.count,R=i.hasDefaultValue(t),N=O?this.pluralResolver.getSuffix(c,t.count,t):"",P=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(p)&&R&&(C=!0,p=P),this.isValidLookup(p)||(I=!0,p=s);var A=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=A&&I?void 0:p,L=R&&P!==p&&this.options.updateMissing;if(I||C||L){if(this.logger.log(L?"updateKey":"missingKey",c,l,s,L?P:p),o){var M=this.resolve(s,pA(pA({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var V=0;V<j.length;V++)F.push(j[V]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var U=function(e,n,i){var o=R&&i!==p?i:D;r.options.missingKeyHandler?r.options.missingKeyHandler(e,l,n,o,L,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,l,n,o,L,t),r.emit("missingKey",e,l,n,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?F.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(n){U([e],s+n,t["defaultValue".concat(n)]||P)}))})):U(F,s,P))}p=this.extendTranslation(p,e,t,f,n),I&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(l,":").concat(s)),(I||C)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(pA(pA({},n),{interpolation:pA(pA({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=pA(pA({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=hA.handle(h,e,t,this.options&&this.options.postProcessPassResolved?pA({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(o=e,!mA["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(mA["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,l,n,e,s);else{var c;d&&(c=a.pluralResolver.getSuffix(n,s.count,s));var p="_zero";if(d&&(u.push(l+c),h&&u.push(l+p)),f){var m="".concat(l).concat(a.options.contextSeparator).concat(s.context);u.push(m),d&&(u.push(m+c),h&&u.push(m+p))}}for(;o=u.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),i}(KP);function gA(e){return e.charAt(0).toUpperCase()+e.slice(1)}var yA=function(){function e(t){Cu(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=QP.create("languageUtils")}return Ou(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gA(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gA(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=gA(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),_A=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bA={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},wA=["v1","v2","v3"],EA={zero:0,one:1,two:2,few:3,many:4,other:5};function SA(){var e={};return _A.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:bA[t.fc]}}))})),e}var kA=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cu(this,e),this.languageUtils=t,this.options=n,this.logger=QP.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=SA()}return Ou(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return EA[e]-EA[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!wA.includes(this.options.compatibilityJSON)}}]),e}();function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var CA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Cu(this,e),this.logger=QP.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return Ou(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:oA,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?rA(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?rA(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?rA(t.nestingPrefix):t.nestingPrefixEscaped||rA("$t("),this.nestingSuffix=t.nestingSuffix?rA(t.nestingSuffix):t.nestingSuffixEscaped||rA(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=tA(t,u,e);return s.alwaysFormat?s.format(i,void 0,n,xA(xA(xA({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(tA(t,u,a),l,n,xA(xA(xA({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,f=[{regex:this.regexpUnescape,safeValue:function(e){return l(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?l(s.escape(e)):l(e)}}];return f.forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=c(i[1].trim())))if("function"==typeof d){var n=d(e,i,r);o="string"==typeof n?n:""}else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=YP(o));var u=t.safeValue(o);if(e=e.replace(i[0],u),h?(t.regex.lastIndex+=u.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=xA({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=xA(xA({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var u=[],l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),u=c,l=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=YP(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),l&&(r=u.reduce((function(e,t){return i.format(e,t,o.lng,xA(xA({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var RA=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Cu(this,e),this.logger=QP.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,OA(OA({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,OA({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,OA({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,OA({},n)).format(e)}},this.init(t)}return Ou(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=Tu(e.split(":"),2),r=t[0],i=t[1];"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10)),n[r.trim()]||(n[r.trim()]=i.trim())}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var u=e;try{var l=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=l.locale||l.lng||r.locale||r.lng||n;u=i.formats[a](e,c,OA(OA(OA({},s),r),l))}catch(e){i.logger.warn(e)}return u}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AA=function(e){UP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=BP(t);if(n){var i=BP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return qP(this,e)});function i(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Cu(this,i),o=r.call(this),aA&&KP.call(jP(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=QP.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return Ou(i,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],u=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(t)<0&&u.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=XP(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,PA(PA({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}(KP);function DA(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===FP(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===FP(e[2])||"object"===FP(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function LA(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MA(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jA(){}function VA(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var UA=function(e){UP(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=BP(t);if(n){var i=BP(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return qP(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(Cu(this,i),e=r.call(this),aA&&KP.call(jP(e)),e.options=LA(t),e.services={},e.logger=QP,e.modules={external:[]},VA(jP(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),qP(e,jP(e));setTimeout((function(){e.init(t,n)}),0)}return e}return Ou(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=DA();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=FA(FA(FA({},r),this.options),LA(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=FA(FA({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?QP.init(i(this.modules.logger),this.options):QP.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=RA);var a=new yA(this.options);this.store=new dA(this.options.resources,this.options);var s=this.services;s.logger=QP,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new kA(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new CA(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new AA(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new vA(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=jA),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=GP(),h=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jA,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=GP();return e||(e=this.languages),t||(t=this.options.ns),n||(n=jA),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&hA.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=GP();this.emit("languageChanging",e);var i=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var r=n.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==FP(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=FA({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var l=r.options.keySeparator||".",c=n?"".concat(n).concat(l).concat(t):t;return r.t(c,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=GP();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=GP();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jA,r=FA(FA(FA({},this.options),t),{isClone:!0}),o=new i(r),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=FA({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new vA(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(KP);xu(UA,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new UA(e,t)}));var qA=UA.createInstance();qA.createInstance=UA.createInstance,qA.createInstance,qA.init,qA.loadResources,qA.reloadResources,qA.use,qA.changeLanguage,qA.getFixedT,qA.t,qA.exists,qA.setDefaultNamespace,qA.hasLoadedNamespace,qA.loadNamespaces,qA.loadLanguages;const BA=qA;var zA=[],WA=zA.forEach,HA=zA.slice;function $A(e){return WA.call(HA.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var QA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,KA=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!QA.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!QA.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},GA={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=KA(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},YA={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}},JA=null,XA=function(){if(null!==JA)return JA;try{JA="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){JA=!1}return JA},ZA={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&XA()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&XA()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},eD=null,tD=function(){if(null!==eD)return eD;try{eD="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){eD=!1}return eD},nD={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&tD()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&tD()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},rD={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},iD={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},oD={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},aD={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},sD=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Cu(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return Ou(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=$A(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(GA),this.addDetector(YA),this.addDetector(ZA),this.addDetector(nD),this.addDetector(rD),this.addDetector(iD),this.addDetector(oD),this.addDetector(aD)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();sD.type="languageDetector";const uD=sD,lD=JSON.parse('{"translation":{"app":{"loading":"Chargement..."},"categories":{"choose-categories":"Catégories"},"choosecharacter":{"title":"Choisis la carte pour"},"control-top":{"new-room":"Nouvelle room","quit":"Quitter la partie","start-again":"Nouvelle game ?"},"error-boundary":{"error":"Oups, ça marche plus 🥵","reset":"Réinitialiser"},"lobby":{"link":"Copier le lien de la room","link-clicked":"Copié","room":"Room :","start":"Commencer une partie","too-many-players":"Il y a plus de 2 joueurs dans la room","use-same-board":"Utiliser le même plateau","waiting":"En attente de l\'adversaire"},"login":{"title":"Se connecter avec Twitch","action":"Se connecter"},"plateau":{"guess-asking":"Est-ce que c\'est","guess-right":"Oui, c\'est","guess-wrong":"Non, ce n\'est pas","no":"Non","yes":"Oui"},"scene":{"must-guess":"doit deviner"}}}');window.localStorage.getItem(pm),BA.use(uD).use(ju).init({lng:"fr",detection:{caches:[]},interpolation:{escapeValue:!1},resources:{fr:lD}});const cD=()=>{const e=ca(bm);switch(ca(dT(e))){case"not-started":return r.createElement(TP,null);case"running":case"finished":return r.createElement(MP,null)}};var dD=["ns","children"];function hD(e){var t=e.ns,n=e.children,r=Tu($u(t,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,dD)),3),i=r[0],o=r[1],a=r[2];return n(i,{i18n:o,lng:o.language},a)}class fD extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?r.createElement("div",{className:"error"},r.createElement(hD,null,(e=>r.createElement("div",null,e("error-boundary.error")))),r.createElement(pD,null)):this.props.children}}const pD=()=>{const e=ha(lk),{t}=$u();return r.createElement("button",{onClick:()=>{e(""),window.location.reload()}},t("error-boundary.reset"))};n(511);const mD=n(181);mD.sentry&&function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Zs),void 0===e.release){var t=(0,xa.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){var n;!0===t.debug&&ma.k.enable();var r=(0,pa.Gd)();null===(n=r.getScope())||void 0===n||n.update(t.initialScope);var i=new e(t);r.bindClient(i)}(Ws,e),e.autoSessionTracking&&function(){if(void 0!==(0,xa.R)().document){var e=(0,pa.Gd)();"function"==typeof e.startSession&&"function"==typeof e.captureSession&&(e.startSession({ignoreDuration:!0}),e.captureSession(),(0,Ca.o)({callback:function(t){var n=t.from,r=t.to;void 0!==n&&n!==r&&(e.startSession({ignoreDuration:!0}),e.captureSession())},type:"history"}))}else ma.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}({dsn:mD.sentry.dns,integrations:[new Su],tracesSampleRate:1}),i.render(r.createElement(oa,null,r.createElement(fD,null,r.createElement((()=>{const e=ca(_m),t=ca(lk),[n,i]=da(vm),{t:o}=$u();return(0,r.useEffect)((()=>{i({...n,lastRoom:e})}),[e]),""===t?r.createElement(r.Fragment,null,r.createElement(CP,null),r.createElement(IP,null)):r.createElement(r.Fragment,null,r.createElement(r.Suspense,{fallback:r.createElement("div",{className:"app--loading"},o("app.loading"))},r.createElement(fk,null),r.createElement(pT,null),r.createElement(bP,null),r.createElement(cD,null)),r.createElement(mT,null),r.createElement(IP,null))}),null))),document.querySelector("#app"))},344:(e,t,n)=>{"use strict";e.exports=n.p+"assets/TwitchGlitchPurple.svg"},33:(e,t,n)=>{"use strict";e.exports=n.p+"assets/case-background.webp"},269:(e,t,n)=>{"use strict";e.exports=n.p+"assets/case-front.webp"},511:(e,t,n)=>{"use strict";e.exports=n.p+"favicon.png"},926:(e,t,n)=>{"use strict";e.exports=n.p+"assets/logo-ccb.webp"},845:(e,t,n)=>{"use strict";e.exports=n.p+"assets/plateau-background.webp"},654:(e,t,n)=>{"use strict";e.exports=n.p+"assets/plateau-front.webp"},149:(e,t,n)=>{"use strict";e.exports=n.p+"index.html"},181:e=>{"use strict";e.exports=JSON.parse('{"apollo":{"url":"https://api-eu-central-1.graphcms.com/v2/ckx8muqxk0nxy01z0amvy5bqo/master"},"firebase":{"apiKey":"AIzaSyA8_Ap7wETmcIjgZncUn-3mPgmSGpGMiFQ","appId":"1:465604282379:web:d723f1bd0ceba84b23df0e","databaseURL":"https://qui-est-ce-prod.europe-west1.firebasedatabase.app/","measurementId":"G-42DS3REFD6","projectId":"qui-est-ce-3621d"},"sentry":{"dsn":"https://c9f439dc17c44292ae0aa782d2a4680b@o1112118.ingest.sentry.io/6141546"},"token":{"key":"twitch-token","url":"https://europe-west1-qui-est-ce-3621d.cloudfunctions.net/generateToken"},"twitch":{"clientId":"9c0mrfyuyvw3ylkw3qumrtueb50eu9"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(484),n(895)})();
//# sourceMappingURL=main.js.map