/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function l(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function d(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(c,"_cursor",["direction","key","primaryKey","value"]),a(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),d.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},d.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(d,"_store",["name","keyPath","indexNames","autoIncrement"]),a(d,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(d,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(d,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new d(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new d(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),s(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[d,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,d].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new f(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},448:(e,t,n)=>{"use strict";var r=n(294),i=n(418),o=n(840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,E=60106,S=60107,T=60108,C=60114,x=60109,I=60110,N=60112,O=60113,R=60120,P=60115,A=60116,D=60121,L=60128,M=60129,F=60130,V=60131;if("function"==typeof Symbol&&Symbol.for){var j=Symbol.for;k=j("react.element"),E=j("react.portal"),S=j("react.fragment"),T=j("react.strict_mode"),C=j("react.profiler"),x=j("react.provider"),I=j("react.context"),N=j("react.forward_ref"),O=j("react.suspense"),R=j("react.suspense_list"),P=j("react.memo"),A=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),V=j("react.legacy_hidden")}var U,q="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function B(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var W=!1;function $(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return Q(e.type);case D:return Q(e._render);case A:t=e._payload,e=e._init;try{return Q(e(t))}catch(e){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ue(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ve=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,xe=null,Ie=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function Oe(e){xe?Ie?Ie.push(e):Ie=[e]:xe=e}function Re(){if(xe){var e=xe,t=Ie;if(Ie=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Pe(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Pe,Me=!1,Fe=!1;function Ve(){null===xe&&null===Ie||(De(),Re())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Ue=!1;if(d)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ue=!1}function ze(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Be=!1,We=null,$e=!1,He=null,Qe={onError:function(e){Be=!0,We=e}};function Ke(e,t,n,r,i,o,a,s,l){Be=!1,We=null,ze.apply(Qe,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(Ge(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,lt=null,ut=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function _t(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&gt(at)&&(at=null),null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),ut.forEach(yt),ct.forEach(yt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function wt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&bt(at,e),null!==st&&bt(st,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Tt={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var xt=Ct("animationend"),It=Ct("animationiteration"),Nt=Ct("animationstart"),Ot=Ct("transitionend"),Rt=new Map,Pt=new Map,At=["abort","abort",xt,"animationEnd",It,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Rt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var l=o&~a;0!==l?(r=Mt(l),i=Lt):0!=(s&=o)&&(r=Mt(s),i=Lt)}else 0!=(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Bt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Bt(t)),r|=e[n],t&=~i;return r}function Vt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?jt(10,t):e;case 10:return 0===(e=Ut(192&~t))?jt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&0===(e=Ut(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ut(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Bt(t)]=n}var Bt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/$t|0)|0},Wt=Math.log,$t=Math.LN2,Ht=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,Kt=!0;function Gt(e,t,n,r){Me||De();var i=Jt,o=Me;Me=!0;try{Ae(i,e,t,n,r)}finally{(Me=o)||Ve()}}function Yt(e,t,n,r){Qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Kt)if((i=0==(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=mt(at,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var o=Ge(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(dn),fn=i({},dn,{view:0,detail:0}),pn=sn(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),yn=sn(i({},fn,{relatedTarget:0})),_n=sn(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),kn=sn(i({},dn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function xn(){return Cn}var In=i({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(In),On=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=sn(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),Ln=[9,13,27,32],Mn=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Vn=d&&"TextEvent"in window&&!Fn,jn=d&&(!Mn||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Yn(e){Ir(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Kn&&(Kn.detachEvent("onpropertychange",ir),Gn=Kn=null)}function ir(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];if(Qn(t,Gn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Pe(e,t)}finally{Me=!1,Ve()}}}}function or(e,t,n){"focusin"===e?(rr(),Gn=n,(Kn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=d&&"documentMode"in document&&11>=document.documentMode,yr=null,_r=null,br=null,wr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==yr||yr!==X(r)||(r="selectionStart"in(r=yr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&dr(br,r)||(br=r,0<(r=Mr(_r,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Pt.set(Er[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ke.apply(this,arguments),Be){if(!Be)throw Error(a(198));var c=We;Be=!1,We=null,$e||($e=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xr(i,s,u),o=l}}}if($e)throw e=He,$e=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Ar(o,e,i,t),a.add(s))}function Ar(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Gt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ve()}}((function(){var r=o,i=Te(n),a=[];e:{var s=Rt.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=yn;break;case"focusout":u="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case xt:case It:case Nt:l=_n;break;case Ot:l=Pn;break;case"scroll":l=pn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=je(p,h))&&c.push(Lr(p,m,f))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(d=Ge(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ri(l),f=null==u?s:ri(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,ti(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Fr(f))p++;for(f=0,m=h;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)h=Fr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Fr(c),h=Fr(h)}c=null}else c=null;null!==l&&Vr(a,s,l,c,!1),null!==u&&null!==d&&Vr(a,d,u,c,!0)}if("select"===(l=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Xn;else if(Hn(s))if(Zn)v=lr;else{v=ar;var g=or}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Qn(a,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ri(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(yr=g,_r=r,br=null);break;case"focusout":br=_r=yr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,kr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Wn?zn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Wn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Wn=!0)),0<(g=Mr(r,_)).length&&(_=new kn(_,e,null,n,i),a.push({event:_,listeners:g}),(y||null!==(y=Bn(n)))&&(_.data=y))),(y=Vn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(qn=!0,Un);case"textInput":return(e=t.data)===Un&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ir(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=je(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=je(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=je(n,o))&&a.unshift(Lr(n,l,s)):i||null!=(l=je(n,o))&&a.push(Lr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function jr(){}var Ur=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"==typeof setTimeout?setTimeout:void 0,$r="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Gr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Jr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function li(e){return{current:e}}function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var di={},hi=li(di),fi=li(!1),pi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!=e.childContextTypes}function gi(){ui(fi),ui(hi)}function yi(e,t,n){if(hi.current!==di)throw Error(a(168));ci(hi,t),ci(fi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,pi=hi.current,ci(hi,e),ci(fi,fi.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(hi),ci(hi,e)):ui(fi),ci(fi,n)}var ki=null,Ei=null,Si=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Ni=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ri=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ii?Ii:function(){},Vi=null,ji=null,Ui=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Bi(){switch(Oi()){case Ri:return 99;case Pi:return 98;case Ai:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Pi;case 97:return Ai;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function $i(e,t){return e=Wi(e),Si(e,t)}function Hi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ci(e)}Ki()}function Ki(){if(!Ui&&null!==Vi){Ui=!0;var e=0;try{var t=Vi;$i(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Vi=null}catch(t){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ti(Ri,Qi),t}finally{Ui=!1}}}var Gi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Xi=null,Zi=null,eo=null;function to(){eo=Zi=Xi=null}function no(e){var t=Ji.current;ui(Ji),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(a(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(h=o.baseState,s=0,d=c=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,h,l):p))break e;h=i({},h,l);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,Vs|=s,e.lanes=s,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),o=uo(r,i);o.payload=t,null!=n&&(o.callback=n),co(e,o),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),o=uo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),co(e,o),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=uo(n,r);i.tag=2,null!=t&&(i.callback=t),co(e,i),dl(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&dr(n,r)&&dr(i,o))}function _o(e,t,n){var r=!1,i=di,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(t)?pi:hi.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(t)?pi:hi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Bl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=$l(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ql(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case E:return(t=Kl(t,e.mode,n)).return=e,t}if(ko(t)||z(t))return(t=$l(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null}if(ko(n)||z(n))return null!==i?null:d(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,d=a,m=a=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(i,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=z(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var _=f(i,m,y.value,u);if(null===_){null===m&&(m=g);break}e&&m&&null===_.alternate&&t(i,m),s=o(_,s,v),null===d?c=_:d.sibling=_,d=_,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===S&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case k:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===S){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Eo(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===S?((r=$l(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Wl(o.type,o.key,o.props,null,e.mode,l)).ref=Eo(e,r,o),l.return=e,e=l)}return s(e);case E:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Kl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ql(o,e.mode,l)).return=e,e=r),s(e);if(ko(o))return m(e,r,o,l);if(z(o))return v(e,r,o,l);if(c&&So(e,o),void 0===o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,Q(e.type)||"Component"))}return n(e,r)}}var Co=To(!0),xo=To(!1),Io={},No=li(Io),Oo=li(Io),Ro=li(Io);function Po(e){if(e===Io)throw Error(a(174));return e}function Ao(e,t){switch(ci(Ro,t),ci(Oo,e),ci(No,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(No),ci(No,t)}function Do(){ui(No),ui(Oo),ui(Ro)}function Lo(e){Po(Ro.current);var t=Po(No.current),n=fe(t,e.type);t!==n&&(ci(Oo,e),ci(No,n))}function Mo(e){Oo.current===e&&(ui(No),ui(Oo))}var Fo=li(0);function Vo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Uo=null,qo=!1;function zo(e,t){var n=ql(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Bo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(qo){var t=Uo;if(t){var n=t;if(!Bo(e,t)){if(!(t=Qr(n.nextSibling))||!Bo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(jo=e);zo(jo,n)}jo=e,Uo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,jo=e}}function $o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Ho(e){if(e!==jo)return!1;if(!qo)return $o(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Br(t,e.memoizedProps))for(t=Uo;t;)zo(e,t),t=Qr(t.nextSibling);if($o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=jo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Uo=jo=null,qo=!1}var Ko=[];function Go(){for(var e=0;e<Ko.length;e++)Ko[e]._workInProgressVersionPrimary=null;Ko.length=0}var Yo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Xo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Pa:Aa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ra)}if(Yo.current=Ra,t=null!==ea&&null!==ea.next,Xo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function la(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ua(e,t){return"function"==typeof t?t(e):t}function ca(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var c=u.lane;if((Xo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,Zo.lanes|=c,Vs|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,ur(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function da(e){var t=la(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ur(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Ko.push(t))),e)return n(t._source);throw Ko.push(t),Error(a(350))}function fa(e,t,n,r){var i=Os;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Yo.current,u=l.useState((function(){return ha(i,t,n)})),c=u[1],d=u[0];u=ta;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!ur(s,e)){e=n(t._source),ur(d,e)||(c(e),e=cl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Bt(a),u=1<<l;r[l]|=e,a&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:d}).dispatch=c=Oa.bind(null,Zo,e),u.queue=e,u.baseQueue=null,d=ha(i,t,n),u.memoizedState=u.baseState=d),d}function pa(e,t,n){return fa(la(),e,t,n)}function ma(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e}).dispatch=Oa.bind(null,Zo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ya(){return la().memoizedState}function _a(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function ba(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Zo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function wa(e,t){return _a(516,4,e,t)}function ka(e,t){return ba(516,4,e,t)}function Ea(e,t){return ba(4,2,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,Sa.bind(null,t,e),n)}function Ca(){}function xa(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ia(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Na(e,t){var n=Bi();$i(98>n?98:n,(function(){e(!0)})),$i(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Oa(e,t,n){var r=ul(),i=cl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(e){}dl(e,i,r)}}var Ra={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,_a(4,2,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Zo,e),[r.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:Ca,useDeferredValue:function(e){var t=ma(e),n=t[0],r=t[1];return wa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=Na.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fa(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Gr++).toString(36))),Error(a(355))})),n=ma(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,va(5,(function(){n("r:"+(Gr++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Gr++).toString(36)),t},unstable_isNewReconciler:!1},Aa={readContext:oo,useCallback:xa,useContext:oo,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Ia,useReducer:ca,useRef:ya,useState:function(){return ca(ua)},useDebugValue:Ca,useDeferredValue:function(e){var t=ca(ua),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ca(ua)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return ca(ua)[0]},unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:xa,useContext:oo,useEffect:ka,useImperativeHandle:Ta,useLayoutEffect:Ea,useMemo:Ia,useReducer:da,useRef:ya,useState:function(){return da(ua)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(ua),n=t[0],r=t[1];return ka((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=da(ua)[0];return[ya().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return da(ua)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?xo(t,null,n,r):Co(t,e.child,n,r)}function Va(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function ja(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Bl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Ma=!0)}return Ba(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},_l(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_l(0,e),null;t.memoizedState={baseLanes:0},_l(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_l(0,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ba(e,t,n,r,i){var o=vi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Wa(e,t,n,r,i){if(vi(n)){var o=!0;bi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?oo(u):mi(t,u=vi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&bo(t,a,r,u),ao=!1;var h=t.memoizedState;a.state=h,fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||fi.current||ao?("function"==typeof c&&(vo(t,n,c,r),l=t.memoizedState),(s=ao||yo(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,lo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yi(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?oo(l):mi(t,l=vi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&bo(t,a,r,l),ao=!1,h=t.memoizedState,a.state=h,fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||fi.current||ao?("function"==typeof f&&(vo(t,n,f,r),p=t.memoizedState),(u=ao||yo(t,n,u,r,h,p,l))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return $a(e,t,n,r,o,i)}function $a(e,t,n,r,i,o){za(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&wi(t,n,!1),ns(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ao(e,t.containerInfo)}var Qa,Ka,Ga,Ya={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Hl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Bl(a,s),null!==e?r=Bl(e,r):(r=$l(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Bl(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xa(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Hl(t,i,0,null),n=$l(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Fo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Bl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Bl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&gi(),null;case 3:return Do(),ui(fi),ui(hi),Go(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Po(Ro.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(No.current),Ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Xr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":le(r,s),Nr("invalid",r)}for(var u in Ee(n,s),e=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Qa(e,t),t.stateNode=e,u=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Tr.length;o++)Nr(Tr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Nr("invalid",e);break;default:o=r}Ee(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?we(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"==typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"==typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Nr("scroll",e):null!=d&&b(e,s,d,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=jr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Ro.current),Po(No.current),Ho(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ui(Fo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),null===Os||0==(134217727&Vs)&&0==(134217727&js)||ml(Os,Ps))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(Fo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ls||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Vo(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Bs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Vo(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,ci(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:vi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(fi),ui(hi),Go(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ui(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Fo),null;case 4:return Do(),null;case 10:return no(e),null;case 23:case 24:return bl(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(No.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=jr)}for(d in Ee(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Nr("scroll",e),s||u===c||(s=[])):"object"==typeof c&&null!==c&&c.$$typeof===L?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ga=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"==typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,Ks=r),ss(0,t)},n}function cs(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"==typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fl(e,t)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(a(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Dl(n,e),Al(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Ei&&"function"==typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(ki,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Dl(t,n);else{r=t;try{i()}catch(e){Fl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fl(t,e)}break;case 5:hs(t);break;case 4:ks(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?bs(e,n,t):ws(e,n,t)}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function ks(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?we(n,l):"dangerouslySetInnerHTML"===s?ve(n,l):"children"===s?ge(n,l):b(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=zi(),ms(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=jl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Cs=Math.ceil,xs=w.ReactCurrentDispatcher,Is=w.ReactCurrentOwner,Ns=0,Os=null,Rs=null,Ps=0,As=0,Ds=li(0),Ls=0,Ms=null,Fs=0,Vs=0,js=0,Us=0,qs=null,zs=0,Bs=1/0;function Ws(){Bs=zi()+500}var $s,Hs=null,Qs=!1,Ks=null,Gs=null,Ys=!1,Js=null,Xs=90,Zs=[],el=[],tl=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!=(48&Ns)?zi():-1!==il?il:il=zi()}function cl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Bi()?1:2;if(0===ol&&(ol=Fs),0!==Gi.transition){0!==al&&(al=null!==qs?qs.pendingLanes:0),e=ol;var t=4186112&~al;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Bi(),e=jt(0!=(4&Ns)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ol)}function dl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(e=hl(e,t)))return null;zt(e,t,n),e===Os&&(js|=t,4===Ls&&ml(e,Ps));var r=Bi();1===t?0!=(8&Ns)&&0==(48&Ns)?vl(e):(fl(e,n),0===Ns&&(Ws(),Qi())):(0==(4&Ns)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),qs=e}function hl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Bt(s),u=1<<l,c=o[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var d=Lt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ft(e,e===Os?Ps:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ci(n)}15===t?(n=vl.bind(null,e),null===Vi?(Vi=[n],ji=Ti(Ri,Ki)):Vi.push(n),n=Mi):14===t?n=Hi(99,vl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Hi(n,pl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,al=ol=0,0!=(48&Ns))throw Error(a(327));var t=e.callbackNode;if(Pl()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ps:0);if(0===n)return null;var r=n,i=Ns;Ns|=16;var o=El();for(Os===e&&Ps===r||(Ws(),wl(e,r));;)try{Cl();break}catch(t){kl(e,t)}if(to(),xs.current=o,Ns=i,null!==Rs?r=0:(Os=null,Ps=0,r=Ls),0!=(Fs&js))wl(e,0);else if(0!==r){if(2===r&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Vt(e))&&(r=Sl(e,n))),1===r)throw t=Ms,wl(e,0),ml(e,n),fl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Nl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=zs+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Nl.bind(null,e),r);break}Nl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Bt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Wr(Nl.bind(null,e),n);break}Nl(e);break;default:throw Error(a(329))}}return fl(e,zi()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!=(48&Ns))throw Error(a(327));if(Pl(),e===Os&&0!=(e.expiredLanes&Ps)){var t=Ps,n=Sl(e,t);0!=(Fs&js)&&(n=Sl(e,t=Ft(e,t)))}else n=Sl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ns|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Vt(e))&&(n=Sl(e,t))),1===n)throw n=Ms,wl(e,0),ml(e,t),fl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e),fl(e,zi()),null}function gl(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Ws(),Qi())}}function yl(e,t){var n=Ns;Ns&=-2,Ns|=8;try{return e(t)}finally{0===(Ns=n)&&(Ws(),Qi())}}function _l(e,t){ci(Ds,As),As|=t,Fs|=t}function bl(){As=Ds.current,ui(Ds)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,$r(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&gi();break;case 3:Do(),ui(fi),ui(hi),Go();break;case 5:Mo(r);break;case 4:Do();break;case 13:case 19:ui(Fo);break;case 10:no(r);break;case 23:case 24:bl()}n=n.return}Os=e,Rs=Bl(e.current,null),Ps=As=Fs=t,Ls=0,Ms=null,Us=js=Vs=0}function kl(e,t){for(;;){var n=Rs;try{if(to(),Yo.current=Ra,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Xo=0,ta=ea=Zo=null,ra=!1,Is.current=null,null===n||null===n.return){Ls=1,Ms=t,Rs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ps,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!=(1&Fo.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0==(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=uo(-1,1);y.tag=2,co(s,y)}s.lanes|=1;break e}l=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Vl.bind(null,o,u,s);u.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((Q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ls&&(Ls=2),l=as(l,s),h=a;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,us(0,o,t));break e;case 1:o=l;var w=h.type,k=h.stateNode;if(0==(64&h.flags)&&("function"==typeof w.getDerivedStateFromError||null!==k&&"function"==typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,cs(h,o,t));break e}}h=h.return}while(null!==h)}Il(n)}catch(e){t=e,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function El(){var e=xs.current;return xs.current=Ra,null===e?Ra:e}function Sl(e,t){var n=Ns;Ns|=16;var r=El();for(Os===e&&Ps===t||wl(e,t);;)try{Tl();break}catch(t){kl(e,t)}if(to(),Ns=n,xs.current=r,null!==Rs)throw Error(a(261));return Os=null,Ps=0,Ls}function Tl(){for(;null!==Rs;)xl(Rs)}function Cl(){for(;null!==Rs&&!xi();)xl(Rs)}function xl(e){var t=$s(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?Il(e):Rs=t,Is.current=null}function Il(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,As)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&As)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function Nl(e){var t=Bi();return $i(99,Ol.bind(null,e,t)),null}function Ol(e,t){do{Pl()}while(null!==Js);if(0!=(48&Ns))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Bt(o),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~c}if(null!==tl&&0==(24&r)&&tl.has(e)&&tl.delete(e),e===Os&&(Rs=Os=null,Ps=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ns,Ns|=32,Is.current=null,Ur=Kt,vr(s=mr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==l||0!==o&&3!==v.nodeType||(h=d+o),v!==u||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===l&&++p===o&&(h=d),g===u&&++m===c&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;qr={focusedElem:s,selectionRange:l},Kt=!1,sl=null,ll=!1,Hs=r;do{try{Rl()}catch(e){if(null===Hs)throw Error(a(330));Fl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);sl=null,Hs=r;do{try{for(s=e;null!==Hs;){var _=Hs.flags;if(16&_&&ge(Hs.stateNode,""),128&_){var b=Hs.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:_s(Hs),Hs.flags&=-3;break;case 6:_s(Hs),Hs.flags&=-3,Es(Hs.alternate,Hs);break;case 1024:Hs.flags&=-1025;break;case 1028:Hs.flags&=-1025,Es(Hs.alternate,Hs);break;case 4:Es(Hs.alternate,Hs);break;case 8:ks(s,l=Hs);var k=l.alternate;gs(l),null!==k&&gs(k)}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Fl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);if(w=qr,b=mr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&pr(_.ownerDocument.documentElement,_)){null!==s&&vr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,k=Math.min(s.start,l),s=void 0===s.end?k:Math.min(s.end,l),!w.extend&&k>s&&(l=s,s=k,k=l),l=fr(_,k),o=fr(_,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),k>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Ur,qr=Ur=null,e.current=n,Hs=r;do{try{for(_=e;null!==Hs;){var E=Hs.flags;if(36&E&&ps(_,Hs.alternate,Hs),128&E){b=void 0;var S=Hs.ref;if(null!==S){var T=Hs.stateNode;Hs.tag,b=T,"function"==typeof S?S(b):S.current=b}}Hs=Hs.nextEffect}}catch(e){if(null===Hs)throw Error(a(330));Fl(Hs,e),Hs=Hs.nextEffect}}while(null!==Hs);Hs=null,Fi(),Ns=i}else e.current=n;if(Ys)Ys=!1,Js=e,Xs=t;else for(Hs=r;null!==Hs;)t=Hs.nextEffect,Hs.nextEffect=null,8&Hs.flags&&((E=Hs).sibling=null,E.stateNode=null),Hs=t;if(0===(r=e.pendingLanes)&&(Gs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,Ei&&"function"==typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(ki,n,void 0,64==(64&n.current.flags))}catch(e){}if(fl(e,zi()),Qs)throw Qs=!1,e=Ks,Ks=null,e;return 0!=(8&Ns)||Qi(),null}function Rl(){for(;null!==Hs;){var e=Hs.alternate;ll||null===sl||(0!=(8&Hs.flags)?Ze(Hs,sl)&&(ll=!0):13===Hs.tag&&Ts(e,Hs)&&Ze(Hs,sl)&&(ll=!0));var t=Hs.flags;0!=(256&t)&&fs(e,Hs),0==(512&t)||Ys||(Ys=!0,Hi(97,(function(){return Pl(),null}))),Hs=Hs.nextEffect}}function Pl(){if(90!==Xs){var e=97<Xs?97:Xs;return Xs=90,$i(e,Ll)}return!1}function Al(e,t){Zs.push(t,e),Ys||(Ys=!0,Hi(97,(function(){return Pl(),null})))}function Dl(e,t){el.push(t,e),Ys||(Ys=!0,Hi(97,(function(){return Pl(),null})))}function Ll(){if(null===Js)return!1;var e=Js;if(Js=null,0!=(48&Ns))throw Error(a(331));var t=Ns;Ns|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===o)throw Error(a(330));Fl(o,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ns=t,Qi(),!0}function Ml(e,t,n){co(e,t=us(0,t=as(n,t),1)),t=ul(),null!==(e=hl(e,1))&&(zt(e,1,t),fl(e,t))}function Fl(e,t){if(3===e.tag)Ml(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ml(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){var i=cs(n,e=as(t,e),1);if(co(n,i),i=ul(),null!==(n=hl(n,1)))zt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Vl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ps&n)===n&&(4===Ls||3===Ls&&(62914560&Ps)===Ps&&500>zi()-zs?wl(e,0):Us|=n),fl(e,t)}function jl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Bi()?1:2:(0===ol&&(ol=Fs),0===(t=Ut(62914560&~ol))&&(t=4194304))),n=ul(),null!==(e=hl(e,t))&&(zt(e,t,n),fl(e,n))}function Ul(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,n,r){return new Ul(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Bl(e,t){var n=e.alternate;return null===n?((n=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)zl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return $l(n.children,i,o,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case C:return(e=ql(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case O:return(e=ql(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case R:return(e=ql(19,n,t,i)).elementType=R,e.lanes=o,e;case F:return Hl(n,i,o,t);case V:return(e=ql(24,n,t,i)).elementType=V,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case I:s=9;break e;case N:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ql(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $l(e,t,n,r){return(e=ql(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){return(e=ql(23,e,r,t)).elementType=F,e.lanes=n,e}function Ql(e,t,n){return(e=ql(6,e,null,t)).lanes=n,e}function Kl(e,t,n){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Yl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Jl(e,t,n,r){var i=t.current,o=ul(),s=cl(i);e:if(n){t:{if(Ge(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(vi(u)){n=_i(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),dl(i,s,o),s}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Gl(e,t,null!=n&&!0===n.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Xl(a);s.call(e)}}Jl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Xl(a);l.call(e)}}yl((function(){Jl(t,a,e,i)}))}return Xl(a)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(a(200));return Yl(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ma=!0;else{if(0==(n&r)){switch(Ma=!1,t.tag){case 3:Ha(t),Qo();break;case 5:Lo(t);break;case 1:vi(t.type)&&bi(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ja(e,t,n):(ci(Fo,1&Fo.current),null!==(t=ns(e,t,n))?t.sibling:null);ci(Fo,1&Fo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return ns(e,t,n)}Ma=0!=(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternals=t,wo(t,r,e,n),t=$a(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ba(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Va(null,t,i,e,n);break e;case 14:t=ja(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ha(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Uo=Qr(t.stateNode.containerInfo.firstChild),jo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Ko.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Br(r,i)?s=null:null!==o&&Br(r,o)&&(t.flags|=16),za(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Ji,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0==(o=ur(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),ja(e,t,i,o=Yi(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,bi(t)):e=!1,io(t,n),_o(t,r,i),wo(t,r,i,n),$a(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},tu.prototype.render=function(e){Jl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Jl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(dl(e,4,ul()),eu(e,4))},tt=function(e){13===e.tag&&(dl(e,67108864,ul()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=cl(e);dl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));J(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=gl,Ae=function(e,t,n,r,i){var o=Ns;Ns|=4;try{return $i(98,e.bind(null,t,n,r,i))}finally{0===(Ns=o)&&(Ws(),Qi())}},De=function(){0==(49&Ns)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,zi())}))}Qi()}(),Pl())},Le=function(e,t){var n=Ns;Ns|=2;try{return e(t)}finally{0===(Ns=n)&&(Ws(),Qi())}};var ou={Events:[ni,ri,ii,Oe,Re,Pl,{current:!1}]},au={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{ki=lu.inject(su),Ei=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ns;if(0!=(48&n))return e(t);Ns|=1;try{if(e)return $i(99,e.bind(null,t))}finally{Ns=n,Qi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(a(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(a(40));return!!e._reactRootContainer&&(yl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:(e,t,n)=>{"use strict";var r=n(418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var _=y.prototype=new g;_.constructor=y,r(_,v.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+C(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+C(s=e[u],u);l+=x(s,t,n,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=x(s=s.value,t,n,c=r+C(s,u++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function R(){var e=O.current;if(null===e)throw Error(f(321));return e}var P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=b.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(d,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+y;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){f(g),g=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],x=[],I=1,N=null,O=3,R=!1,P=!1,A=!1;function D(e){for(var t=E(x);null!==t;){if(null===t.callback)S(x);else{if(!(t.startTime<=e))break;S(x),t.sortIndex=t.expirationTime,k(C,t)}t=E(x)}}function L(e){if(A=!1,D(e),!P)if(null!==E(C))P=!0,n(M);else{var t=E(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,A&&(A=!1,i()),R=!0;var o=O;try{for(D(n),N=E(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"==typeof a){N.callback=null,O=N.priorityLevel;var s=a(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?N.callback=s:N===E(C)&&S(C),D(n)}else S(C);N=E(C)}if(null!==N)var l=!0;else{var u=E(x);null!==u&&r(L,u.startTime-n),l=!1}return l}finally{N=null,O=o,R=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,k(x,e),null===E(C)&&e===E(x)&&(A?i():A=!0,r(L,a-s))):(e.sortIndex=l,k(C,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},943:(e,t,n)=>{"use strict";n(149);var r=n(294),i=n(935),o=function(e){const t=new Error(e);if(void 0===t.stack)try{throw t}catch(e){}return t},a=function(e){return!!e&&"function"==typeof e.then},s=function(e,t){if(null!=e)return e;throw o(null!=t?t:"Got unexpected null or undefined")};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u{getValue(){throw o("BaseLoadable")}toPromise(){throw o("BaseLoadable")}valueMaybe(){throw o("BaseLoadable")}valueOrThrow(){throw o(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw o("BaseLoadable")}promiseOrThrow(){throw o(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw o("BaseLoadable")}errorOrThrow(){throw o(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw o("BaseLoadable")}}class c extends u{constructor(e){super(),l(this,"state","hasValue"),l(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return a(t)?m(t):g(t)?t:f(t)}catch(t){return a(t)?m(t.next((()=>this.map(e)))):p(t)}}}class d extends u{constructor(e){super(),l(this,"state","hasError"),l(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class h extends u{constructor(e){super(),l(this,"state","loading"),l(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return m(this.contents.then((t=>{const n=e(t);if(g(n)){const e=n;switch(e.state){case"hasValue":case"loading":return e.contents;case"hasError":throw e.contents}}return n})).catch((t=>{if(a(t))return t.then((()=>this.map(e).contents));throw t})))}}function f(e){return Object.freeze(new c(e))}function p(e){return Object.freeze(new d(e))}function m(e){return Object.freeze(new h(e))}function v(e){const t=function(e){return e.every((e=>"hasValue"===e.state))?f(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?p(s(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):m(Promise.all(e.map((e=>e.contents))))}(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t])));return Array.isArray(e)?t:t.map((t=>Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})))}function g(e){return e instanceof u}const y={of:e=>a(e)?m(e):f(e),error:e=>p(e),all:v,isLoadable:g};var _,b={loadableWithValue:f,loadableWithError:p,loadableWithPromise:m,loadableLoading:function(){return Object.freeze(new h(new Promise((()=>{}))))},loadableAll:v,isLoadable:g,RecoilLoadable:y},w=b.loadableWithValue,k=b.loadableWithError,E=b.loadableWithPromise,S=b.loadableLoading,T=b.loadableAll,C=b.isLoadable,x=b.RecoilLoadable,I=Object.freeze({__proto__:null,loadableWithValue:w,loadableWithError:k,loadableWithPromise:E,loadableLoading:S,loadableAll:T,isLoadable:C,RecoilLoadable:x});const N=null!==(_=r.useMutableSource)&&void 0!==_?_:r.unstable_useMutableSource;var O={mutableSourceExists:function(){return N&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:N};const{mutableSourceExists:R}=O,P=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function A(e){var t;return!("recoil_early_rendering_2021"===e&&!R())&&null!==(t=P.get(e))&&void 0!==t&&t}A.setPass=e=>{P.set(e,!0)},A.setFail=e=>{P.set(e,!1)};var D=A,L=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};class M{constructor(e){l(this,"key",void 0),this.key=e}}class F extends M{}class V extends M{}var j={AbstractRecoilValue:M,RecoilState:F,RecoilValueReadOnly:V,isRecoilValue:function(e){return e instanceof F||e instanceof V}},U=j.AbstractRecoilValue,q=j.RecoilState,z=j.RecoilValueReadOnly,B=j.isRecoilValue,W=Object.freeze({__proto__:null,AbstractRecoilValue:U,RecoilState:q,RecoilValueReadOnly:z,isRecoilValue:B});class ${}const H=new $;class Q extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const K=new Map,G=new Map;class Y extends Error{}const J=new Map;function X(e){return J.get(e)}var Z,ee,te={nodes:K,recoilValues:G,registerNode:function(e){if(K.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}K.set(e.key,e);const t=null==e.set?new W.RecoilValueReadOnly(e.key):new W.RecoilState(e.key);return G.set(e.key,t),t},getNode:function(e){const t=K.get(e);if(null==t)throw new Y(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return K.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!D("recoil_memory_managament_2020"))return;const n=K.get(e);var r;(null==n||null===(t=n.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(n))&&(K.delete(e),null===(r=X(e))||void 0===r||r(),J.delete(e))},setConfigDeletionHandler:function(e,t){D("recoil_memory_managament_2020")&&(void 0===t?J.delete(e):J.set(e,t))},getConfigDeletionHandler:X,recoilValuesForKeys:function(e){return L(e,(e=>s(G.get(e))))},NodeMissingError:Y,DefaultValue:$,DEFAULT_VALUE:H,RecoilValueNotReady:Q},ne=function(e,t){t()},re=(Z=function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},l=function(e){return function(){return e}},u=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},c=function(e,t){return t>>>e&i},d=function(e){return 1<<e},h=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},f=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},m={__hamt_isEmpty:!0},v=function(e){return e===m||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:E}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},_=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:C}},w=function e(t,n,r,i,o,a){if(r===o)return y(t,r,[a,i]);var s=c(n,r),l=c(n,o);return _(t,d(s)|d(l),s===l?[e(t,n+5,r,i,o,a)]:s<l?[i,a]:[a,i])},k=function(e,t){return e===t.edit},E=function(e,t,n,r,i,o,a){if(t(o,this.key)){var l=r(this.value);return l===this.value?this:l===s?(--a.value,m):k(e,this)?(this.value=l,this):g(e,i,o,l)}var u=r();return u===s?this:(++a.value,w(e,n,this.hash,this,i,g(e,i,o,u)))},S=function(e,t,n,r,i,o,a){if(i===this.hash){var l=function(e,t,n,r,i,o,a,l){for(var u=i.length,c=0;c<u;++c){var d=i[c];if(n(a,d.key)){var h=d.value,m=o(h);return m===h?i:m===s?(--l.value,p(e,c,i)):f(e,c,g(t,r,a,m),i)}}var v=o();return v===s?i:(++l.value,f(e,u,g(t,r,a,v),i))}(k(e,this),e,t,this.hash,this.children,r,o,a);return l===this.children?this:l.length>1?y(e,this.hash,l):l[0]}var u=r();return u===s?this:(++a.value,w(e,n,this.hash,this,i,g(e,i,o,u)))},T=function(e,t,n,r,i,a,s){var l=this.mask,u=this.children,g=c(n,i),y=d(g),w=h(l,y),E=l&y,S=E?u[w]:m,T=S._modify(e,t,n+5,r,i,a,s);if(S===T)return this;var C,x=k(e,this),I=l,N=void 0;if(E&&v(T)){if(!(I&=~y))return m;if(u.length<=2&&((C=u[1^w])===m||1===C.type||2===C.type))return u[1^w];N=p(x,w,u)}else if(E||v(T))N=f(x,w,T,u);else{if(u.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,l=0;a;++l)1&a&&(o[l]=i[s++]),a>>>=1;return o[t]=n,b(e,s+1,o)}(e,g,T,l,u);I|=y,N=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,l=new Array(i+1);a<t;)l[s++]=r[a++];for(l[t]=n;a<i;)l[++s]=r[a++];return l}(x,w,T,u)}return x?(this.mask=I,this.children=N,this):_(e,I,N)},C=function(e,t,n,r,i,o,s){var l=this.size,u=this.children,d=c(n,i),h=u[d],p=(h||m)._modify(e,t,n+5,r,i,o,s);if(h===p)return this;var g=k(e,this),y=void 0;if(v(h)&&!v(p))++l,y=f(g,d,p,u);else if(!v(h)&&v(p)){if(--l<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,l=r.length;s<l;++s)if(s!==n){var u=r[s];u&&!v(u)&&(i[o++]=u,a|=1<<s)}return _(e,a,i)}(e,l,d,u);y=f(g,d,m,u)}else y=f(g,d,p,u);return g?(this.size=l,this.children=y,this):b(e,l,y)};function x(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}m._modify=function(e,t,n,r,i,o,a){var l=r();return l===s?m:(++a.value,g(e,i,o,l))},x.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new x(this._editable,this._edit,this._config,e,t)};var I=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,l=0,u=s.length;l<u;++l){var f=s[l];if(a(n,f.key))return f.value}return e;case 3:var p=c(o,t),m=d(p);if(i.mask&m){i=i.children[h(i.mask,m)],o+=5;break}return e;case 4:if(i=i.children[c(o,t)]){o+=5;break}return e;default:return e}};x.prototype.tryGetHash=function(e,t,n){return I(e,t,n,this)};var N=n.tryGet=function(e,t,n){return I(e,n._config.hash(t),t,n)};x.prototype.tryGet=function(e,t){return N(e,t,this)};var O=n.getHash=function(e,t,n){return I(void 0,e,t,n)};x.prototype.getHash=function(e,t){return O(e,t,this)},n.get=function(e,t){return I(void 0,t._config.hash(e),e,t)},x.prototype.get=function(e,t){return N(t,e,this)};var R=n.has=function(e,t,n){return I(s,e,t,n)!==s};x.prototype.hasHash=function(e,t){return R(e,t,this)};var P=n.has=function(e,t){return R(t._config.hash(e),e,t)};x.prototype.has=function(e){return P(e,this)};var A=function(e,t){return e===t};n.make=function(e){return new x(0,0,{keyEq:e&&e.keyEq||A,hash:e&&e.hash||u},m,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!v(e._root)};x.prototype.isEmpty=function(){return D(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};x.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};x.prototype.modify=function(e,t){return M(t,e,this)};var F=n.setHash=function(e,t,n,r){return L(l(n),e,t,r)};x.prototype.setHash=function(e,t,n){return F(e,t,n,this)};var V=n.set=function(e,t,n){return F(n._config.hash(e),e,t,n)};x.prototype.set=function(e,t){return V(e,t,this)};var j=l(s),U=n.removeHash=function(e,t,n){return L(j,e,t,n)};x.prototype.removeHash=x.prototype.deleteHash=function(e,t){return U(e,t,this)};var q=n.remove=function(e,t){return U(t._config.hash(e),e,t)};x.prototype.remove=x.prototype.delete=function(e){return q(e,this)};var z=n.beginMutation=function(e){return new x(e._editable+1,e._edit+1,e._config,e._root,e._size)};x.prototype.beginMutation=function(){return z(this)};var B=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};x.prototype.endMutation=function(){return B(this)};var W=n.mutate=function(e,t){var n=z(t);return e(n),B(n)};x.prototype.mutate=function(e){return W(e,this)};var $=function(e){return e&&H(e[0],e[1],e[2],e[3],e[4])},H=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!v(o))return Q(o,r,[e,t,n,r,i])}return $(i)},Q=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return H(r.length,r,0,t,n);default:return $(n)}},K={done:!0};function G(e){this.v=e}G.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=$(e.rest),e},G.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new G(Q(e._root,t))},J=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,J)};x.prototype.entries=x.prototype[Symbol.iterator]=function(){return X(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};x.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=x.prototype.values=function(e){return Y(e,te)};x.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var l=o[a++];l&&l.type&&(1===l.type?t=e(t,l.value,l.key):i.push(l.children))}return t};x.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};x.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};x.prototype.count=function(){return oe(this)},Object.defineProperty(x.prototype,"size",{get:x.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},Z(ee={exports:{}}),ee.exports);class ie{constructor(e){l(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return ae(this)}toMap(){return new Map(this._map)}}class oe{constructor(e){if(l(this,"_hamt",re.empty.beginMutation()),e instanceof oe){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return ae(this)}toMap(){return new Map(this._hamt)}}function ae(e){return D("recoil_hamt_2020")?new oe(e):new ie(e)}var se=ae,le=Object.freeze({__proto__:null,persistentMap:se}),ue=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n},ce=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function de(e,t,n){const{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach(((e,t)=>{const o=r.get(t);o&&n&&o!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==o?e:ue(e,o)).forEach((e=>{i.has(e)||i.set(e,new Set),s(i.get(e)).add(t)})),o&&ue(o,e).forEach((e=>{if(!i.has(e))return;const n=s(i.get(e));n.delete(t),0===n.size&&i.delete(e)})))}))}var he={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),s(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:ce(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:ce(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach(((e,n)=>{t.has(n)||t.set(n,new Set);const r=s(t.get(n));e.forEach((e=>r.add(e)))}))},saveDependencyMapToStore:function(e,t,n){var r,i,o,a;const s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&(null===(i=s.previousTree)||void 0===i||i.version);const l=t.getGraph(n);if(de(e,l),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&de(e,t.getGraph(s.currentTree.version),l),n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var u;const n=null===(u=s.nextTree)||void 0===u?void 0:u.version;void 0!==n&&de(e,t.getGraph(n),l)}}};const{persistentMap:fe}=le,{graph:pe}=he;let me=0;const ve=()=>me++;function ge(){const e=ve();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:fe(),nonvalidatedAtoms:fe()}}var ye={makeEmptyTreeState:ge,makeEmptyStoreState:function(){const e=ge();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,pe()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:ve},_e=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t},be={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}},we=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};class ke{}var Ee={RetentionZone:ke,retentionZone:function(){return new ke}};const{setByAddingToSet:Se}=be,{getNode:Te,getNodeMaybe:Ce,recoilValuesForKeys:xe}=te,{RetentionZone:Ie}=Ee,Ne=Object.freeze(new Set);class Oe extends Error{}function Re(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=Te(n),a=function(e,t,n){if(!D("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Ie)i(n);else if(Array.isArray(n))for(const e of n)i(e);return()=>{if(!D("recoil_memory_managament_2020"))return;const r=e.getState().retention.nodesRetainedByZone;function i(e){const n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof Ie)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{s(),a()}))}function Pe(e,t,n){return Te(n).peek(e,t)}function Ae(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let e=i.pop();e;e=i.pop()){var a;r.add(e);const t=null!==(a=o.nodeToNodeSubscriptions.get(e))&&void 0!==a?a:Ne;for(const e of t)r.has(e)||i.push(e)}return r}var De={getNodeLoadable:function(e,t,n){return Re(e,t,n,"get"),Te(n).get(e,t)},peekNodeLoadable:Pe,setNodeValue:function(e,t,n,r){const i=Te(n);if(null==i.set)throw new Oe(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return Re(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=Ce(t);return null==i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Se(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;const a=e.getState(),s=e.getGraph(t.version),l=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,u=we(Ae(e,t,new Set([n])),(e=>e!==n));return{loadable:Pe(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==l&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:l,deps:xe(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:xe(u),components:L(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}},getDownstreamNodes:Ae,initializeNodeIfNewToStore:Re};const{getDownstreamNodes:Le,getNodeLoadable:Me,setNodeValue:Fe}=De,{getNodeMaybe:Ve}=te,{DefaultValue:je,RecoilValueNotReady:Ue}=te,{AbstractRecoilValue:qe,RecoilState:ze,RecoilValueReadOnly:Be,isRecoilValue:We}=W;function $e(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"==typeof r){const i=Me(e,t,n);if("loading"===i.state)throw new Ue(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),a=Fe(e,t,r.key,o);for(const[e,n]of a.entries())He(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;He(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=Ve(e);null==o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else n.type}function He(e,t,n){"hasValue"===n.state&&n.contents instanceof je?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function Qe(e,t){e.replaceState((n=>{const r=Ye(n);for(const n of t)$e(e,r,n);return Je(e,r),r}))}function Ke(e,t){if(Ge.length){const n=Ge[Ge.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else Qe(e,[t])}const Ge=[];function Ye(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function Je(e,t){const n=Le(e,t,t.dirtyAtoms);for(const e of n){var r,i;null===(r=Ve(e))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function Xe(e,t,n){Ke(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let Ze=0;var et={RecoilValueReadOnly:Be,AbstractRecoilValue:qe,RecoilState:ze,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const o=e.getState();n.version!==o.currentTree.version&&n.version!==(null===(r=o.nextTree)||void 0===r?void 0:r.version)&&(n.version,null===(i=o.previousTree)||void 0===i||i.version);const a=Me(e,n,t);return"loading"===a.state&&a.contents.catch((()=>{})),a},setRecoilValue:Xe,setRecoilValueLoadable:function(e,t,n){if(n instanceof je)return Xe(e,t,n);Ke(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Ke(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Ke(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Ze++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),s(o.nodeToComponentSubscriptions.get(t)).set(i,[null!=r?r:"<not captured>",n]),D("recoil_early_rendering_2021")){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)&&(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t))}}},isRecoilValue:We,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof je?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return Ge.push(e),()=>{for(const[t,n]of e)Qe(t,n);Ge.pop()}},writeLoadableToTreeState:He,invalidateDownstreams:Je,copyTreeState:Ye,invalidateDownstreams_FOR_TESTING:Je},tt=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:nt}=De,{deleteNodeConfigIfPossible:rt,getNode:it}=te,{RetentionZone:ot}=Ee,at=new Set;function st(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const e of t)if(e instanceof ot)for(const t of ut(n,e))i.add(t);else i.add(e);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,a=new Set;return function t(l){const u=new Set,c=function(e,t,n,r,i){const o=e.getGraph(t.version),a=[],l=new Set;for(;n.size>0;)u(s(n.values().next().value));return a;function u(e){if(r.has(e)||i.has(e))return void n.delete(e);if(l.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const e of t)u(e);l.add(e),n.delete(e),a.push(e)}}(e,r,l,o,a);for(const e of c){var d;if("recoilRoot"===it(e).retainedBy){a.add(e);continue}if((null!==(d=n.retention.referenceCounts.get(e))&&void 0!==d?d:0)>0){a.add(e);continue}if(ct(e).some((e=>n.retention.referenceCounts.get(e)))){a.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&tt(t,(e=>a.has(e)))?a.add(e):(o.add(e),u.add(e))}const h=new Set;for(const e of u)for(const t of null!==(f=i.nodeDeps.get(e))&&void 0!==f?f:at){var f;o.has(t)||h.add(t)}h.size&&t(h)}(t),o}(e,i);for(const t of o)lt(e,r,t)}function lt(e,t,n){if(!D("recoil_memory_managament_2020"))return;nt(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=ct(n);for(const e of i){var o;null===(o=r.retention.nodesRetainedByZone.get(e))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const e=a.nodeDeps.get(n);if(void 0!==e){a.nodeDeps.delete(n);for(const t of e){var s;null===(s=a.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}rt(n)}function ut(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:at}function ct(e){const t=it(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof ot?[t]:t}function dt(e,t){D("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):st(e,new Set([t]))}(e,t))}var ht={SUSPENSE_TIMEOUT_MS:12e4,updateRetainCount:function(e,t,n){var r;if(!D("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?dt(e,t):i.set(t,o)},updateRetainCountToZero:dt,releaseScheduledRetainablesNow:function(e){if(!D("recoil_memory_managament_2020"))return;const t=e.getState();st(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},ft={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};const{unstable_batchedUpdates:pt}=i;var mt={unstable_batchedUpdates:pt};const{unstable_batchedUpdates:vt}=mt;var gt={unstable_batchedUpdates:vt};const{batchStart:yt}=et,{unstable_batchedUpdates:_t}=gt;let bt=_t;var wt={getBatcher:()=>bt,setBatcher:e=>{bt=e},batchUpdates:e=>{bt((()=>{let t=()=>{};try{t=yt(),e()}finally{t()}}))}};const{isSSR:kt}=ft,{batchUpdates:Et}=wt,{initializeNodeIfNewToStore:St,peekNodeInfo:Tt}=De,{graph:Ct}=he,{DEFAULT_VALUE:xt,recoilValues:It,recoilValuesForKeys:Nt}=te,{AbstractRecoilValue:Ot,getRecoilValueAsLoadable:Rt,setRecoilValue:Pt,setUnvalidatedRecoilValue:At}=et,{updateRetainCount:Dt}=ht,{getNextTreeStateVersion:Lt,makeEmptyStoreState:Mt}=ye;class Ft{constructor(e){l(this,"_store",void 0),l(this,"_refCount",0),l(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Rt(this._store,e)))),l(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),l(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null==e?void 0:e.isModified)){if(!1===(null==e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return Nt(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null==e?void 0:e.isInitialized)?It.values():!0===e.isInitialized?Nt(function*(e){for(const t of e)for(const e of t)yield e}([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):we(It.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),l(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),Tt(this._store,this._store.getState().currentTree,e)))),l(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,Et);return e(t),jt(t.getStore_INTERNAL())})),l(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Ut(this,Et);return await e(t),jt(t.getStore_INTERNAL())})),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return s(n.get(t));const r=Ct();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw o("Cannot subscribe to Snapshots")}};for(const t of this._store.getState().nodeCleanupFunctions.keys())St(this._store,e.currentTree,t,"get"),Dt(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!D("recoil_memory_managament_2020"))return()=>{};this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){D("recoil_memory_managament_2020")&&(kt||window.setTimeout((()=>this.release_INTERNAL()),0))}release_INTERNAL(){D("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){D("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function Vt(e,t,n=!1){const r=e.getState(),i=n?Lt():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function jt(e,t="current"){const n=e.getState(),r="current"===t?n.currentTree:s(n.previousTree);return new Ft(Vt(e,r))}class Ut extends Ft{constructor(e,t){super(Vt(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),l(this,"_batch",void 0),l(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Dt(n,e.key,1),Pt(this.getStore_INTERNAL(),e,t)}))})),l(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Dt(t,e.key,1),Pt(this.getStore_INTERNAL(),e,xt)}))})),l(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();Et((()=>{for(const[n,r]of e.entries())Dt(t,n,1),At(t,new Ot(n),r)}))})),this._batch=t}}var qt={Snapshot:Ft,MutableSnapshot:Ut,freshSnapshot:function(e){const t=new Ft(Mt());return null!=e?t.map(e):t},cloneSnapshot:jt},zt=qt.Snapshot,Bt=qt.MutableSnapshot,Wt=qt.freshSnapshot,$t=qt.cloneSnapshot,Ht=Object.freeze({__proto__:null,Snapshot:zt,MutableSnapshot:Bt,freshSnapshot:Wt,cloneSnapshot:$t});const{getNextTreeStateVersion:Qt,makeEmptyStoreState:Kt}=ye,{cleanUpNode:Gt,getDownstreamNodes:Yt,setNodeValue:Jt,setUnvalidatedAtomValue_DEPRECATED:Xt}=De,{graph:Zt}=he,{cloneGraph:en}=he,{applyAtomValueWrites:tn}=et,{releaseScheduledRetainablesNow:nn}=ht,{freshSnapshot:rn}=Ht,{useCallback:on,useContext:an,useEffect:sn,useMemo:ln,useRef:un,useState:cn}=r;function dn(){throw o("This component must be used inside a <RecoilRoot> component.")}const hn=Object.freeze({getState:dn,replaceState:dn,getGraph:dn,subscribeToTransactions:dn,addTransactionMetadata:dn});let fn=!1;function pn(e){if(fn)throw o("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){D("recoil_memory_managament_2020")&&D("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&nn(e);const n=t.currentTree.version,r=Qt();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,en(s(t.graphsByVersion.get(n))))}}const mn=r.createContext({current:hn}),vn=()=>an(mn),gn=r.createContext(null);function yn(e,t,n){const r=Yt(e,n,n.dirtyAtoms);for(const e of r){const r=t.nodeToComponentSubscriptions.get(e);if(r)for(const[e,[t,i]]of r)i(n)}}function _n(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,n]of i)n(e);for(const[n,r]of t.transactionSubscriptions)r(e);D("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(yn(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function bn({setNotifyBatcherOfChange:e}){const t=vn(),[n,r]=cn([]);return e((()=>r({}))),sn((()=>{ne("Batcher",(()=>{!function(e){const t=e.current.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,_n(e.current),null!=t.previousTree&&t.graphsByVersion.delete(t.previousTree.version),t.previousTree=null,D("recoil_memory_managament_2020")&&nn(e.current)}finally{t.commitDepth--}}(t)}))})),sn((()=>()=>{e((()=>{}))}),[e]),null}let wn=0;function kn({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:i}){var o;let a;const l=un(null),u=on((e=>{l.current=e}),[l]),c=null!==(o=r.createMutableSource)&&void 0!==o?o:r.unstable_createMutableSource,d=null!=n?n:{getState:()=>a.current,replaceState:e=>{const t=h.current.getState();pn(h.current);const n=s(t.nextTree);let r;try{fn=!0,r=e(n)}finally{fn=!1}r!==n&&(t.nextTree=r,D("recoil_early_rendering_2021")&&yn(d,t,r),s(l.current)())},getGraph:e=>{const t=a.current.graphsByVersion;if(t.has(e))return s(t.get(e));const n=Zt();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){const{transactionSubscriptions:t}=h.current.getState(),n=wn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=h.current.getState();n.has(t)||n.set(t,new Map);const r=wn++;return s(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{pn(h.current);for(const t of Object.keys(e))s(h.current.getState().nextTree).transactionMetadata[t]=e[t]}},h=un(d);a=un(null!=e?function(e,t){const n=Kt();return t({set:(t,r)=>{const i=n.currentTree,o=Jt(e,i,t.key,r),a=new Set(o.keys()),s=i.nonvalidatedAtoms.clone();for(const e of a)s.delete(e);n.currentTree={...i,dirtyAtoms:_e(i.dirtyAtoms,a),atomValues:tn(i.atomValues,o),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=Xt(n.currentTree,t,e)}))}}),n}(d,e):null!=t?function(e){return rn().map(e).getStore_INTERNAL().getState()}(t):Kt());const f=ln((()=>c?c(a,(()=>a.current.currentTree.version)):null),[c,a]);return sn((()=>()=>{for(const e of h.current.getState().knownAtoms)Gt(h.current,e)}),[]),r.createElement(mn.Provider,{value:h},r.createElement(gn.Provider,{value:f},r.createElement(bn,{setNotifyBatcherOfChange:u}),i))}var En={useStoreRef:vn,useRecoilMutableSource:function(){const e=an(gn);return e},RecoilRoot:function(e){const{override:t,...n}=e,i=vn();return!1===t&&i.current!==hn?e.children:r.createElement(kn,n)},notifyComponents_FOR_TESTING:yn,sendEndOfBatchNotifications_FOR_TESTING:_n};const{useRef:Sn}=r;var Tn=function(){return Sn(),"<component name not available>"};const{useEffect:Cn,useRef:xn}=r;var In=function(e){const t=xn();return Cn((()=>{t.current=e})),t.current};const{useStoreRef:Nn}=En,{SUSPENSE_TIMEOUT_MS:On}=ht,{updateRetainCount:Rn}=ht,{RetentionZone:Pn}=Ee,{isSSR:An}=ft,{useEffect:Dn,useRef:Ln}=r;var Mn=function(e){if(D("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Pn?e:e.key)),n=Nn();Dn((()=>{if(!D("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!An)window.clearTimeout(r.current),r.current=null;else for(const n of t)Rn(e,n,1);return()=>{for(const n of t)Rn(e,n,-1)}}),[n,...t]);const r=Ln(),i=In(t);if(!(An||void 0!==i&&function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}(i,t))){const e=n.current;for(const n of t)Rn(e,n,1);if(i)for(const t of i)Rn(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)Rn(e,n,-1)}),On)}}(e)};const{batchUpdates:Fn}=wt,{DEFAULT_VALUE:Vn}=te,{useRecoilMutableSource:jn,useStoreRef:Un}=En,{isRecoilValue:qn}=W,{AbstractRecoilValue:zn,getRecoilValueAsLoadable:Bn,setRecoilValue:Wn,setUnvalidatedRecoilValue:$n,subscribeToRecoilValue:Hn}=et,{setByAddingToSet:Qn}=be,{mutableSourceExists:Kn,useMutableSource:Gn}=O,{useCallback:Yn,useEffect:Jn,useMemo:Xn,useRef:Zn,useState:er}=r;function tr(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:o(`Invalid value of loadable atom "${t.key}"`)}function nr(e){return D("recoil_memory_managament_2020")&&Mn(e),Kn()?function(e){const t=Un(),n=Yn((()=>{var n;const r=t.current,i=r.getState(),o=D("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return Bn(r,e,o)}),[t,e]),r=Yn((()=>n()),[n]),i=Tn(),o=Yn(((r,o)=>{const a=t.current;return Hn(a,e,(()=>{if(!D("recoil_suppress_rerender_in_callback"))return o();const e=n();l.current.is(e)||o(),l.current=e}),i).release}),[t,e,i,n]),a=jn(),s=Gn(a,r,o),l=Zn(s);return Jn((()=>{l.current=s})),s}(e):function(e){const t=Un(),[n,r]=er([]),i=Tn();Jn((()=>{const n=t.current,o=n.getState(),s=Hn(n,e,(t=>{var i;if(!D("recoil_suppress_rerender_in_callback"))return r([]);const o=Bn(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a.current=null,r([])}));else{var l;if(!D("recoil_suppress_rerender_in_callback"))return r([]);const t=Bn(n,e,n.getState().currentTree);(null===(l=a.current)||void 0===l?void 0:l.is(t))||r(t),a.current=t}return s.release}),[i,e,t]);const o=Bn(t.current,e),a=Zn(o);return Jn((()=>{a.current=o})),o}(e)}function rr(e){const t=Un();return tr(nr(e),e,t)}function ir(e){const t=Un();return Yn((n=>{Wn(t.current,e,n)}),[t,e])}var or={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useRecoilInterface:function(){const e=Un(),[,t]=er([]),n=Zn(new Set);n.current=new Set;const r=Zn(new Set),i=Zn(new Map),o=Yn((e=>{const t=i.current.get(e);t&&(t.release(),i.current.delete(e))}),[i]),a=Tn();return Jn((()=>{const s=e.current;function l(e,n){i.current.has(n)&&t([])}ue(n.current,r.current).forEach((e=>{if(i.current.has(e))return;const t=Hn(s,new zn(e),(t=>{l(0,e)}),a);i.current.set(e,t),s.getState().nextTree?s.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{l(s.getState(),e)})):l(s.getState(),e)})),ue(r.current,n.current).forEach((e=>{o(e)})),r.current=n.current})),Jn((()=>{const e=i.current;return()=>e.forEach(((e,t)=>o(t)))}),[o]),Xn((()=>{function t(t){return n=>{Wn(e.current,t,n)}}function r(t){var r;n.current.has(t.key)||(n.current=Qn(n.current,t.key));const i=e.current.getState();return Bn(e.current,t,D("recoil_early_rendering_2021")&&null!==(r=i.nextTree)&&void 0!==r?r:i.currentTree)}function i(t){return tr(r(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:r,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[r(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>Wn(e.current,t,Vn)}}}),[n,e])},useRecoilState:function(e){return[rr(e),ir(e)]},useRecoilStateLoadable:function(e){return[nr(e),ir(e)]},useRecoilValue:rr,useRecoilValueLoadable:nr,useResetRecoilState:function(e){const t=Un();return Yn((()=>{Wn(t.current,e,Vn)}),[t,e])},useSetRecoilState:ir,useSetUnvalidatedAtomValues:function(){const e=Un();return(t,n={})=>{Fn((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>$n(e.current,new zn(n),t)))}))}}};const{batchUpdates:ar}=wt,{DEFAULT_VALUE:sr,getNode:lr,nodes:ur}=te,{useStoreRef:cr}=En,{AbstractRecoilValue:dr,setRecoilValueLoadable:hr}=et,{SUSPENSE_TIMEOUT_MS:fr}=ht,{Snapshot:pr,cloneSnapshot:mr}=Ht,{isSSR:vr}=ft,{useCallback:gr,useEffect:yr,useRef:_r,useState:br}=r;function wr(e){const t=cr();yr((()=>t.current.subscribeToTransactions(e).release),[e,t])}function kr(e){const t=e.atomValues.toMap(),n=ce(function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n}(t,((e,t)=>{const n=lr(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t}(e.nonvalidatedAtoms.toMap(),n)}var Er={useRecoilSnapshot:function(){const e=cr(),[t,n]=br((()=>mr(e.current))),r=In(t),i=_r();return yr((()=>(i.current&&!vr&&window.clearTimeout(i.current),t.retain())),[t]),wr(gr((e=>n(mr(e))),[])),r===t||vr||(i.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout((()=>{t.release_INTERNAL(),i.current=null}),fr)),t},useGotoRecoilSnapshot:function(){const e=cr();return gr((t=>{var n;const r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;ar((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,a;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(a=o.atomValues.get(t))||void 0===a?void 0:a.contents)&&lr(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{hr(e.current,new dr(t),o.atomValues.has(t)?s(o.atomValues.get(t)):sr)})),e.current.replaceState((e=>({...e,stateID:t.getID_INTERNAL()})))}))}),[e])},useRecoilTransactionObserver:function(e){wr(gr((t=>{const n=mr(t,"current"),r=mr(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useTransactionObservation_DEPRECATED:function(e){wr(gr((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(n=t.getState().currentTree);const i=kr(r),o=kr(n),a=ce(ur,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n}(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:wr};const{peekNodeInfo:Sr}=De,{useStoreRef:Tr}=En;const{RecoilRoot:Cr,useStoreRef:xr}=En,{useMemo:Ir}=r;const{loadableWithValue:Nr}=I,{DEFAULT_VALUE:Or,getNode:Rr}=te,{copyTreeState:Pr,getRecoilValueAsLoadable:Ar,invalidateDownstreams:Dr,writeLoadableToTreeState:Lr}=et;function Mr(e){return"atom"===Rr(e.key).nodeType}class Fr{constructor(e,t){l(this,"_store",void 0),l(this,"_treeState",void 0),l(this,"_changes",void 0),l(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!Mr(e))throw o("Reading selectors within atomicUpdate is not supported");const t=Ar(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:o(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),l(this,"set",((e,t)=>{if(!Mr(e))throw o("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)})),l(this,"reset",(e=>{this.set(e,Or)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=Pr(this._treeState);for(const[t,n]of this._changes)Lr(e,t,Nr(n));return Dr(this._store,e),e}}var Vr=function(e){return t=>{e.replaceState((n=>{const r=new Fr(e,n);return t(r),r.newTreeState_INTERNAL()}))}},jr=Object.freeze({__proto__:null,atomicUpdater:Vr}),Ur=function(e,t){if(!e)throw new Error(t)};const{atomicUpdater:qr}=jr,{batchUpdates:zr}=wt,{DEFAULT_VALUE:Br}=te,{useStoreRef:Wr}=En,{setRecoilValue:$r}=et,{Snapshot:Hr,cloneSnapshot:Qr}=Ht,{useGotoRecoilSnapshot:Kr}=Er,{useCallback:Gr}=r;class Yr{}const Jr=new Yr;const{getNode:Xr}=te,{useStoreRef:Zr}=En,{useCallback:ei}=r;const{atomicUpdater:ti}=jr,{useStoreRef:ni}=En,{useMemo:ri}=r;const{isReactNative:ii,isSSR:oi}=ft;function ai(e,t,n){if("string"==typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null==t?void 0:t.allowFunctions))throw o("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!=typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(a(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>ai(e,t,n.toString())))}]`;if("function"==typeof e.toJSON)return ai(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"==typeof n?n:ai(n,t)]=i;return ai(r,t,n)}return e instanceof Set?ai(Array.from(e).sort(((e,n)=>ai(e,t).localeCompare(ai(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator]?ai(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${ai(n,t)}:${ai(e[n],t,n)}`)).join(",")}}`}var si=function(e,t={allowFunctions:!1}){return ai(e,t)};const li=(e,t,n)=>{var r;if(null==e)return;if(null==n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;const i=t(e.nodeKey);return li(e.branches.get(i),t,n)},ui=(e,t,n,r,i,o,a)=>{var s;let l;if(null==e)if(0===t.length)l={type:"leaf",value:r,parent:n,branchKey:i};else{const[e,...s]=t,[u,c]=e;l={type:"branch",nodeKey:u,parent:n,branches:new Map,branchKey:i},l.branches.set(c,ui(null,s,l,r,c,o,a))}else if(l=e,t.length){const[n,...i]=t,[s,u]=n;if("branch"!==e.type||e.nodeKey!==s)return a(),l;e.branches.set(u,ui(e.branches.get(u),i,e,r,u,o,a))}return null==o||null===(s=o.onNodeVisit)||void 0===s||s.call(o,l),l},ci=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),ci(e,n,n.parent)):e===t,di=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce(((e,t)=>e+di(t)),0);var hi=class{constructor(e){var t,n,r;l(this,"_numLeafs",void 0),l(this,"_root",void 0),l(this,"_onHit",void 0),l(this,"_onSet",void 0),l(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return li(this.root(),(t=>this._mapNodeValue(e(t))),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r,i=null;const o=()=>{i=ui(this.root(),e.map((([e,t])=>[e,this._mapNodeValue(t)])),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}},(()=>{this.clear(),o()}))};o(),this.root()||(this._root=i),this._numLeafs++,this._onSet(s(r))}delete(e){if(!this.root())return!1;const t=s(this.root());return!!((e,t,n)=>n?(n.branches.delete(t.branchKey),ci(e,n,n.parent)):e===t)(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=di(e),!0))}clear(){this._numLeafs=0,this._root=null}},fi=Object.freeze({__proto__:null,TreeCache:hi}),pi=class{constructor(e){var t;l(this,"_maxSize",void 0),l(this,"_size",void 0),l(this,"_head",void 0),l(this,"_tail",void 0),l(this,"_map",void 0),l(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=s(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},mi=Object.freeze({__proto__:null,LRUCache:pi});const{LRUCache:vi}=mi,{TreeCache:gi}=fi;var yi=function(e,t=(e=>e)){const n=new vi({maxSize:e}),r=new gi({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{const i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};const{TreeCache:_i}=fi,bi={equality:"reference",eviction:"keep-all",maxSize:1/0};const{loadableWithError:wi,loadableWithPromise:ki,loadableWithValue:Ei}=I,{getNodeLoadable:Si,peekNodeLoadable:Ti,setNodeValue:Ci}=De,{saveDependencyMapToStore:xi}=he,{DEFAULT_VALUE:Ii,RecoilValueNotReady:Ni,getConfigDeletionHandler:Oi,getNode:Ri,registerNode:Pi}=te,{isRecoilValue:Ai}=W,{AbstractRecoilValue:Di}=W,{markRecoilValueModified:Li,setRecoilValueLoadable:Mi}=et,{retainedByOptionWithDefault:Fi}=ht,{cloneSnapshot:Vi}=Ht,{startPerfBlock:ji}={startPerfBlock:function(e){return()=>null}};class Ui{}const qi=new Ui,zi=[],Bi=new Map,Wi=(()=>{let e=0;return()=>e++})();var $i=function(e){let t=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=e,l=null!=e.set?e.set:void 0,u=new Set,c=function({equality:e=bi.equality,eviction:t=bi.eviction,maxSize:n=bi.maxSize}=bi){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new _i({mapNodeValue:n});case"lru":return yi(s(t),n);case"most-recent":return yi(1,n)}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i}(null!=i?i:{equality:"reference",eviction:"keep-all"}),d=Fi(e.retainedBy_UNSTABLE),h=new Map;let f=0;function p(){return!D("recoil_memory_managament_2020")||f>0}function m(e){return h.has(e)||h.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),s(h.get(e))}function v(e){return f++,e.getState().knownSelectors.add(n),()=>{f--,e.getState().knownSelectors.delete(n),h.delete(e)}}function g(){return void 0!==Oi(n)&&!p()}function y(e,t,n){if("loading"===t.state){let t=Bi.get(n);null==t&&Bi.set(n,t=new Set),t.add(e)}}function _(e,t,n){const r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return s(t.atomValues.get(n));const i=Si(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function b(e,t,n,r,i,o){return t.then((r=>{if(!p())throw O(e,i),qi;null!=o.loadingDepKey&&o.loadingDepPromise===t?n.atomValues.set(o.loadingDepKey,Ei(r)):e.getState().knownSelectors.forEach((e=>{n.atomValues.delete(e)}));const a=S(e,n);if(a&&"hasValue"===a.state)return I(a,e),a.contents;if(!R(e,i)){var s;const e=C(n);if("loading"===(null==e||null===(s=e.latestLoadable)||void 0===s?void 0:s.state))return e.latestLoadable.contents}const[l,u]=E(e,n,i);if(R(e,i)&&N(u,e,i),"loading"!==l.state&&(A(n,T(u),l),k(e,n,new Set(u.keys()),i),w(e,l,i)),"hasError"===l.state)throw l.contents;return l.contents})).catch((t=>{if(t instanceof Ui)throw qi;if(!p())throw O(e,i),qi;const o=wi(t);throw P(),A(n,T(r),wi(t)),k(e,n,new Set(r.keys()),i),w(e,o,i),t}))}function w(e,t,r){R(e,r)&&(I(t,e),function(e,t){const r=Bi.get(t);if(void 0!==r){for(const t of r)Mi(t,new Di(n),e);Bi.delete(t)}}(t,r))}function k(e,t,r,i){var o,a,s,l,u,c,d;(R(e,i)||t.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||t.version===(null===(s=e.getState())||void 0===s||null===(l=s.nextTree)||void 0===l?void 0:l.version))&&xi(new Map([[n,r]]),e,null!==(u=null===(c=e.getState())||void 0===c||null===(d=c.nextTree)||void 0===d?void 0:d.version)&&void 0!==u?u:e.getState().currentTree.version)}function E(e,t,i){const s=ji(n);let l,u,c=!1;const d={loadingDepKey:null,loadingDepPromise:null},h=new Map,f=new Set;function m(n){const{key:r}=n;!function(e,t,n,r,i){n.add(r),k(e,t,n,i)}(e,t,f,r,i);const a=_(e,t,r);switch(h.set(r,a),a.state){case"hasValue":return a.contents;case"hasError":throw a.contents;case"loading":throw d.loadingDepKey=r,d.loadingDepPromise=a.contents,a.contents}throw o("Invalid Loadable state")}k(e,t,f,i);let v=!1;const g=t=>(...n)=>{if(!v)throw o("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");const r=Vi(e),i=t({snapshot:r});if("function"!=typeof i)throw o("getCallback() expects a function that returns a function.");return i(...n)};try{l=r({get:m,getCallback:g}),l=Ai(l)?m(l):l,v=!0,a(l)?l=function(e,t,n,r,i,o){return t.then((t=>{if(!p())throw O(e,i),qi;const o=Ei(t);return P(),A(n,T(r),o),k(e,n,new Set(r.keys()),i),w(e,o,i),t})).catch((t=>{if(!p())throw O(e,i),qi;if(R(e,i)&&N(r,e,i),a(t))return b(e,t,n,r,i,o);const s=wi(t);throw P(),A(n,T(r),s),k(e,n,new Set(r.keys()),i),w(e,s,i),t}))}(e,l,t,h,i,d).finally(s):s()}catch(n){l=n,a(l)?l=b(e,l,t,h,i,d).finally(s):(c=!0,s())}return u=c?wi(l):a(l)?ki(l):Ei(l),"loading"!==u.state&&P(u.contents),[u,h]}function S(e,t){const r=new Set,i=m(e);let a;try{a=c.get((n=>("string"!=typeof n&&Ur(!1),_(e,t,n).contents)),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==n&&"string"==typeof e.nodeKey&&(r.add(e.nodeKey),u.add(e.nodeKey))}})}catch(e){throw o(`Problem with cache lookup for selector "${n}": ${e.message}`)}return a&&k(e,t,r,i.latestExecutionId),a}function T(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}function C(e){var t;const[,n]=null!==(t=Array.from(h.entries()).find((([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;const i=m(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=x.get(t.version))&&void 0!==r?r:new Map).entries()),s=x.has(t.version)&&a.length===o.size&&a.every((([e,t])=>o.get(e)===t));return null!=o&&t.version!==i.stateVersion&&!s&&(x.set(t.version,new Map(o)),Array.from(o).some((([n,r])=>_(e,t,n).contents!==r.contents)))}(t,e))))&&void 0!==t?t:[];return n}const x=new Map;function I(e,t,n,r,i){const o=m(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null==i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function N(e,t,n){const r=m(t);R(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function O(e,t){R(e,t)&&h.delete(e)}function R(e,t){return t===m(e).latestExecutionId}function P(e){}function A(e,t,r){e.atomValues.set(n,r);try{c.set(t,r)}catch(e){throw o(`Problem with setting cache for selector "${n}": ${e.message}`)}}function L(e,t){return c.get((n=>{"string"!=typeof n&&Ur(!1);const r=Ti(e,t,n);return null==r?void 0:r.contents}))}function M(e,t){return function(r){if(zi.includes(n)){const e=`Recoil selector has circular dependencies: ${zi.slice(zi.indexOf(n)).join(" → ")}`;return wi(o(e))}zi.push(n);try{return function(e,t){const n=S(e,t);if(null!=n)return I(n,e),n;const r=C(t);if(r){const t=r;return y(e,s(t.latestLoadable),s(t.latestExecutionId)),s(t.latestLoadable)}return function(e,t){const n=Wi(),[r,i]=E(e,t,n);return I(r,e,i,n,t),function(e,t,n){"loading"!==n.state&&A(e,t,n)}(t,T(i),r),y(e,r,n),r}(e,t)}(e,t)}finally{zi.pop()}}()}function F(e){e.atomValues.delete(n)}function V(e,n){null==t&&Ur(!1);for(const t of u){var r;const i=Ri(t);null===(r=i.clearCache)||void 0===r||r.call(i,e,n)}F(n),c.clear(),Li(e,t)}return t=Pi(null!=l?{key:n,nodeType:"selector",peek:L,get:M,set:(e,t,n)=>{let r=!1;const i=new Map;function s({key:n}){if(r)throw o("Recoil: Async selector sets are not currently supported.");const i=_(e,t,n);if("hasValue"===i.state)return i.contents;throw"loading"===i.state?new Ni(n):i.contents}function u(n,a){if(r)throw o("Recoil: Async selector sets are not currently supported.");const l="function"==typeof a?a(s(n)):a;Ci(e,t,n.key,l).forEach(((e,t)=>i.set(t,e)))}const c=l({set:u,get:s,reset:function(e){u(e,Ii)}},n);if(void 0!==c)throw a(c)?o("Recoil: Async selector sets are not currently supported."):o("Recoil: selector set should be a void function.");return r=!0,i},init:v,invalidate:F,clearCache:V,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d}:{key:n,nodeType:"selector",peek:L,get:M,init:v,invalidate:F,clearCache:V,shouldDeleteConfigOnRelease:g,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:d})};const{loadableWithError:Hi,loadableWithPromise:Qi,loadableWithValue:Ki}=I,{peekNodeInfo:Gi}=De,{DEFAULT_VALUE:Yi,DefaultValue:Ji,getConfigDeletionHandler:Xi,registerNode:Zi,setConfigDeletionHandler:eo}=te,{isRecoilValue:to}=W,{getRecoilValueAsLoadable:no,markRecoilValueModified:ro,setRecoilValue:io,setRecoilValueLoadable:oo}=et,{retainedByOptionWithDefault:ao}=ht;var so=function e(t){const{default:n,...r}=t;return to(n)?function(t){const n=e({...t,default:Yi,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof Ji?e:s(t.persistence_UNSTABLE).validator(e,Yi)},effects_UNSTABLE:t.effects_UNSTABLE}),r=$i({key:`${t.key}__withFallback`,get:({get:e})=>{const r=e(n);return r instanceof Ji?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return eo(r.key,Xi(t.key)),r}({...r,default:n}):function(e){const{key:t,persistence_UNSTABLE:n}=e,r=ao(e.retainedBy_UNSTABLE);let i,l=0,u=a(e.default)?Qi(e.default.then((e=>(u=Ki(e),e))).catch((e=>{throw u=Hi(e),e}))):Ki(e.default);e.default;const c=new Map,d=Zi({key:t,nodeType:"atom",peek:function(e,n){var r,o;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:i)&&void 0!==r?r:u},get:function(e,r){if(r.atomValues.has(t))return s(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=i)return i;if(null==n)return u;const e=r.nonvalidatedAtoms.get(t),o=n.validator(e,Yi),a=o instanceof Ji?u:Ki(o);return i=a,i}return u},set:function(e,n,r){if(n.atomValues.has(t)){const e=s(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ji)return new Map;return i=void 0,(new Map).set(t,Ki(r))},init:function(n,r,i){l++;const s=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===u.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||ro(n,d)};u.contents.then(e).catch(e)}let h=Yi,f=null;if(null!=e.effects_UNSTABLE&&!s){let r=!0;function s(e){if(r&&e.key===t&&!(h instanceof Ji)){const e=h;return e instanceof Ji?u:a(e)?Qi(e.then((e=>e instanceof Ji?u.toPromise():e))):Ki(e)}return no(n,e)}function l(e){return s(e).toPromise()}function v(e){var i;const o=Gi(n,null!==(i=n.getState().nextTree)&&void 0!==i?i:n.getState().currentTree,e.key);return!r||e.key!==t||h instanceof Ji?o:{...o,isSet:!0,loadable:s(e)}}const g=e=>t=>{if(r){const n=h instanceof Ji||a(h)?"hasValue"===u.state?u.contents:Yi:h;h="function"==typeof t?t(n):t,a(h)&&(h=h.then((t=>(f={effect:e,value:t},t))))}else{if(a(t))throw o("Setting atoms to async values is not implemented.");"function"!=typeof t&&(f={effect:e,value:t}),io(n,d,"function"==typeof t?n=>{const r=t(n);return f={effect:e,value:r},r}:t)}},y=e=>()=>g(e)(Yi),_=e=>r=>{n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:a}=n.getState();a||(a=o);const s=null!==(i=o.atomValues.get(t))&&void 0!==i?i:u;if("hasValue"===s.state){var l,c,d,h;const n=s.contents,i=null!==(l=a.atomValues.get(t))&&void 0!==l?l:u,p="hasValue"===i.state?i.contents:Yi;(null===(c=f)||void 0===c?void 0:c.effect)!==e||(null===(d=f)||void 0===d?void 0:d.value)!==n?r(n,p,!o.atomValues.has(t)):(null===(h=f)||void 0===h?void 0:h.effect)===e&&(f=null)}}),t)};for(const t of null!==(p=e.effects_UNSTABLE)&&void 0!==p?p:[]){var p;const e=t({node:d,trigger:i,setSelf:g(t),resetSelf:y(t),onSet:_(t),getPromise:l,getLoadable:s,getInfo_UNSTABLE:v});var m;null!=e&&c.set(n,[...null!==(m=c.get(n))&&void 0!==m?m:[],e])}r=!1}if(!(h instanceof Ji)){var v;const e=h,i=a(e)?Qi(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&io(e,d,n),n})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&oo(e,d,Hi(n)),n}));return r}(n,e)):Ki(e);r.atomValues.set(t,i),null===(v=n.getState().nextTree)||void 0===v||v.atomValues.set(t,i)}return()=>{var e;l--,null===(e=c.get(n))||void 0===e||e.forEach((e=>e())),c.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){i=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Xi(t)&&l<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return d}({...r,default:n})},lo=class{constructor(e){var t;l(this,"_map",void 0),l(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},uo=Object.freeze({__proto__:null,MapCache:lo});const{LRUCache:co}=mi,{MapCache:ho}=uo,fo={equality:"reference",eviction:"none",maxSize:1/0};var po=function({equality:e=fo.equality,eviction:t=fo.eviction,maxSize:n=fo.maxSize}=fo){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>si(e)}throw o(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new ho({mapKey:n});case"lru":return new co({mapKey:n,maxSize:s(t)});case"most-recent":return new co({mapKey:n,maxSize:1})}throw o(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:mo}=te;const{setConfigDeletionHandler:vo}=te;let go=0;var yo=function(e){var t,n;const r=po({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=si(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${go++}`,a=n=>e.get(t)(n),s=e.cachePolicy_UNSTABLE,l="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let u;if(null!=e.set){const n=e.set;u=$i({key:o,get:a,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else u=$i({key:o,get:a,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,u),vo(u.key,(()=>{r.delete(t)})),u}};const _o=yo({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});const bo=yo({key:"__error",get:e=>()=>{throw o(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});const{loadableWithError:wo,loadableWithPromise:ko,loadableWithValue:Eo}=I;function So(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[i,o]of t.entries())try{n[i]=e(o)}catch(e){r[i]=e}return[n,r]}function To(e){return null!=e&&!a(e)}function Co(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function xo(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function Io(e,t,n){return xo(e,n.map(((e,n)=>null==e?Eo(t[n]):a(e)?ko(e):wo(e))))}const No=yo({key:"__waitForNone",get:e=>({get:t})=>{const n=Co(e),[r,i]=So(t,n);return Io(e,r,i)},dangerouslyAllowMutability:!0}),Oo=yo({key:"__waitForAny",get:e=>({get:t})=>{const n=Co(e),[r,i]=So(t,n);return i.some((e=>!a(e)))?Io(e,r,i):new Promise((t=>{for(const[n,o]of i.entries())a(o)&&o.then((o=>{r[n]=o,i[n]=void 0,t(Io(e,r,i))})).catch((o=>{i[n]=o,t(Io(e,r,i))}))}))},dangerouslyAllowMutability:!0}),Ro=yo({key:"__waitForAll",get:e=>({get:t})=>{const n=Co(e),[r,i]=So(t,n);if(i.every((e=>null==e)))return xo(e,r);const o=i.find(To);if(null!=o)throw o;return Promise.all(i).then((t=>{return xo(e,(n=r,t.map(((e,t)=>void 0===e?n[t]:e))));var n}))},dangerouslyAllowMutability:!0}),Po=yo({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Co(e),[r,i]=So(t,n);return i.every((e=>!a(e)))?Io(e,r,i):Promise.all(i.map(((e,t)=>a(e)?e.then((e=>{r[t]=e,i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>Io(e,r,i)))},dangerouslyAllowMutability:!0}),Ao=yo({key:"__noWait",get:e=>({get:t})=>{try{return Eo(t(e))}catch(e){return a(e)?ko(e):wo(e)}},dangerouslyAllowMutability:!0});var Do={waitForNone:No,waitForAny:Oo,waitForAll:Ro,waitForAllSettled:Po,noWait:Ao};const{RecoilLoadable:Lo}=I,{DefaultValue:Mo}=te,{RecoilRoot:Fo}=En,{isRecoilValue:Vo}=W,{retentionZone:jo}=Ee,{freshSnapshot:Uo}=Ht,{useRecoilState:qo,useRecoilStateLoadable:zo,useRecoilValue:Bo,useRecoilValueLoadable:Wo,useResetRecoilState:$o,useSetRecoilState:Ho,useSetUnvalidatedAtomValues:Qo}=or,{useGotoRecoilSnapshot:Ko,useRecoilSnapshot:Go,useRecoilTransactionObserver:Yo,useTransactionObservation_DEPRECATED:Jo}=Er,{noWait:Xo,waitForAll:Zo,waitForAllSettled:ea,waitForAny:ta,waitForNone:na}=Do;var ra={DefaultValue:Mo,isRecoilValue:Vo,RecoilLoadable:Lo,RecoilRoot:Fo,useRecoilBridgeAcrossReactRoots_UNSTABLE:function(){const e=xr().current;return Ir((()=>function({children:t}){return r.createElement(Cr,{store_INTERNAL:e},t)}),[e])},atom:so,selector:$i,atomFamily:function(e){var t,n;const r=po({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const{cachePolicyForParams_UNSTABLE:o,...a}=e,s=so({...a,key:`${e.key}__${null!==(n=si(t))&&void 0!==n?n:"void"}`,default:"function"==typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"==typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE});return r.set(t,s),mo(s.key,(()=>{r.delete(t)})),s}},selectorFamily:yo,constSelector:function(e){return _o(e)},errorSelector:function(e){return bo(e)},readOnlySelector:function(e){return e},noWait:Xo,waitForNone:na,waitForAny:ta,waitForAll:Zo,waitForAllSettled:ea,useRecoilValue:Bo,useRecoilValueLoadable:Wo,useRecoilState:qo,useRecoilStateLoadable:zo,useSetRecoilState:Ho,useResetRecoilState:$o,useGetRecoilValueInfo_UNSTABLE:function(){const e=Tr();return({key:t})=>Sr(e.current,e.current.getState().currentTree,t)},useRecoilRefresher_UNSTABLE:function(e){const t=Zr();return ei((()=>{var n;const r=t.current,{currentTree:i}=r.getState(),o=Xr(e.key);null===(n=o.clearCache)||void 0===n||n.call(o,r,i)}),[e,t])},useRecoilCallback:function(e,t){const n=Wr(),r=Kr();return Gr(((...t)=>{function i(e,t){$r(n.current,e,t)}function a(e){$r(n.current,e,Br)}const s=Qr(n.current),l=qr(n.current);let u=Jr;return zr((()=>{const n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw o(n);const c=e({set:i,reset:a,snapshot:s,gotoSnapshot:r,transact_UNSTABLE:l});if("function"!=typeof c)throw o(n);u=c(...t)})),u instanceof Yr&&Ur(!1),u}),null!=t?[...t,n]:void 0)},useRecoilTransaction_UNSTABLE:function(e,t){const n=ni();return ri((()=>(...t)=>{ti(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)},useGotoRecoilSnapshot:Ko,useRecoilSnapshot:Go,useRecoilTransactionObserver_UNSTABLE:Yo,useTransactionObservation_UNSTABLE:Jo,useSetUnvalidatedAtomValues_UNSTABLE:Qo,snapshot_UNSTABLE:Uo,useRetain:Mn,retentionZone:jo},ia=ra.DefaultValue,oa=ra.RecoilRoot,aa=ra.atom,sa=ra.selector,la=ra.atomFamily,ua=ra.selectorFamily,ca=ra.useRecoilValue,da=ra.useRecoilState,ha=ra.useSetRecoilState,fa=ra.useRecoilRefresher_UNSTABLE;function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t,n){return t&&ya(e.prototype,t),n&&ya(e,n),e}function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ka,Ea={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},Sa=r.createContext();function Ta(){return Ea}var Ca=function(){function e(){ga(this,e),this.usedNamespaces={}}return _a(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function xa(){return ka}var Ia={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ea=wa(wa({},Ea),e)}(e.options.react),function(e){ka=e}(e)}};function Na(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var Oa={};function Ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&Oa[t[0]]||("string"==typeof t[0]&&(Oa[t[0]]=new Date),Na.apply(void 0,t))}function Pa(e,t,n){e.loadNamespaces(t,(function(){e.isInitialized?n():e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}))}function Aa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return Ra("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!a(r,e)||i&&!a(o,e)))}function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ma(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=(0,r.useContext)(Sa)||{},o=i.i18n,a=i.defaultNS,s=n||o||xa();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Ca),!s){Ra("You will need to pass in an i18next instance by using initReactI18next");var l=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[l,{},!1];return u.t=l,u.i18n={},u.ready=!1,u}s.options.react&&void 0!==s.options.react.wait&&Ra("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var c=La(La(La({},Ta()),s.options.react),t),d=c.useSuspense,h=c.keyPrefix,f=e||a||s.options&&s.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(f);var p=(s.isInitialized||s.initializedStoreOnce)&&f.every((function(e){return Aa(e,s,c)}));function m(){return s.getFixedT(null,"fallback"===c.nsMode?f:f[0],h)}var v=(0,r.useState)(m),g=ma(v,2),y=g[0],_=g[1],b=(0,r.useRef)(!0);(0,r.useEffect)((function(){var e=c.bindI18n,t=c.bindI18nStore;function n(){b.current&&_(m)}return b.current=!0,p||d||Pa(s,f,(function(){b.current&&_(m)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){b.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,f.join()]);var w=(0,r.useRef)(!0);(0,r.useEffect)((function(){b.current&&!w.current&&_(m),w.current=!1}),[s]);var k=[y,s,p];if(k.t=y,k.i18n=s,k.ready=p,p)return k;if(!p&&!d)return k;throw new Promise((function(e){Pa(s,f,(function(){e()}))}))}const Fa=function(e,t){if(!e)throw Va(t)},Va=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},ja=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ua={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,a=o?e[t+1]:0,s=t+2<e.length,l=s?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ja(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const a=t<e.length?n[e.charAt(t)]:64;++t;const s=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==a||null==s)throw Error();const l=i<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qa=function(e){try{return Ua.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function za(e){return Ba(void 0,e)}function Ba(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ba(e[n],t[n]));return e}class Wa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function $a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ha(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($a())}function Qa(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Ka(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Ga extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(Ja,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ga(r,a,n)}}const Ja=/\{\$([^}]+)}/g;function Xa(e){return JSON.parse(e)}function Za(e){return JSON.stringify(e)}const es=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Xa(qa(o[0])||""),n=Xa(qa(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function ts(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ns(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function rs(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function is(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function os(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(as(n)&&as(o)){if(!os(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function as(e){return null!==e&&"object"==typeof e}function ss(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ls(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function us(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class cs{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):e<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const t=(o<<5|o>>>27)+r+u+i+n[e]&4294967295;u=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class ds{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=hs),void 0===r.error&&(r.error=hs),void 0===r.complete&&(r.complete=hs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function hs(){}function fs(e,t){return`${e} failed: ${t} argument `}const ps=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ms(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function vs(e){return e&&e._delegate?e._delegate:e}class gs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ys="[DEFAULT]";class _s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Wa;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ys?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ws=[];var ks;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ks||(ks={}));const Es={debug:ks.DEBUG,verbose:ks.VERBOSE,info:ks.INFO,warn:ks.WARN,error:ks.ERROR,silent:ks.SILENT},Ss=ks.INFO,Ts={[ks.DEBUG]:"log",[ks.VERBOSE]:"log",[ks.INFO]:"info",[ks.WARN]:"warn",[ks.ERROR]:"error"},Cs=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Ts[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class xs{constructor(e){this.name=e,this._logLevel=Ss,this._logHandler=Cs,this._userLogHandler=null,ws.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ks))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Es[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ks.DEBUG,...e),this._logHandler(this,ks.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ks.VERBOSE,...e),this._logHandler(this,ks.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ks.INFO,...e),this._logHandler(this,ks.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ks.WARN,...e),this._logHandler(this,ks.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ks.ERROR,...e),this._logHandler(this,ks.ERROR,...e)}}class Is{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Ns="@firebase/app",Os="0.7.11",Rs=new xs("@firebase/app"),Ps={[Ns]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},As=new Map,Ds=new Map;function Ls(e,t){try{e.container.addComponent(t)}catch(n){Rs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ms(e){const t=e.name;if(Ds.has(t))return Rs.debug(`There were multiple attempts to register component ${t}.`),!1;Ds.set(t,e);for(const t of As.values())Ls(t,e);return!0}function Fs(e,t){return e.container.getProvider(t)}const Vs=new Ya("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class js{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gs("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}const Us="9.6.1";function qs(e="[DEFAULT]"){const t=As.get(e);if(!t)throw Vs.create("no-app",{appName:e});return t}function zs(e,t,n){var r;let i=null!==(r=Ps[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Rs.warn(e.join(" "))}Ms(new gs(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}Ms(new gs("platform-logger",(e=>new Is(e)),"PRIVATE")),zs(Ns,Os,""),zs(Ns,Os,"esm2017"),zs("fire-js","");const Bs="@firebase/database",Ws="0.12.4";let $s="";class Hs{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Za(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Xa(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Qs{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ks=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Hs(t)}}catch(e){}return new Qs},Gs=Ks("localStorage"),Ys=Ks("sessionStorage"),Js=new xs("@firebase/database"),Xs=function(){let e=1;return function(){return e++}}(),Zs=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Fa(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new cs;n.update(t);const r=n.digest();return Ua.encodeByteArray(r)},el=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=el.apply(null,r):t+="object"==typeof r?Za(r):r,t+=" "}return t};let tl=null,nl=!0;const rl=function(...e){if(!0===nl&&(nl=!1,null===tl&&!0===Ys.get("logging_enabled")&&(t=!0,Fa(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Js.logLevel=ks.VERBOSE,tl=Js.log.bind(Js),n&&Ys.set("logging_enabled",!0)):"function"==typeof t?tl=t:(tl=null,Ys.remove("logging_enabled")))),tl){const t=el.apply(null,e);tl(t)}var t,n},il=function(e){return function(...t){rl(e,...t)}},ol=function(...e){const t="FIREBASE INTERNAL ERROR: "+el(...e);Js.error(t)},al=function(...e){const t=`FIREBASE FATAL ERROR: ${el(...e)}`;throw Js.error(t),new Error(t)},sl=function(...e){const t="FIREBASE WARNING: "+el(...e);Js.warn(t)},ll=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ul="[MIN_NAME]",cl="[MAX_NAME]",dl=function(e,t){if(e===t)return 0;if(e===ul||t===cl)return-1;if(t===ul||e===cl)return 1;{const n=_l(e),r=_l(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},hl=function(e,t){return e===t?0:e<t?-1:1},fl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Za(t))},pl=function(e){if("object"!=typeof e||null===e)return Za(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Za(t[r]),n+=":",n+=pl(e[t[r]]);return n+="}",n},ml=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function vl(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const gl=function(e){Fa(!ll(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();const s=a.join("");let l="";for(o=0;o<64;o+=8){let e=parseInt(s.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},yl=new RegExp("^-?(0*)\\d{1,10}$"),_l=function(e){if(yl.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},bl=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw sl("Exception was thrown by user callback.",t),e}),Math.floor(0))}},wl=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class kl{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){sl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class El{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(rl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',sl(e)}}class Sl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Sl.OWNER="owner";const Tl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cl="websocket",xl="long_polling";class Il{constructor(e,t,n,r,i=!1,o="",a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Nl(e,t,n){let r;if(Fa("string"==typeof t,"typeof type must == string"),Fa("object"==typeof n,"typeof params must == object"),t===Cl)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==xl)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return vl(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Ol{constructor(){this.counters_={}}incrementCounter(e,t=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return za(this.counters_)}}const Rl={},Pl={};function Al(e){const t=e.toString();return Rl[t]||(Rl[t]=new Ol),Rl[t]}class Dl{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&bl((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ll{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=il(e),this.stats_=Al(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),Nl(t,xl,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Dl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ml(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Tl.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ll.forceAllow_=!0}static forceDisallow(){Ll.forceDisallow_=!0}static isAvailable(){return!(!Ll.forceAllow_&&(Ll.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Za(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=function(e){const t=ja(e);return Ua.encodeByteArray(t,!0)}(t),r=ml(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Za(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ml{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Xs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ml.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){rl("frame writing exception"),e.stack&&rl(e.stack),rl(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||rl("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{rl("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Fl=null;"undefined"!=typeof MozWebSocket?Fl=MozWebSocket:"undefined"!=typeof WebSocket&&(Fl=WebSocket);class Vl{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=il(this.connId),this.stats_=Al(t),this.connURL=Vl.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r){const i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Tl.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Nl(e,Cl,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gs.set("previous_websocket_failure",!0);try{{const e={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Fl(this.connURL,[],e)}}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Vl.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Fl&&!Vl.forceDisallow_}static previouslyFailed(){return Gs.isInMemoryStorage||!0===Gs.get("previous_websocket_failure")}markConnectionHealthy(){Gs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Xa(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fa(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Za(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ml(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vl.responsesRequiredToBeHealthy=2,Vl.healthyTimeout=3e4;class jl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ll,Vl]}initTransports_(e){const t=Vl&&Vl.isAvailable();let n=t&&!Vl.previouslyFailed();if(e.webSocketOnly&&(t||sl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Vl];else{const e=this.transports_=[];for(const t of jl.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Ul{constructor(e,t,n,r,i,o,a,s,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=il("c:"+this.id+":"),this.transportManager_=new jl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=wl((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=fl("t",e),n=fl("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=fl("t",e),n=fl("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=fl("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ol("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ol("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&sl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),wl((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wl((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ql{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class zl{constructor(e){this.allowedEvents_=e,this.listeners_={},Fa(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){Fa(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Bl extends zl{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Ha()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new Bl}getInitialEvent(e){return Fa("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Wl{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function $l(){return new Wl("")}function Hl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ql(e){return e.pieces_.length-e.pieceNum_}function Kl(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Wl(e.pieces_,t)}function Gl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Yl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Jl(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Wl(t,0)}function Xl(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof Wl)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Wl(n,0)}function Zl(e){return e.pieceNum_>=e.pieces_.length}function eu(e,t){const n=Hl(e),r=Hl(t);if(null===n)return t;if(n===r)return eu(Kl(e),Kl(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function tu(e,t){const n=Yl(e,0),r=Yl(t,0);for(let e=0;e<n.length&&e<r.length;e++){const t=dl(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function nu(e,t){if(Ql(e)!==Ql(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ru(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ql(e)>Ql(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class iu{constructor(e,t){this.errorPrefix_=t,this.parts_=Yl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=ps(this.parts_[e]);ou(this)}}function ou(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+au(e))}function au(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class su extends zl{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new su}getInitialEvent(e){return Fa("visible"===e,"Unknown event type: "+e),[this.visible_]}}const lu=1e3;class uu extends ql{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=uu.nextPersistentConnectionId_++,this.log_=il("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");su.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(Za(i)),Fa(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Wa,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout((()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Fa(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fa(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;uu.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&ts(e,"w")){const n=ns(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();sl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=es(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=es(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Fa(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Za(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ol("Unrecognized action received from server: "+Za(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fa(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+uu.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){Fa(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?rl("getToken() completed but was canceled"):(rl("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new Ul(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{sl(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&sl(e),s())}}}interrupt(e){rl("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rl("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rs(this.interruptReasons_)&&(this.reconnectDelay_=lu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>pl(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Wl(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){rl("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){rl("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+$s.replace(/\./g,"-")]=1,Ha()?e["framework.cordova"]=1:Ka()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bl.getInstance().currentlyOnline();return rs(this.interruptReasons_)&&e}}uu.nextPersistentConnectionId_=0,uu.nextConnectionId_=0;class cu{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new cu(e,t)}}class du{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new cu(ul,e),r=new cu(ul,t);return 0!==this.compare(n,r)}minPost(){return cu.MIN}}let hu;class fu extends du{static get __EMPTY_NODE(){return hu}static set __EMPTY_NODE(e){hu=e}compare(e,t){return dl(e.name,t.name)}isDefinedOn(e){throw Va("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return cu.MIN}maxPost(){return new cu(cl,hu)}makePost(e,t){return Fa("string"==typeof e,"KeyIndex indexValue must always be a string."),new cu(e,hu)}toString(){return".key"}}const pu=new fu;class mu{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:vu.RED,this.left=null!=r?r:gu.EMPTY_NODE,this.right=null!=i?i:gu.EMPTY_NODE}copy(e,t,n,r,i){return new vu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return gu.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return gu.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vu.RED=!0,vu.BLACK=!1;class gu{constructor(e,t=gu.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new gu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vu.BLACK,null,null))}remove(e){return new gu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vu.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mu(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mu(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mu(this.root_,null,this.comparator_,!0,e)}}function yu(e,t){return dl(e.name,t.name)}function _u(e,t){return dl(e,t)}let bu;gu.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new vu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const wu=function(e){return"number"==typeof e?"number:"+gl(e):"string:"+e},ku=function(e){if(e.isLeafNode()){const t=e.val();Fa("string"==typeof t||"number"==typeof t||"object"==typeof t&&ts(t,".sv"),"Priority must be a string or number.")}else Fa(e===bu||e.isEmpty(),"priority of unexpected type.");Fa(e===bu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Eu,Su,Tu;class Cu{constructor(e,t=Cu.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Fa(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ku(this.priorityNode_)}static set __childrenNodeConstructor(e){Eu=e}static get __childrenNodeConstructor(){return Eu}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Cu(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Cu.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Zl(e)?this:".priority"===Hl(e)?this.priorityNode_:Cu.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Cu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Hl(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Fa(".priority"!==n||1===Ql(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Cu.__childrenNodeConstructor.EMPTY_NODE.updateChild(Kl(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wu(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?gl(this.value_):this.value_,this.lazyHash_=Zs(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Cu.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Cu.__childrenNodeConstructor?-1:(Fa(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Cu.VALUE_TYPE_ORDER.indexOf(t),i=Cu.VALUE_TYPE_ORDER.indexOf(n);return Fa(r>=0,"Unknown leaf type: "+t),Fa(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Cu.VALUE_TYPE_ORDER=["object","boolean","number","string"];const xu=new class extends du{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?dl(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return cu.MIN}maxPost(){return new cu(cl,new Cu("[PRIORITY-POST]",Tu))}makePost(e,t){const n=Su(e);return new cu(t,new Cu("[PRIORITY-POST]",n))}toString(){return".priority"}},Iu=Math.log(2);class Nu{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Iu,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ou=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new vu(s,a.node,vu.BLACK,null,null);{const l=parseInt(o/2,10)+t,u=i(t,l),c=i(l+1,r);return a=e[l],s=n?n(a):a,new vu(s,a.node,vu.BLACK,u,c)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const u=i(o+1,s),c=e[o],d=n?n(c):c;l(new vu(d,c.node,r,null,u))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,vu.BLACK):(s(r,vu.BLACK),s(r,vu.RED))}return o}(new Nu(e.length));return new gu(r||t,o)};let Ru;const Pu={};class Au{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Fa(Pu&&xu,"ChildrenNode.ts has not been loaded"),Ru=Ru||new Au({".priority":Pu},{".priority":xu}),Ru}get(e){const t=ns(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof gu?t:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,t){Fa(e!==pu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(cu.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Ou(n,e.getCompare()):Pu;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const u=Object.assign({},this.indexes_);return u[s]=o,new Au(u,l)}addToIndexes(e,t){const n=is(this.indexes_,((n,r)=>{const i=ns(this.indexSet_,r);if(Fa(i,"Missing index implementation for "+r),n===Pu){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(cu.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Ou(n,i.getCompare())}return Pu}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new cu(e.name,r))),i.insert(e,e.node)}}));return new Au(n,this.indexSet_)}removeFromIndexes(e,t){const n=is(this.indexes_,(n=>{if(n===Pu)return n;{const r=t.get(e.name);return r?n.remove(new cu(e.name,r)):n}}));return new Au(n,this.indexSet_)}}let Du;class Lu{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&ku(this.priorityNode_),this.children_.isEmpty()&&Fa(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Du||(Du=new Lu(new gu(_u),null,Au.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Du}updatePriority(e){return this.children_.isEmpty()?this:new Lu(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Du:t}}getChild(e){const t=Hl(e);return null===t?this:this.getImmediateChild(t).getChild(Kl(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Fa(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new cu(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Du:this.priorityNode_;return new Lu(r,o,i)}}updateChild(e,t){const n=Hl(e);if(null===n)return t;{Fa(".priority"!==Hl(e)||1===Ql(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Kl(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(xu,((o,a)=>{t[o]=a.val(e),n++,i&&Lu.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+wu(this.getPriority().val())+":"),this.forEachChild(xu,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Zs(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new cu(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new cu(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new cu(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,cu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,cu.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mu?-1:0}withIndex(e){if(e===pu||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Lu(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===pu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(xu),n=t.getIterator(xu);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===pu?null:this.indexMap_.get(e.toString())}}Lu.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Mu=new class extends Lu{constructor(){super(new gu(_u),Lu.EMPTY_NODE,Au.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Lu.EMPTY_NODE}isEmpty(){return!1}};function Fu(e,t=null){if(null===e)return Lu.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Fa(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Cu(e,Fu(t));if(e instanceof Array){let n=Lu.EMPTY_NODE;return vl(e,((t,r)=>{if(ts(e,t)&&"."!==t.substring(0,1)){const e=Fu(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Fu(t))}{const n=[];let r=!1;if(vl(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Fu(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new cu(e,i)))}})),0===n.length)return Lu.EMPTY_NODE;const i=Ou(n,yu,(e=>e.name),_u);if(r){const e=Ou(n,xu.getCompare());return new Lu(i,Fu(t),new Au({".priority":e},{".priority":xu}))}return new Lu(i,Fu(t),Au.Default)}}Object.defineProperties(cu,{MIN:{value:new cu(ul,Lu.EMPTY_NODE)},MAX:{value:new cu(cl,Mu)}}),fu.__EMPTY_NODE=Lu.EMPTY_NODE,Cu.__childrenNodeConstructor=Lu,bu=Mu,Tu=Mu,function(e){Su=e}(Fu);class Vu extends du{constructor(e){super(),this.indexPath_=e,Fa(!Zl(e)&&".priority"!==Hl(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?dl(e.name,t.name):i}makePost(e,t){const n=Fu(e),r=Lu.EMPTY_NODE.updateChild(this.indexPath_,n);return new cu(t,r)}maxPost(){const e=Lu.EMPTY_NODE.updateChild(this.indexPath_,Mu);return new cu(cl,e)}toString(){return Yl(this.indexPath_,0).join("/")}}const ju=new class extends du{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?dl(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return cu.MIN}maxPost(){return cu.MAX}makePost(e,t){const n=Fu(e);return new cu(t,n)}toString(){return".value"}};function Uu(e){return{type:"value",snapshotNode:e}}function qu(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zu(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Bu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Wu{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Fa(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(zu(t,a)):Fa(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qu(t,n)):o.trackChildChange(Bu(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(xu,((e,r)=>{t.hasChild(e)||n.trackChildChange(zu(e,r))})),t.isLeafNode()||t.forEachChild(xu,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Bu(t,r,i))}else n.trackChildChange(qu(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Lu.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $u{constructor(e){this.indexedFilter_=new Wu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=$u.getStartPost_(e),this.endPost_=$u.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new cu(t,n))||(n=Lu.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Lu.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Lu.EMPTY_NODE);const i=this;return t.forEachChild(xu,((e,t)=>{i.matches(new cu(e,t))||(r=r.updateImmediateChild(e,Lu.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Hu{constructor(e){this.rangedFilter_=new $u(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new cu(t,n))||(n=Lu.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Lu.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Lu.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(Lu.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let a=0,s=!1;for(;o.hasNext();){const t=o.getNext();!s&&i(e,t)<=0&&(s=!0),s&&a<this.limit_&&i(t,n)<=0?a++:r=r.updateImmediateChild(t.name,Lu.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;Fa(a.numChildren()===this.limit_,"");const s=new cu(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let c=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=c&&(c.name===t||a.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);const d=null==c?1:o(c,s);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Bu(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(zu(t,e));const n=a.updateImmediateChild(t,Lu.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(qu(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:u&&o(l,s)>=0?(null!=i&&(i.trackChildChange(zu(l.name,l.node)),i.trackChildChange(qu(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Lu.EMPTY_NODE)):e}}class Qu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xu}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Fa(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fa(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ul}hasEnd(){return this.endSet_}getIndexEndValue(){return Fa(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fa(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Fa(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xu}copy(){const e=new Qu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ku(e){const t={};if(e.isDefault())return t;let n;return e.index_===xu?n="$priority":e.index_===ju?n="$value":e.index_===pu?n="$key":(Fa(e.index_ instanceof Vu,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Za(n),e.startSet_&&(t.startAt=Za(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Za(e.indexStartName_))),e.endSet_&&(t.endAt=Za(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Za(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Gu(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==xu&&(t.i=e.index_.toString()),t}class Yu extends ql{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=il("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Fa(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Yu.getListenId_(e,n),a={};this.listens_[o]=a;const s=Ku(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),ns(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Yu.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Ku(e._queryParams),n=e._path.toString(),r=new Wa;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ss(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Xa(a.responseText)}catch(e){sl("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&sl("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Ju{constructor(){this.rootNode_=Lu.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Xu(){return{value:null,children:new Map}}function Zu(e,t,n){if(Zl(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Hl(t);e.children.has(r)||e.children.set(r,Xu()),Zu(e.children.get(r),t=Kl(t),n)}}function ec(e,t){if(Zl(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(xu,((t,n)=>{Zu(e,new Wl(t),n)})),ec(e,t)}}if(e.children.size>0){const n=Hl(t);return t=Kl(t),e.children.has(n)&&ec(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function tc(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{tc(r,new Wl(t.toString()+"/"+e),n)}))}class nc{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vl(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class rc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nc(e);const n=1e4+2e4*Math.random();wl(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;vl(e,((e,r)=>{r>0&&ts(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),wl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ic;function oc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ic||(ic={}));class ac{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ic.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Zl(this.path)){if(null!=this.affectedTree.value)return Fa(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wl(e));return new ac($l(),t,this.revert)}}return Fa(Hl(this.path)===e,"operationForChild called for unrelated child."),new ac(Kl(this.path),this.affectedTree,this.revert)}}class sc{constructor(e,t){this.source=e,this.path=t,this.type=ic.LISTEN_COMPLETE}operationForChild(e){return Zl(this.path)?new sc(this.source,$l()):new sc(this.source,Kl(this.path))}}class lc{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ic.OVERWRITE}operationForChild(e){return Zl(this.path)?new lc(this.source,$l(),this.snap.getImmediateChild(e)):new lc(this.source,Kl(this.path),this.snap)}}class uc{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ic.MERGE}operationForChild(e){if(Zl(this.path)){const t=this.children.subtree(new Wl(e));return t.isEmpty()?null:t.value?new lc(this.source,$l(),t.value):new uc(this.source,$l(),t)}return Fa(Hl(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new uc(this.source,Kl(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cc{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Zl(e))return this.isFullyInitialized()&&!this.filtered_;const t=Hl(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class dc{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hc(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Va("Should only compare child_ events.");const r=new cu(t.childName,t.snapshotNode),i=new cu(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function fc(e,t){return{eventCache:e,serverCache:t}}function pc(e,t,n,r){return fc(new cc(t,n,r),e.serverCache)}function mc(e,t,n,r){return fc(e.eventCache,new cc(t,n,r))}function vc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function gc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let yc;class _c{constructor(e,t=(()=>(yc||(yc=new gu(hl)),yc))()){this.value=e,this.children=t}static fromObject(e){let t=new _c(null);return vl(e,((e,n)=>{t=t.set(new Wl(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:$l(),value:this.value};if(Zl(e))return null;{const n=Hl(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Kl(e),t);return null!=i?{path:Xl(new Wl(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Zl(e))return this;{const t=Hl(e),n=this.children.get(t);return null!==n?n.subtree(Kl(e)):new _c(null)}}set(e,t){if(Zl(e))return new _c(t,this.children);{const n=Hl(e),r=(this.children.get(n)||new _c(null)).set(Kl(e),t),i=this.children.insert(n,r);return new _c(this.value,i)}}remove(e){if(Zl(e))return this.children.isEmpty()?new _c(null):new _c(null,this.children);{const t=Hl(e),n=this.children.get(t);if(n){const r=n.remove(Kl(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new _c(null):new _c(this.value,i)}return this}}get(e){if(Zl(e))return this.value;{const t=Hl(e),n=this.children.get(t);return n?n.get(Kl(e)):null}}setTree(e,t){if(Zl(e))return t;{const n=Hl(e),r=(this.children.get(n)||new _c(null)).setTree(Kl(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new _c(this.value,i)}}fold(e){return this.fold_($l(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Xl(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,$l(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Zl(e))return null;{const r=Hl(e),i=this.children.get(r);return i?i.findOnPath_(Kl(e),Xl(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$l(),t)}foreachOnPath_(e,t,n){if(Zl(e))return this;{this.value&&n(t,this.value);const r=Hl(e),i=this.children.get(r);return i?i.foreachOnPath_(Kl(e),Xl(t,r),n):new _c(null)}}foreach(e){this.foreach_($l(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Xl(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class bc{constructor(e){this.writeTree_=e}static empty(){return new bc(new _c(null))}}function wc(e,t,n){if(Zl(t))return new bc(new _c(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=eu(i,t);return o=o.updateChild(a,n),new bc(e.writeTree_.set(i,o))}{const r=new _c(n),i=e.writeTree_.setTree(t,r);return new bc(i)}}}function kc(e,t,n){let r=e;return vl(n,((e,n)=>{r=wc(r,Xl(t,e),n)})),r}function Ec(e,t){if(Zl(t))return bc.empty();{const n=e.writeTree_.setTree(t,new _c(null));return new bc(n)}}function Sc(e,t){return null!=Tc(e,t)}function Tc(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(eu(n.path,t)):null}function Cc(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(xu,((e,n)=>{t.push(new cu(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new cu(e,n.value))})),t}function xc(e,t){if(Zl(t))return e;{const n=Tc(e,t);return new bc(null!=n?new _c(n):e.writeTree_.subtree(t))}}function Ic(e){return e.writeTree_.isEmpty()}function Nc(e,t){return Oc($l(),e.writeTree_,t)}function Oc(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Fa(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Oc(Xl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Xl(e,".priority"),r)),n}}function Rc(e,t){return zc(t,e)}function Pc(e,t){if(e.snap)return ru(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ru(Xl(e.path,n),t))return!0;return!1}function Ac(e){return e.visible}function Dc(e,t,n){let r=bc.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)ru(n,e)?(t=eu(n,e),r=wc(r,t,o.snap)):ru(e,n)&&(t=eu(e,n),r=wc(r,$l(),o.snap.getChild(t)));else{if(!o.children)throw Va("WriteRecord should have .snap or .children");if(ru(n,e))t=eu(n,e),r=kc(r,t,o.children);else if(ru(e,n))if(t=eu(e,n),Zl(t))r=kc(r,$l(),o.children);else{const e=ns(o.children,Hl(t));if(e){const n=e.getChild(Kl(t));r=wc(r,$l(),n)}}}}}return r}function Lc(e,t,n,r,i){if(r||i){const o=xc(e.visibleWrites,t);if(!i&&Ic(o))return n;if(i||null!=n||Sc(o,$l())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ru(e.path,t)||ru(t,e.path))};return Nc(Dc(e.allWrites,o,t),n||Lu.EMPTY_NODE)}return null}{const r=Tc(e.visibleWrites,t);if(null!=r)return r;{const r=xc(e.visibleWrites,t);return Ic(r)?n:null!=n||Sc(r,$l())?Nc(r,n||Lu.EMPTY_NODE):null}}}function Mc(e,t,n,r){return Lc(e.writeTree,e.treePath,t,n,r)}function Fc(e,t){return function(e,t,n){let r=Lu.EMPTY_NODE;const i=Tc(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(xu,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=xc(e.visibleWrites,t);return n.forEachChild(xu,((e,t)=>{const n=Nc(xc(i,new Wl(e)),t);r=r.updateImmediateChild(e,n)})),Cc(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return Cc(xc(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Vc(e,t,n,r){return function(e,t,n,r,i){Fa(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Xl(t,n);if(Sc(e.visibleWrites,o))return null;{const t=xc(e.visibleWrites,o);return Ic(t)?i.getChild(n):Nc(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function jc(e,t){return function(e,t){return Tc(e.visibleWrites,t)}(e.writeTree,Xl(e.treePath,t))}function Uc(e,t,n){return function(e,t,n,r){const i=Xl(t,n),o=Tc(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Nc(xc(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function qc(e,t){return zc(Xl(e.treePath,t),e.writeTree)}function zc(e,t){return{treePath:e,writeTree:t}}class Bc{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Fa("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Fa(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Bu(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,zu(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qu(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Va("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Bu(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Wc=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class $c{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new cc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uc(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gc(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=xc(e.visibleWrites,t),u=Tc(l,$l());if(null!=u)s=u;else{if(null==n)return[];s=Nc(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Hc(e,t,n,r,i,o){const a=t.eventCache;if(null!=jc(r,n))return t;{let s,l;if(Zl(n))if(Fa(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=gc(t),i=Fc(r,n instanceof Lu?n:Lu.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Mc(r,gc(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const u=Hl(n);if(".priority"===u){Fa(1===Ql(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=Vc(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const c=Kl(n);let d;if(a.isCompleteForChild(u)){l=t.serverCache.getNode();const e=Vc(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(u).updateChild(c,e):a.getNode().getImmediateChild(u)}else d=Uc(r,u,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),u,d,c,i,o):a.getNode()}}return pc(t,s,a.isFullyInitialized()||Zl(n),e.filter.filtersNodes())}}function Qc(e,t,n,r,i,o,a,s){const l=t.serverCache;let u;const c=a?e.filter:e.filter.getIndexedFilter();if(Zl(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),e,null)}else{const e=Hl(n);if(!l.isCompleteForPath(n)&&Ql(n)>1)return t;const i=Kl(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);u=".priority"===e?c.updatePriority(l.getNode(),o):c.updateChild(l.getNode(),e,o,i,Wc,null)}const d=mc(t,u,l.isFullyInitialized()||Zl(n),c.filtersNodes());return Hc(e,d,n,i,new $c(i,d,o),s)}function Kc(e,t,n,r,i,o,a){const s=t.eventCache;let l,u;const c=new $c(i,t,o);if(Zl(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=pc(t,u,!0,e.filter.filtersNodes());else{const i=Hl(n);if(".priority"===i)u=e.filter.updatePriority(t.eventCache.getNode(),r),l=pc(t,u,s.isFullyInitialized(),s.isFiltered());else{const o=Kl(n),u=s.getNode().getImmediateChild(i);let d;if(Zl(o))d=r;else{const e=c.getCompleteChild(i);d=null!=e?".priority"===Gl(o)&&e.getChild(Jl(o)).isEmpty()?e:e.updateChild(o,r):Lu.EMPTY_NODE}l=u.equals(d)?t:pc(t,e.filter.updateChild(s.getNode(),i,d,o,c,a),s.isFullyInitialized(),e.filter.filtersNodes())}}return l}function Gc(e,t){return e.eventCache.isCompleteForChild(t)}function Yc(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Jc(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,u=t;l=Zl(n)?r:new _c(null).setTree(n,r);const c=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(c.hasChild(n)){const l=Yc(0,t.serverCache.getNode().getImmediateChild(n),r);u=Qc(e,u,new Wl(n),l,i,o,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){const l=Yc(0,t.serverCache.getNode().getImmediateChild(n),r);u=Qc(e,u,new Wl(n),l,i,o,a,s)}})),u}class Xc{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Wu(n.getIndex()),i=(o=n).loadsAllData()?new Wu(o.getIndex()):o.hasLimit()?new Hu(o):new $u(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Lu.EMPTY_NODE,a.getNode(),null),u=i.updateFullNode(Lu.EMPTY_NODE,s.getNode(),null),c=new cc(l,a.isFullyInitialized(),r.filtersNodes()),d=new cc(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=fc(d,c),this.eventGenerator_=new dc(this.query_)}get query(){return this.query_}}function Zc(e,t){const n=gc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Zl(t)&&!n.getImmediateChild(Hl(t)).isEmpty())?n.getChild(t):null}function ed(e){return 0===e.eventRegistrations_.length}function td(e,t,n){const r=[];if(n){Fa(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function nd(e,t,n,r){t.type===ic.MERGE&&null!==t.source.queryId&&(Fa(gc(e.viewCache_),"We should always have a full cache before handling merges"),Fa(vc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new Bc;let a,s;if(n.type===ic.OVERWRITE){const l=n;l.source.fromUser?a=Kc(e,t,l.path,l.snap,r,i,o):(Fa(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Zl(l.path),a=Qc(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===ic.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,l)=>{const u=Xl(n,r);Gc(t,Hl(u))&&(s=Kc(e,s,u,l,i,o,a))})),r.foreach(((r,l)=>{const u=Xl(n,r);Gc(t,Hl(u))||(s=Kc(e,s,u,l,i,o,a))})),s}(e,t,l.path,l.children,r,i,o):(Fa(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Jc(e,t,l.path,l.children,r,i,s,o))}else if(n.type===ic.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=jc(r,n))return t;{const s=new $c(r,t,i),l=t.eventCache.getNode();let u;if(Zl(n)||".priority"===Hl(n)){let n;if(t.serverCache.isFullyInitialized())n=Mc(r,gc(t));else{const e=t.serverCache.getNode();Fa(e instanceof Lu,"serverChildren would be complete if leaf node"),n=Fc(r,e)}n=n,u=e.filter.updateFullNode(l,n,o)}else{const i=Hl(n);let c=Uc(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=l.getImmediateChild(i)),u=null!=c?e.filter.updateChild(l,i,c,Kl(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Lu.EMPTY_NODE,Kl(n),s,o):l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Mc(r,gc(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=jc(r,$l()),pc(t,u,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=jc(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Zl(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qc(e,t,n,l.getNode().getChild(n),i,o,s,a);if(Zl(n)){let r=new _c(null);return l.getNode().forEachChild(pu,((e,t)=>{r=r.set(new Wl(e),t)})),Jc(e,t,n,r,i,o,s,a)}return t}{let u=new _c(null);return r.foreach(((e,t)=>{const r=Xl(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))})),Jc(e,t,n,u,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==ic.LISTEN_COMPLETE)throw Va("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache;return Hc(e,mc(t,o.getNode(),o.isFullyInitialized()||Zl(n),o.isFiltered()),n,r,Wc,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=vc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Uu(vc(t)))}}(t,a,l),{viewCache:a,changes:l}}(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,Fa(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Fa(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Fa(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,rd(e,o.changes,o.viewCache.eventCache.getNode(),null)}function rd(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),hc(e,i,"child_removed",t,r,n),hc(e,i,"child_added",t,r,n),hc(e,i,"child_moved",o,r,n),hc(e,i,"child_changed",t,r,n),hc(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let id,od;class ad{constructor(){this.views=new Map}}function sd(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Fa(null!=o,"SyncTree gave us an op for an invalid query."),nd(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(nd(o,t,n,r));return i}}function ld(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=Mc(n,i?r:null),o=!1;e?o=!0:r instanceof Lu?(e=Fc(n,r),o=!1):(e=Lu.EMPTY_NODE,o=!1);const a=fc(new cc(e,o,!1),new cc(r,i,!1));return new Xc(t,a)}return a}function ud(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function cd(e,t){let n=null;for(const r of e.views.values())n=n||Zc(r,t);return n}function dd(e,t){if(t._queryParams.loadsAllData())return pd(e);{const n=t._queryIdentifier;return e.views.get(n)}}function hd(e,t){return null!=dd(e,t)}function fd(e){return null!=pd(e)}function pd(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let md=1;class vd{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _c(null),this.pendingWriteTree_={visibleWrites:bc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gd(e,t,n,r,i){return function(e,t,n,r,i){Fa(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=wc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Ed(e,new lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yd(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Fa(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Pc(t,r.path)?i=!1:ru(r.path,t.path)&&(o=!0)),a--}return!!i&&(o?(function(e){e.visibleWrites=Dc(e.allWrites,Ac,$l()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=Ec(e.visibleWrites,r.path):vl(r.children,(t=>{e.visibleWrites=Ec(e.visibleWrites,Xl(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new _c(null);return null!=r.snap?t=t.set($l(),!0):vl(r.children,(e=>{t=t.set(new Wl(e),!0)})),Ed(e,new ac(r.path,t,n))}return[]}function _d(e,t,n){return Ed(e,new lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function bd(e,t,n,r){const i=t._path,o=e.syncPointTree_.get(i);let a=[];if(o&&("default"===t._queryIdentifier||hd(o,t))){const s=function(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=fd(e);if("default"===i)for(const[t,i]of e.views.entries())a=a.concat(td(i,n,r)),ed(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(a=a.concat(td(t,n,r)),ed(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!fd(e)&&o.push(new(Fa(id,"Reference.ts has not been loaded"),id)(t._repo,t._path)),{removed:o,events:a}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const l=s.removed;a=s.events;const u=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),c=e.syncPointTree_.findOnPath(i,((e,t)=>fd(t)));if(u&&!c){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&fd(t))return[pd(t)];{let e=[];return t&&(e=ud(t)),vl(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Cd(e,r);e.listenProvider_.startListening(Pd(i),xd(e,i),o.hashFn,o.onComplete)}}}if(!c&&l.length>0&&!r)if(u){const n=null;e.listenProvider_.stopListening(Pd(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(Id(t));e.listenProvider_.stopListening(Pd(t),n)}));!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Id(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function wd(e,t,n){const r=t._path;let i=null,o=!1;e.syncPointTree_.foreachOnPath(r,((e,t)=>{const n=eu(e,r);i=i||cd(t,n),o=o||fd(t)}));let a,s=e.syncPointTree_.get(r);s?(o=o||fd(s),i=i||cd(s,$l())):(s=new ad,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i?a=!0:(a=!1,i=Lu.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(((e,t)=>{const n=cd(t,$l());n&&(i=i.updateImmediateChild(e,n))})));const l=hd(s,t);if(!l&&!t._queryParams.loadsAllData()){const n=Id(t);Fa(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=md++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const a=ld(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(xu,((e,t)=>{r.push(qu(e,t))})),n.isFullyInitialized()&&r.push(Uu(n.getNode())),rd(e,r,n.getNode(),t)}(a,n)}(s,t,n,Rc(e.pendingWriteTree_,r),i,a);if(!l&&!o){const n=dd(s,t);u=u.concat(function(e,t,n){const r=t._path,i=xd(e,t),o=Cd(e,n),a=e.listenProvider_.startListening(Pd(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)Fa(!fd(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!Zl(e)&&t&&fd(t))return[pd(t).query];{let e=[];return t&&(e=e.concat(ud(t).map((e=>e.query)))),vl(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Pd(r),xd(e,r))}}return a}(e,t,n))}return u}function kd(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=cd(n,eu(e,t));if(r)return r}));return Lc(r,t,i,n,!0)}function Ed(e,t){return Sd(t,e.syncPointTree_,null,Rc(e.pendingWriteTree_,$l()))}function Sd(e,t,n,r){if(Zl(e.path))return Td(e,t,n,r);{const i=t.get($l());null==n&&null!=i&&(n=cd(i,$l()));let o=[];const a=Hl(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=qc(r,a);o=o.concat(Sd(s,l,e,t))}return i&&(o=o.concat(sd(i,e,r,n))),o}}function Td(e,t,n,r){const i=t.get($l());null==n&&null!=i&&(n=cd(i,$l()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=qc(r,t),l=e.operationForChild(t);l&&(o=o.concat(Td(l,i,a,s)))})),i&&(o=o.concat(sd(i,e,r,n))),o}function Cd(e,t){const n=t.query,r=xd(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Lu.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Nd(e,n);if(r){const n=Od(r),i=n.path,o=n.queryId,a=eu(i,t);return Rd(e,i,new sc(oc(o),a))}return[]}(e,n._path,r):function(e,t){return Ed(e,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return bd(e,n,null,r)}}}}function xd(e,t){const n=Id(t);return e.queryToTagMap.get(n)}function Id(e){return e._path.toString()+"$"+e._queryIdentifier}function Nd(e,t){return e.tagToQueryMap.get(t)}function Od(e){const t=e.indexOf("$");return Fa(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Wl(e.substr(0,t))}}function Rd(e,t,n){const r=e.syncPointTree_.get(t);return Fa(r,"Missing sync point for query tag that we're tracking"),sd(r,n,Rc(e.pendingWriteTree_,t),null)}function Pd(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Fa(od,"Reference.ts has not been loaded"),od)(e._repo,e._path):e}class Ad{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ad(t)}node(){return this.node_}}class Dd{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Xl(this.path_,e);return new Dd(this.syncTree_,t)}node(){return kd(this.syncTree_,this.path_)}}const Ld=function(e,t,n){return e&&"object"==typeof e?(Fa(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Md(e[".sv"],t,n):"object"==typeof e[".sv"]?Fd(e[".sv"],t):void Fa(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Md=function(e,t,n){if("timestamp"===e)return n.timestamp;Fa(!1,"Unexpected server value: "+e)},Fd=function(e,t,n){e.hasOwnProperty("increment")||Fa(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&Fa(!1,"Unexpected increment value: "+r);const i=t.node();if(Fa(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},Vd=function(e,t,n,r){return Ud(t,new Dd(n,e),r)},jd=function(e,t,n){return Ud(e,new Ad(t),n)};function Ud(e,t,n){const r=e.getPriority().val(),i=Ld(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=Ld(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Cu(o,Fu(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Cu(i))),r.forEachChild(xu,((e,r)=>{const i=Ud(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class qd{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function zd(e,t){let n=t instanceof Wl?t:new Wl(t),r=e,i=Hl(n);for(;null!==i;){const e=ns(r.node.children,i)||{children:{},childCount:0};r=new qd(i,r,e),n=Kl(n),i=Hl(n)}return r}function Bd(e){return e.node.value}function Wd(e,t){e.node.value=t,Gd(e)}function $d(e){return e.node.childCount>0}function Hd(e,t){vl(e.node.children,((n,r)=>{t(new qd(n,e,r))}))}function Qd(e,t,n,r){n&&!r&&t(e),Hd(e,(e=>{Qd(e,t,!0,r)})),n&&r&&t(e)}function Kd(e){return new Wl(null===e.parent?e.name:Kd(e.parent)+"/"+e.name)}function Gd(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Bd(e)&&!$d(e)}(n),i=ts(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gd(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gd(e))}(e.parent,e.name,e)}const Yd=/[\[\].#$\/\u0000-\u001F\u007F]/,Jd=/[\[\].#$\u0000-\u001F\u007F]/,Xd=10485760,Zd=function(e){return"string"==typeof e&&0!==e.length&&!Yd.test(e)},eh=function(e){return"string"==typeof e&&0!==e.length&&!Jd.test(e)},th=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!ll(e)||e&&"object"==typeof e&&ts(e,".sv")},nh=function(e,t,n,r){r&&void 0===t||rh(fs(e,"value"),t,n)},rh=function(e,t,n){const r=n instanceof Wl?new iu(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+au(r));if("function"==typeof t)throw new Error(e+"contains a function "+au(r)+" with contents = "+t.toString());if(ll(t))throw new Error(e+"contains "+t.toString()+" "+au(r));if("string"==typeof t&&t.length>Xd/3&&ps(t)>Xd)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+au(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(vl(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Zd(t)))throw new Error(e+" contains an invalid key ("+t+") "+au(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ps(t),ou(e)}(r,t),rh(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=ps(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+au(r)+" in addition to actual children.")}},ih=function(e,t,n,r){if(r&&void 0===t)return;const i=fs(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];vl(t,((e,t)=>{const r=new Wl(e);if(rh(i,t,Xl(n,r)),".priority"===Gl(r)&&!th(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=Yl(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Zd(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(tu);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&ru(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},oh=function(e,t,n,r){if(!(r&&void 0===n||eh(n)))throw new Error(fs(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ah=function(e,t){if(".info"===Hl(t))throw new Error(e+" failed = Can't modify data under /.info/")};class sh{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||nu(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function uh(e,t,n){lh(e,n),dh(e,(e=>nu(e,t)))}function ch(e,t,n){lh(e,n),dh(e,(e=>ru(e,t)||ru(t,e)))}function dh(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(hh(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function hh(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();tl&&rl("event: "+n.toString()),bl(r)}}}class fh{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xu(),this.transactionQueueTree_=new qd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ph(e,t,n){if(e.stats_=Al(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Yu(e.repoInfo_,((t,n,r,i)=>{gh(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>yh(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Za(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new uu(e.repoInfo_,t,((t,n,r,i)=>{gh(e,t,n,r,i)}),(t=>{yh(e,t)}),(t=>{!function(e,t){vl(t,((t,n)=>{_h(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return Pl[r]||(Pl[r]=new rc(e.stats_,e.server_)),Pl[r]}(e.repoInfo_),e.infoData_=new Ju,e.infoSyncTree_=new vd({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=_d(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),_h(e,"connected",!1),e.serverSyncTree_=new vd({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);ch(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function mh(e){const t=e.infoData_.getNode(new Wl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function vh(e){return(t=(t={timestamp:mh(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function gh(e,t,n,r,i){e.dataUpdateCount++;const o=new Wl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=is(n,(e=>Fu(e)));a=function(e,t,n,r){const i=Nd(e,r);if(i){const r=Od(i),o=r.path,a=r.queryId,s=eu(o,t),l=_c.fromObject(n);return Rd(e,o,new uc(oc(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=Fu(n);a=function(e,t,n,r){const i=Nd(e,r);if(null!=i){const r=Od(i),o=r.path,a=r.queryId,s=eu(o,t);return Rd(e,o,new lc(oc(a),s,n))}return[]}(e.serverSyncTree_,o,t,i)}else if(r){const t=is(n,(e=>Fu(e)));a=function(e,t,n){const r=_c.fromObject(n);return Ed(e,new uc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=Fu(n);a=_d(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=Ih(e,o)),ch(e.eventQueue_,s,a)}function yh(e,t){_h(e,"connected",t),!1===t&&function(e){Sh(e,"onDisconnectEvents");const t=vh(e),n=Xu();tc(e.onDisconnect_,$l(),((r,i)=>{const o=Vd(r,i,e.serverSyncTree_,t);Zu(n,r,o)}));let r=[];tc(n,$l(),((t,n)=>{r=r.concat(_d(e.serverSyncTree_,t,n));const i=Ah(e,t);Ih(e,i)})),e.onDisconnect_=Xu(),ch(e.eventQueue_,$l(),r)}(e)}function _h(e,t,n){const r=new Wl("/.info/"+t),i=Fu(n);e.infoData_.updateSnapshot(r,i);const o=_d(e.infoSyncTree_,r,i);ch(e.eventQueue_,r,o)}function bh(e){return e.nextWriteId_++}function wh(e,t,n){e.server_.onDisconnectCancel(t.toString(),((r,i)=>{"ok"===r&&ec(e.onDisconnect_,t),Th(0,n,r,i)}))}function kh(e,t,n,r){const i=Fu(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),((n,o)=>{"ok"===n&&Zu(e.onDisconnect_,t,i),Th(0,r,n,o)}))}function Eh(e,t,n){let r;r=".info"===Hl(t._path)?bd(e.infoSyncTree_,t,n):bd(e.serverSyncTree_,t,n),uh(e.eventQueue_,t._path,r)}function Sh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),rl(n,...t)}function Th(e,t,n,r){t&&bl((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function Ch(e,t,n){return kd(e.serverSyncTree_,t,n)||Lu.EMPTY_NODE}function xh(e,t=e.transactionQueueTree_){if(t||Ph(e,t),Bd(t)){const n=Oh(e,t);Fa(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Ch(e,t,r);let o=i;const a=i.hash();for(let e=0;e<n.length;e++){const r=n[e];Fa(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=eu(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{Sh(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(yd(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ph(e,zd(e.transactionQueueTree_,t)),xh(e,e.transactionQueueTree_),ch(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)bl(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{sl("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ih(e,t)}}),a)}(e,Kd(t),n)}else $d(t)&&Hd(t,(t=>{xh(e,t)}))}function Ih(e,t){const n=Nh(e,t),r=Kd(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let s=0;s<t.length;s++){const l=t[s],u=eu(n,l.path);let c,d=!1;if(Fa(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,c=l.abortReason,i=i.concat(yd(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,c="maxretry",i=i.concat(yd(e.serverSyncTree_,l.currentWriteId,!0));else{const n=Ch(e,l.path,o);l.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){rh("transaction failed: Data returned ",r,l.path);let t=Fu(r);"object"==typeof r&&null!=r&&ts(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=l.currentWriteId,s=vh(e),u=jd(t,n,s);l.currentOutputSnapshotRaw=t,l.currentOutputSnapshotResolved=u,l.currentWriteId=bh(e),o.splice(o.indexOf(a),1),i=i.concat(gd(e.serverSyncTree_,l.path,u,l.currentWriteId,l.applyLocally)),i=i.concat(yd(e.serverSyncTree_,a,!0))}else d=!0,c="nodata",i=i.concat(yd(e.serverSyncTree_,l.currentWriteId,!0))}ch(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,a=t[s].unwatcher,setTimeout(a,Math.floor(0)),t[s].onComplete&&("nodata"===c?r.push((()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot))):r.push((()=>t[s].onComplete(new Error(c),!1,null)))))}var a;Ph(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)bl(r[e]);xh(e,e.transactionQueueTree_)}(e,Oh(e,n),r),r}function Nh(e,t){let n,r=e.transactionQueueTree_;for(n=Hl(t);null!==n&&void 0===Bd(r);)r=zd(r,n),n=Hl(t=Kl(t));return r}function Oh(e,t){const n=[];return Rh(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Rh(e,t,n){const r=Bd(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);Hd(t,(t=>{Rh(e,t,n)}))}function Ph(e,t){const n=Bd(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Wd(t,n.length>0?n:void 0)}Hd(t,(t=>{Ph(e,t)}))}function Ah(e,t){const n=Kd(Nh(e,t)),r=zd(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Dh(e,t)})),Dh(e,r),Qd(r,(t=>{Dh(e,t)})),n}function Dh(e,t){const n=Bd(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Fa(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Fa(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(yd(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Wd(t,void 0):n.length=o+1,ch(e.eventQueue_,Kd(t),i);for(let e=0;e<r.length;e++)bl(r[e])}}const Lh=function(e,t){const n=Mh(e),r=n.namespace;"firebase.com"===n.domain&&al(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||al("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&sl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Il(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Wl(n.pathString)}},Mh=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(s=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):sl(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}};class Fh{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Za(this.snapshot.exportVal())}}class Vh{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class jh{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Fa(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Uh{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Wa;return wh(this._repo,this._path,e.wrapCallback((()=>{}))),e.promise}remove(){ah("OnDisconnect.remove",this._path);const e=new Wa;return kh(this._repo,this._path,null,e.wrapCallback((()=>{}))),e.promise}set(e){ah("OnDisconnect.set",this._path),nh("OnDisconnect.set",e,this._path,!1);const t=new Wa;return kh(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}setWithPriority(e,t){ah("OnDisconnect.setWithPriority",this._path),nh("OnDisconnect.setWithPriority",e,this._path,!1),function(e,t,n){if(!n||void 0!==t){if(ll(t))throw new Error(fs(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!th(t))throw new Error(fs(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}("OnDisconnect.setWithPriority",t,!1);const n=new Wa;return function(e,t,n,r,i){const o=Fu(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),((n,r)=>{"ok"===n&&Zu(e.onDisconnect_,t,o),Th(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((()=>{}))),n.promise}update(e){ah("OnDisconnect.update",this._path),ih("OnDisconnect.update",e,this._path,!1);const t=new Wa;return function(e,t,n,r){if(rs(n))return rl("onDisconnect().update() called with empty data.  Don't do anything."),void Th(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,((i,o)=>{"ok"===i&&vl(n,((n,r)=>{const i=Fu(r);Zu(e.onDisconnect_,Xl(t,n),i)})),Th(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((()=>{}))),t.promise}}class qh{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Zl(this._path)?null:Gl(this._path)}get ref(){return new zh(this._repo,this._path)}get _queryIdentifier(){const e=Gu(this._queryParams),t=pl(e);return"{}"===t?"default":t}get _queryObject(){return Gu(this._queryParams)}isEqual(e){if(!((e=vs(e))instanceof qh))return!1;const t=this._repo===e._repo,n=nu(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class zh extends qh{constructor(e,t){super(e,t,new Qu,!1)}get parent(){const e=Jl(this._path);return null===e?null:new zh(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Bh{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Wl(e),n=$h(this.ref,e);return new Bh(this._node.getChild(t),n,xu)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new Bh(n,$h(this.ref,t),xu))))}hasChild(e){const t=new Wl(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wh(e,t){return(e=vs(e))._checkNotDeleted("ref"),void 0!==t?$h(e._root,t):e._root}function $h(e,t){var n;return null===Hl((e=vs(e))._path)?("child","path",!1,(n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oh("child","path",n,false)):oh("child","path",t,!1),new zh(e._repo,Xl(e._path,t))}function Hh(e){return e=vs(e),new Uh(e._repo,e._path)}function Qh(e){return ah("remove",e._path),function(e,t){e=vs(e),ah("set",e._path),nh("set",t,e._path,!1);const n=new Wa;return function(e,t,n,r,i){Sh(e,"set",{path:t.toString(),value:n,priority:r});const o=vh(e),a=Fu(n,r),s=kd(e.serverSyncTree_,t),l=jd(a,s,o),u=bh(e),c=gd(e.serverSyncTree_,t,l,u,!0);lh(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||sl("set at "+t+" failed: "+n);const a=yd(e.serverSyncTree_,u,!o);ch(e.eventQueue_,t,a),Th(0,i,n,r)}));const d=Ah(e,t);Ih(e,d),ch(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}(e,null)}function Kh(e,t){ih("update",t,e._path,!1);const n=new Wa;return function(e,t,n,r){Sh(e,"update",{path:t.toString(),value:n});let i=!0;const o=vh(e),a={};if(vl(n,((n,r)=>{i=!1,a[n]=Vd(Xl(t,n),Fu(r),e.serverSyncTree_,o)})),i)rl("update() called with empty data.  Don't do anything."),Th(0,r,"ok",void 0);else{const i=bh(e),o=function(e,t,n,r){!function(e,t,n,r){Fa(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=kc(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=_c.fromObject(n);return Ed(e,new uc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,a,i);lh(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const a="ok"===n;a||sl("update at "+t+" failed: "+n);const s=yd(e.serverSyncTree_,i,!a),l=s.length>0?Ih(e,t):t;ch(e.eventQueue_,l,s),Th(0,r,n,o)})),vl(n,(n=>{const r=Ah(e,Xl(t,n));Ih(e,r)})),ch(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Gh(e){return function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=eu(e,n);r=r||cd(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||cd(i,$l()):(i=new ad,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new cc(r,!0,!1):null;return vc(ld(i,t,Rc(e.pendingWriteTree_,t._path),o?a.getNode():Lu.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((n=>{const r=Fu(n).withIndex(t._queryParams.getIndex()),i=_d(e.serverSyncTree_,t._path,r);return uh(e.eventQueue_,t._path,i),Promise.resolve(r)}),(n=>(Sh(e,"get for query "+Za(t)+" failed: "+n),Promise.reject(new Error(n)))))}((e=vs(e))._repo,e).then((t=>new Bh(t,new zh(e._repo,e._path),e._queryParams.getIndex())))}class Yh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Fh("value",this,new Bh(e.snapshotNode,new zh(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vh(this,e,t):null}matches(e){return e instanceof Yh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Jh{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Vh(this,e,t):null}createEvent(e,t){Fa(null!=e.childName,"Child events should have a childName.");const n=$h(new zh(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Fh(e.type,this,new Bh(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Jh&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xh(e,t,n,r){return function(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Eh(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new jh(n,o||void 0),s="value"===t?new Yh(a):new Jh(t,a);return function(e,t,n){let r;r=".info"===Hl(t._path)?wd(e.infoSyncTree_,t,n):wd(e.serverSyncTree_,t,n),uh(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Eh(e._repo,e,s)}(e,"value",t,n,r)}!function(e){Fa(!id,"__referenceConstructor has already been defined"),id=e}(zh),function(e){Fa(!od,"__referenceConstructor has already been defined"),od=e}(zh);const Zh={};function ef(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||al("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rl("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,s,l=Lh(o,i),u=l.repoInfo;"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,o=`http://${s}?ns=${u.namespace}`,l=Lh(o,i),u=l.repoInfo):a=!l.repoInfo.secure;const c=i&&a?new Sl(Sl.OWNER):new El(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Zd(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),eh(e)}(n))throw new Error(fs(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),Zl(l.path)||al("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Zh[t.name];i||(i={},Zh[t.name]=i);let o=i[e.toURLString()];return o&&al("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new fh(e,false,n,r),i[e.toURLString()]=o,o}(u,e,c,new kl(e.name,n));return new tf(d,e)}class tf{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ph(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zh(this._repo,$l())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=Zh[t];n&&n[e.key]===e||al(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&al("Cannot call "+e+" on a deleted database.")}}function nf(e=qs(),t){return Fs(e,"database").getImmediate({identifier:t})}uu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},$s="9.6.1",Ms(new gs("database",((e,{instanceIdentifier:t})=>ef(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),zs(Bs,Ws,void 0),zs(Bs,Ws,"esm2017");const rf="settings",of=aa({key:"settingsAtom",default:{locale:"fr"}}),af=sa({key:"getSettings",get:({get:e})=>{const t=e(of),n=window.localStorage.getItem(rf);return n?{...t,...JSON.parse(n)}:(window.localStorage.setItem(rf,JSON.stringify(t)),t)},set:({set:e},t)=>{window.localStorage.setItem(rf,JSON.stringify(t)),e(of,t)}}),sf=["access_token","room"],lf=aa({key:"getHashParams",default:new Map,effects_UNSTABLE:[({setSelf:e})=>{const t=()=>{if(window.location.hash.length){const t=window.location.hash.slice(1),n=new Map;t.split("&").map((e=>{const t=e.split("=")[0],r=e.split("=")[1];sf.includes(t)&&n.set(t,r)})),e(n),history.pushState("",document.title,window.location.origin+window.location.pathname)}};return window.addEventListener("hashchange",t,!1),t(),()=>window.removeEventListener("hashchange",t,!1)}]}),uf=sa({key:"getRoomId",get:({get:e})=>{const t=e(lf),n=e(af);return t.get("room")||(n.lastRoom?n.lastRoom:crypto.getRandomValues(new Uint32Array(2)).join(""))}}),cf=sa({key:"getRoomPath",get:({get:e})=>`rooms/${e(uf)}`});var df=function(e,t){return df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},df(e,t)};function hf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}df(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ff=function(){return ff=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ff.apply(this,arguments)};function pf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function mf(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function vf(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function gf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function yf(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create;const _f=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bf=new Ya("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wf=new xs("@firebase/auth");function kf(e,...t){wf.logLevel<=ks.ERROR&&wf.error(`Auth (9.6.1): ${e}`,...t)}function Ef(e,...t){throw Tf(e,...t)}function Sf(e,...t){return Tf(e,...t)}function Tf(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return bf.create(e,...t)}function Cf(e,t,...n){if(!e)throw Tf(t,...n)}function xf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kf(t),new Error(t)}function If(e,t){e||xf(t)}const Nf=new Map;function Of(e){If(e instanceof Function,"Expected a class definition");let t=Nf.get(e);return t?(If(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Nf.set(e,t),t)}function Rf(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pf(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Af{constructor(e,t){this.shortDelay=e,this.longDelay=t,If(t>e,"Short delay should be less than long delay!"),this.isMobile=Ha()||Ka()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Pf()||"https:"===Pf()||Qa()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Df(e,t){If(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Lf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ff=new Af(3e4,6e4);function Vf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function jf(e,t,n,r,i={}){return Uf(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=ss(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Lf.fetch()(zf(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Uf(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Mf),t);try{const t=new Bf(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wf(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Wf(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Wf(e,"email-already-in-use",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){const r=Object.assign(Object.assign({},_f()),{[t]:n});return new Ya("auth","Firebase",r).create(t,{appName:e.name})}(e,s,a);Ef(e,s)}}catch(t){if(t instanceof Ga)throw t;Ef(e,"network-request-failed")}}async function qf(e,t,n,r,i={}){const o=await jf(e,t,n,r,i);return"mfaPendingCredential"in o&&Ef(e,"multi-factor-auth-required",{_serverResponse:o}),o}function zf(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Df(e.config,i):`${e.config.apiScheme}://${i}`}class Bf{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Sf(this.auth,"timeout"))),Ff.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sf(e,t,r);return i.customData._tokenResponse=n,i}function $f(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Hf(e){return 1e3*Number(e)}function Qf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const e=qa(n);return e?JSON.parse(e):(kf("Failed to decode base64 JWT payload"),null)}catch(e){return kf("Caught error parsing JWT payload as JSON",e),null}}async function Kf(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof Ga&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Gf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Yf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Kf(e,async function(e,t){return jf(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Cf(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=pf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=(l=e.providerData,u=a,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!c&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Yf(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Xf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cf(e.idToken,"internal-error"),Cf(void 0!==e.idToken,"internal-error"),Cf(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Qf(e);return Cf(t,"internal-error"),Cf(void 0!==t.exp,"internal-error"),Cf(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Cf(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Uf(e,{},(async()=>{const n=ss({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=zf(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lf.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Xf;return n&&(Cf("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Cf("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Cf("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xf,this.toJSON())}_performRefresh(){return xf("not implemented")}}function Zf(e,t){Cf("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ep{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=pf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new Yf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Kf(this,this.stsTokenManager.getToken(this.auth,e));return Cf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=vs(e),r=await n.getIdToken(t),i=Qf(r);Cf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$f(Hf(i.auth_time)),issuedAtTime:$f(Hf(i.iat)),expirationTime:$f(Hf(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vs(e);await Jf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Cf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ep(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Cf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Jf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kf(this,async function(e,t){return jf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,g=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:w,stsTokenManager:k}=t;Cf(y&&k,e,"internal-error");const E=Xf.fromJSON(this.name,k);Cf("string"==typeof y,e,"internal-error"),Zf(c,e.name),Zf(d,e.name),Cf("boolean"==typeof _,e,"internal-error"),Cf("boolean"==typeof b,e,"internal-error"),Zf(h,e.name),Zf(f,e.name),Zf(p,e.name),Zf(m,e.name),Zf(v,e.name),Zf(g,e.name);const S=new ep({uid:y,auth:e,email:d,emailVerified:_,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:v,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new Xf;r.updateFromServerResponse(t);const i=new ep({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Jf(i),i}}class tp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tp.type="NONE";const np=tp;function rp(e,t,n){return`firebase:${e}:${t}:${n}`}class ip{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=rp(this.userKey,r.apiKey,i),this.fullPersistenceKey=rp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ep._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ip(Of(np),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Of(np);const o=rp(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(o);if(t){const r=ep._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new ip(i,e,n)):new ip(i,e,n)}}function op(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(up(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ap(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dp(t))return"Blackberry";if(hp(t))return"Webos";if(sp(t))return"Safari";if((t.includes("chrome/")||lp(t))&&!t.includes("edge/"))return"Chrome";if(cp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function ap(e=$a()){return/firefox\//i.test(e)}function sp(e=$a()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function lp(e=$a()){return/crios\//i.test(e)}function up(e=$a()){return/iemobile/i.test(e)}function cp(e=$a()){return/android/i.test(e)}function dp(e=$a()){return/blackberry/i.test(e)}function hp(e=$a()){return/webos/i.test(e)}function fp(e=$a()){return/iphone|ipad|ipod/i.test(e)}function pp(e=$a()){return fp(e)||cp(e)||hp(e)||dp(e)||/windows phone/i.test(e)||up(e)}function mp(e,t=[]){let n;switch(e){case"Browser":n=op($a());break;case"Worker":n=`${op($a())}-${e}`;break;default:n=e}return`${n}/JsCore/9.6.1/${t.length?t.join(","):"FirebaseCore-web"}`}class vp{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yp(this),this.idTokenSubscription=new yp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bf,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Of(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ip.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(Cf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jf(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?vs(e):null;return t&&Cf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Cf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Of(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Of(e)||this._popupRedirectResolver;Cf(t,this,"argument-error"),this.redirectPersistenceManager=await ip.create(this,[Of(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Cf(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function gp(e){return vs(e)}class yp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ds(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Cf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class _p{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xf("not implemented")}_getIdTokenResponse(e){return xf("not implemented")}_linkToIdToken(e,t){return xf("not implemented")}_getReauthenticationResolver(e){return xf("not implemented")}}class bp extends _p{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new bp(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new bp(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return qf(e,"POST","/v1/accounts:signInWithPassword",Vf(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return qf(e,"POST","/v1/accounts:signInWithEmailLink",Vf(e,t))}(e,{email:this._email,oobCode:this._password});default:Ef(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return jf(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return qf(e,"POST","/v1/accounts:signInWithEmailLink",Vf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ef(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wp(e,t){return qf(e,"POST","/v1/accounts:signInWithIdp",Vf(e,t))}class kp extends _p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ef("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=pf(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new kp(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return wp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,wp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ss(t)}return e}}const Ep={USER_NOT_FOUND:"user-not-found"};class Sp extends _p{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Sp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Sp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return qf(e,"POST","/v1/accounts:signInWithPhoneNumber",Vf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await qf(e,"POST","/v1/accounts:signInWithPhoneNumber",Vf(e,t));if(n.temporaryProof)throw Wf(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return qf(e,"POST","/v1/accounts:signInWithPhoneNumber",Vf(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ep)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Sp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Tp{constructor(e){var t,n,r,i,o,a;const s=ls(us(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Cf(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ls(us(e)).link,n=t?ls(us(t)).deep_link_id:null,r=ls(us(e)).deep_link_id;return(r?ls(us(r)).link:null)||r||n||t||e}(e);try{return new Tp(t)}catch(e){return null}}}class Cp{constructor(){this.providerId=Cp.PROVIDER_ID}static credential(e,t){return bp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Tp.parseLink(t);return Cf(n,"argument-error"),bp._fromEmailAndCode(e,n.code,n.tenantId)}}Cp.PROVIDER_ID="password",Cp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Cp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ip extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Np extends Ip{constructor(){super("facebook.com")}static credential(e){return kp._fromParams({providerId:Np.PROVIDER_ID,signInMethod:Np.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Np.credentialFromTaggedObject(e)}static credentialFromError(e){return Np.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Np.credential(e.oauthAccessToken)}catch(e){return null}}}Np.FACEBOOK_SIGN_IN_METHOD="facebook.com",Np.PROVIDER_ID="facebook.com";class Op extends Ip{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kp._fromParams({providerId:Op.PROVIDER_ID,signInMethod:Op.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Op.credentialFromTaggedObject(e)}static credentialFromError(e){return Op.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Op.credential(t,n)}catch(e){return null}}}Op.GOOGLE_SIGN_IN_METHOD="google.com",Op.PROVIDER_ID="google.com";class Rp extends Ip{constructor(){super("github.com")}static credential(e){return kp._fromParams({providerId:Rp.PROVIDER_ID,signInMethod:Rp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rp.credentialFromTaggedObject(e)}static credentialFromError(e){return Rp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Rp.credential(e.oauthAccessToken)}catch(e){return null}}}Rp.GITHUB_SIGN_IN_METHOD="github.com",Rp.PROVIDER_ID="github.com";class Pp extends Ip{constructor(){super("twitter.com")}static credential(e,t){return kp._fromParams({providerId:Pp.PROVIDER_ID,signInMethod:Pp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pp.credentialFromTaggedObject(e)}static credentialFromError(e){return Pp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Pp.credential(t,n)}catch(e){return null}}}Pp.TWITTER_SIGN_IN_METHOD="twitter.com",Pp.PROVIDER_ID="twitter.com";class Ap{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await ep._fromIdTokenResponse(e,n,r),o=Dp(n);return new Ap({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Dp(n);return new Ap({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Dp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lp extends Ga{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lp(e,t,n,r)}}function Mp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Lp._fromErrorAndOperation(e,n,t,r);throw n}))}new WeakMap;const Fp="__sak";class Vp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class jp extends Vp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=$a();return sp(e)||fp(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=pp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=$a();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jp.type="LOCAL";const Up=jp;class qp extends Vp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qp.type="SESSION";const zp=qp;class Bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Bp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wp(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Bp.receivers=[];class $p{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Wp("",20);r.port1.start();const u=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Hp(){return window}function Qp(){return void 0!==Hp().WorkerGlobalScope&&"function"==typeof Hp().importScripts}const Kp="firebaseLocalStorageDb",Gp="firebaseLocalStorage",Yp="fbase_key";class Jp{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Xp(e,t){return e.transaction([Gp],t?"readwrite":"readonly").objectStore(Gp)}function Zp(){const e=indexedDB.open(Kp,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Gp,{keyPath:Yp})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Gp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Kp);return new Jp(e).toPromise()}(),t(await Zp()))}))}))}async function em(e,t,n){const r=Xp(e,!0).put({[Yp]:t,value:n});return new Jp(r).toPromise()}function tm(e,t){const n=Xp(e,!0).delete(t);return new Jp(n).toPromise()}class nm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Zp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bp._getInstance(Qp()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new $p(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zp();return await em(e,Fp,"1"),await tm(e,Fp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>em(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Xp(e,!1).get(t),r=await new Jp(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>tm(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Xp(e,!1).getAll();return new Jp(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}nm.type="LOCAL";const rm=nm;function im(e){return`__${e}${Math.floor(1e6*Math.random())}`}im("rcb"),new Af(3e4,6e4);class om{constructor(e){this.providerId=om.PROVIDER_ID,this.auth=gp(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(Cf("string"==typeof i,e,"argument-error"),Cf("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Cf("enroll"===t.type,e,"internal-error");const n=await function(e,t){return jf(e,"POST","/v2/accounts/mfaEnrollment:start",Vf(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Cf("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Cf(n,e,"missing-multi-factor-info");const a=await function(e,t){return jf(e,"POST","/v2/accounts/mfaSignIn:start",Vf(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return jf(e,"POST","/v1/accounts:sendVerificationCode",Vf(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,vs(t))}static credential(e,t){return Sp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return om.credentialFromTaggedObject(t)}static credentialFromError(e){return om.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Sp._fromTokenResponse(t,n):null}}om.PROVIDER_ID="phone",om.PHONE_SIGN_IN_METHOD="phone";class am extends _p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function sm(e){return async function(e,t,n=!1){const r="signIn",i=await Mp(e,r,t),o=await Ap._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}(e.auth,new am(e),e.bypassAuthState)}function lm(e){const{auth:t,user:n}=e;return Cf(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Kf(e,Mp(r,i,t,e),n);Cf(o.idToken,r,"internal-error");const a=Qf(o.idToken);Cf(a,r,"internal-error");const{sub:s}=a;return Cf(e.uid===s,r,"user-mismatch"),Ap._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&Ef(r,"user-mismatch"),e}}(n,new am(e),e.bypassAuthState)}async function um(e){const{auth:t,user:n}=e;return Cf(n,t,"internal-error"),async function(e,t,n=!1){const r=await Kf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ap._forOperation(e,"link",r)}(n,new am(e),e.bypassAuthState)}class cm{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sm;case"linkViaPopup":case"linkViaRedirect":return um;case"reauthViaPopup":case"reauthViaRedirect":return lm;default:Ef(this.auth,"internal-error")}}resolve(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){If(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dm=new Af(2e3,1e4);class hm extends cm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,hm.currentPopupAction&&hm.currentPopupAction.cancel(),hm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cf(e,this.auth,"internal-error"),e}async onExecution(){If(1===this.filter.length,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Sf(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Sf(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,dm.get())};e()}}hm.currentPopupAction=null;const fm=new Map;class pm extends cm{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=fm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return rp("pendingRedirect",e.config.apiKey,e.name)}(t),r=function(e){return Of(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}fm.set(this.auth._key(),e)}return this.bypassAuthState||fm.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function mm(e,t,n=!1){const r=gp(e),i=function(e,t){return t?Of(t):(Cf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new pm(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class vm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ym(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ym(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gm(e))}saveEventToCache(e){this.cachedEventUids.add(gm(e)),this.lastProcessedEventTime=Date.now()}}function gm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ym({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const _m=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bm=/^https?/;function wm(e){const t=Rf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!bm.test(n))return!1;if(_m.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const km=new Af(3e4,6e4);function Em(){const e=Hp().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Sm=null;function Tm(e){return Sm=Sm||function(e){return new Promise(((t,n)=>{var r,i,o,a;function s(){Em(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Em(),n(Sf(e,"network-request-failed"))},timeout:km.get()})}if(null===(i=null===(r=Hp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Hp().gapi)||void 0===o?void 0:o.load)){const t=im("iframefcb");return Hp()[t]=()=>{gapi.load?s():n(Sf(e,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${t}`,new Promise(((e,t)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=e,n.onerror=e=>{const n=Sf("internal-error");n.customData=e,t(n)},n.type="text/javascript",n.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(n)}))).catch((e=>n(e)))}s()}})).catch((e=>{throw Sm=null,e}))}(e),Sm}const Cm=new Af(5e3,15e3),xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Im=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nm(e){const t=e.config;Cf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Df(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Us},i=Im.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ss(r).slice(1)}`}const Om={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Pm(e,t,n,r,i,o){Cf(e.config.authDomain,e,"auth-domain-config-required"),Cf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Us,eventId:i};if(t instanceof xp){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",rs(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Ip){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const e of Object.keys(s))void 0===s[e]&&delete s[e];return`${function({config:e}){return e.emulator?Df(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${ss(s).slice(1)}`}const Am="webStorageSupport",Dm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zp,this._completeRedirectFn=mm}async _openPopup(e,t,n,r){var i;return If(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Om),{width:r.toString(),height:i.toString(),top:o,left:a}),u=$a().toLowerCase();n&&(s=lp(u)?"_blank":n),ap(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=$a()){var t;return fp(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Rm(null);const d=window.open(t||"",s,c);Cf(d,e,"popup-blocked");try{d.focus()}catch(e){}return new Rm(d)}(e,Pm(e,t,n,Rf(),r),Wp())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Pm(e,t,n,Rf(),r),Hp().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(If(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Tm(e),n=Hp().gapi;return Cf(n,e,"internal-error"),t.open({where:document.body,url:Nm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xm,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sf(e,"network-request-failed"),o=Hp().setTimeout((()=>{r(i)}),Cm.get());function a(){Hp().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new vm(e);return t.register("authEvent",(t=>(Cf(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Am,{type:Am},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ef(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return jf(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(wm(e))return}catch(e){}Ef(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pp()||sp()||fp()}};var Lm,Mm="@firebase/auth",Fm="0.19.4";class Vm{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Cf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Lm="Browser",Ms(new gs("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Cf(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Cf(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Lm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mp(Lm)},o=new vp(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Of);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ms(new gs("auth-internal",(e=>{return t=gp(e.getProvider("auth").getImmediate()),new Vm(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),zs(Mm,Fm,void 0),zs(Mm,Fm,"esm2017");var jm="Invariant Violation",Um=Object.setPrototypeOf,qm=void 0===Um?function(e,t){return e.__proto__=t,e}:Um,zm=function(e){function t(n){void 0===n&&(n=jm);var r=e.call(this,"number"==typeof n?jm+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=jm,qm(r,t.prototype),r}return hf(t,e),t}(Error);function Bm(e,t){if(!e)throw new zm(t)}var Wm,$m=["debug","log","warn","error","silent"],Hm=$m.indexOf("log");function Qm(e){return function(){if($m.indexOf(e)>=Hm){var t=console[e]||console.log;return t.apply(console,arguments)}}}function Km(e){try{return e()}catch(e){}}(Wm=Bm||(Bm={})).debug=Qm("debug"),Wm.log=Qm("log"),Wm.warn=Qm("warn"),Wm.error=Qm("error");const Gm=Km((function(){return globalThis}))||Km((function(){return window}))||Km((function(){return self}))||Km((function(){return global}))||Km((function(){return Km.constructor("return this")()}));var Ym="__",Jm=[Ym,Ym].join("DEV");const Xm=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(Gm,Jm,{value:"production"!==Km((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),Gm[Jm]}}();function Zm(e){try{return e()}catch(e){}}var ev=Zm((function(){return globalThis}))||Zm((function(){return window}))||Zm((function(){return self}))||Zm((function(){return n.g}))||Zm((function(){return Zm.constructor("return this")()})),tv=!1;function nv(e){return rv(e,[])}function rv(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:rv(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let r=0;r<n;++r)i.push(rv(e[r],t));return 1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+rv(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function iv(e,t){if(!Boolean(e))throw new Error(t)}!ev||Zm((function(){return"production"}))||Zm((function(){return process}))||(Object.defineProperty(ev,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),tv=!0);class ov{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||iv(!1,`Body must be a string. Received: ${nv(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||iv(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||iv(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lv(e,t,n){return t&&sv(e.prototype,t),n&&sv(e,n),e}tv&&(delete ev.process,tv=!1),__DEV__?Bm("boolean"==typeof Xm,Xm):Bm("boolean"==typeof Xm,36);var uv=function(){return"function"==typeof Symbol},cv=function(e){return uv()&&Boolean(Symbol[e])},dv=function(e){return cv(e)?Symbol[e]:"@@"+e};uv()&&!cv("observable")&&(Symbol.observable=Symbol("observable"));var hv=dv("iterator"),fv=dv("observable"),pv=dv("species");function mv(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function vv(e){var t=e.constructor;return void 0!==t&&null===(t=t[pv])&&(t=void 0),void 0!==t?t:Cv}function gv(e){return e instanceof Cv}function yv(e){yv.log?yv.log(e):setTimeout((function(){throw e}))}function _v(e){Promise.resolve().then((function(){try{e()}catch(e){yv(e)}}))}function bv(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=mv(t,"unsubscribe");n&&n.call(t)}}catch(e){yv(e)}}function wv(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function kv(e,t,n){e._state="running";var r=e._observer;try{var i=mv(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(wv(e),!i)throw n;i.call(r,n);break;case"complete":wv(e),i&&i.call(r)}}catch(e){yv(e)}"closed"===e._state?bv(e):"running"===e._state&&(e._state="ready")}function Ev(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void _v((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(kv(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void kv(e,t,n);e._queue.push({type:t,value:n})}}var Sv=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new Tv(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(wv(this),bv(this))},lv(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Tv=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){Ev(this._subscription,"next",e)},t.error=function(e){Ev(this._subscription,"error",e)},t.complete=function(){Ev(this._subscription,"complete")},lv(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Cv=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Sv(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(vv(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(vv(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=vv(this),r=arguments.length>1,i=!1,o=arguments[1],a=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{a=e(a,t)}catch(e){return n.error(e)}else a=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=vv(this);return new i((function(t){var r,o=0;return function e(a){r=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=vv(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){r.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[fv]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=mv(t,fv);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return gv(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(cv("iterator")&&(r=mv(t,hv)))return new n((function(e){_v((function(){if(!e.closed){for(var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?av(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){_v((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){_v((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},lv(e,null,[{key:pv,get:function(){return this}}]),e}();function xv(e){return null!==e&&"object"==typeof e}function Iv(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new zm("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new zm(41);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(__DEV__?Bm(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):Bm(1===r.length,42),n=r[0].name.value),ff(ff({},e),{definitions:yf([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function Nv(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Ov(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?Bm(n,"No fragment named ".concat(e.name.value,".")):Bm(n,43),n;default:return null}}function Rv(e){return{__ref:String(e)}}function Pv(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function Av(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return Av(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Av(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new zm('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new zm(52);e[t.value]=null}}uv()&&Object.defineProperty(Cv,Symbol("extensions"),{value:{symbol:fv,hostReportError:yv},configurable:!0});var Dv=["connection","include","skip","client","rest","export"],Lv=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(Mv(i),")")}return n.connection.key}var o=e;if(t){var a=Mv(t);o+="(".concat(a,")")}return n&&Object.keys(n).forEach((function(e){-1===Dv.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(Mv(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=Mv;return Mv=e,t}}),Mv=function(e){return JSON.stringify(e,Fv)};function Fv(e,t){return xv(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Vv(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return Av(n,r,i,t)})),n}return null}function jv(e){return e.alias?e.alias.value:e.name.value}function Uv(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(qv(o)){if("__typename"===o.name.value)return e[jv(o)]}else{var a=Uv(e,Ov(o,n).selectionSet,n);if("string"==typeof a)return a}}}function qv(e){return"Field"===e.kind}function zv(e){return"InlineFragment"===e.kind}function Bv(e){__DEV__?Bm(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Bm(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new zm('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new zm(45);return e}));return __DEV__?Bm(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):Bm(t.length<=1,46),e}function Wv(e){return Bv(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function $v(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function Hv(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function Qv(e){var t=Wv(e);return __DEV__?Bm(t&&"query"===t.operation,"Must contain a query definition."):Bm(t&&"query"===t.operation,47),t}function Kv(e){var t;Bv(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new zm("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new zm(51)}function Gv(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&Av(t,e.variable.name,e.defaultValue)})),t}function Yv(e,t){return t?t(e):Cv.of()}function Jv(e){return"function"==typeof e?new eg(e):e}function Xv(e){return e.request.length<=1}var Zv=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return hf(t,e),t}(Error),eg=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Cv.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Jv).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=Jv(n),o=Jv(r||new e(Yv));return Xv(i)&&Xv(o)?new e((function(e){return t(e)?i.request(e)||Cv.of():o.request(e)||Cv.of()})):new e((function(e,n){return t(e)?i.request(e,n)||Cv.of():o.request(e,n)||Cv.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=ff({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=ff(ff({},n),"function"==typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return ff({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?$v(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new zm("illegal argument: ".concat(i)):new zm(24)}return e}(t))))||Cv.of()},e.concat=function(t,n){var r=Jv(t);if(Xv(r))return __DEV__&&Bm.warn(new Zv("You are calling concat on a terminating link, which will have no effect",r)),r;var i=Jv(n);return Xv(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||Cv.of()}))||Cv.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||Cv.of()}))||Cv.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(Yv)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new zm("request is not implemented"):new zm(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),tg=eg.execute;function ng(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}class rg{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class ig{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const og={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ag=new Set(Object.keys(og));function sg(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&ag.has(t)}let lg,ug;var cg;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(lg||(lg={})),(cg=ug||(ug={})).NAME="Name",cg.DOCUMENT="Document",cg.OPERATION_DEFINITION="OperationDefinition",cg.VARIABLE_DEFINITION="VariableDefinition",cg.SELECTION_SET="SelectionSet",cg.FIELD="Field",cg.ARGUMENT="Argument",cg.FRAGMENT_SPREAD="FragmentSpread",cg.INLINE_FRAGMENT="InlineFragment",cg.FRAGMENT_DEFINITION="FragmentDefinition",cg.VARIABLE="Variable",cg.INT="IntValue",cg.FLOAT="FloatValue",cg.STRING="StringValue",cg.BOOLEAN="BooleanValue",cg.NULL="NullValue",cg.ENUM="EnumValue",cg.LIST="ListValue",cg.OBJECT="ObjectValue",cg.OBJECT_FIELD="ObjectField",cg.DIRECTIVE="Directive",cg.NAMED_TYPE="NamedType",cg.LIST_TYPE="ListType",cg.NON_NULL_TYPE="NonNullType",cg.SCHEMA_DEFINITION="SchemaDefinition",cg.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",cg.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",cg.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",cg.FIELD_DEFINITION="FieldDefinition",cg.INPUT_VALUE_DEFINITION="InputValueDefinition",cg.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",cg.UNION_TYPE_DEFINITION="UnionTypeDefinition",cg.ENUM_TYPE_DEFINITION="EnumTypeDefinition",cg.ENUM_VALUE_DEFINITION="EnumValueDefinition",cg.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",cg.DIRECTIVE_DEFINITION="DirectiveDefinition",cg.SCHEMA_EXTENSION="SchemaExtension",cg.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",cg.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",cg.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",cg.UNION_TYPE_EXTENSION="UnionTypeExtension",cg.ENUM_TYPE_EXTENSION="EnumTypeExtension",cg.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension";const dg=Object.freeze({});function hg(e,t,n=og){const r=new Map;for(const e of Object.values(ug))r.set(e,fg(t,e));let i,o,a,s,l=Array.isArray(e),u=[e],c=-1,d=[];const h=[],f=[];let p=e;do{c++;const e=c===u.length,y=e&&0!==d.length;if(e){if(a=0===f.length?void 0:h[h.length-1],o=s,s=f.pop(),y)if(l){o=o.slice();let e=0;for(const[t,n]of d){const r=t-e;null===n?(o.splice(r,1),e++):o[r]=n}}else{o=Object.defineProperties({},Object.getOwnPropertyDescriptors(o));for(const[e,t]of d)o[e]=t}c=i.index,u=i.keys,d=i.edits,l=i.inArray,i=i.prev}else{if(a=s?l?c:u[c]:void 0,o=s?s[a]:p,null==o)continue;s&&h.push(a)}let _;if(!Array.isArray(o)){var m,v;sg(o)||iv(!1,`Invalid AST Node: ${nv(o)}.`);const n=e?null===(m=r.get(o.kind))||void 0===m?void 0:m.leave:null===(v=r.get(o.kind))||void 0===v?void 0:v.enter;if(_=null==n?void 0:n.call(t,o,a,s,h,f),_===dg)break;if(!1===_){if(!e){h.pop();continue}}else if(void 0!==_&&(d.push([a,_]),!e)){if(!sg(_)){h.pop();continue}o=_}}var g;void 0===_&&y&&d.push([a,o]),e?h.pop():(i={inArray:l,index:c,keys:u,edits:d,prev:i},l=Array.isArray(o),u=l?o:null!==(g=n[o.kind])&&void 0!==g?g:[],c=-1,d=[],s&&f.push(s),s=o)}while(void 0!==i);return 0!==d.length&&(p=d[d.length-1][1]),p}function fg(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}var pg=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=__DEV__?new zm("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new zm(21);throw r.parseError=e,r}return n},mg=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},vg=Object.prototype.hasOwnProperty;function gg(e){return 9===e||32===e}function yg(e){return e>=48&&e<=57}function _g(e){return e>=97&&e<=122||e>=65&&e<=90}function bg(e){return _g(e)||95===e}function wg(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let t=0;t<e.length;++t){var o;const a=e[t],s=kg(a);s!==a.length&&(r=null!==(o=r)&&void 0!==o?o:t,i=t,0!==t&&s<n&&(n=s))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function kg(e){let t=0;for(;t<e.length&&gg(e.charCodeAt(t));)++t;return t}const Eg=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Sg(e){return Tg[e.charCodeAt(0)]}const Tg=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function Cg(e){return hg(e,xg)}const xg={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Ig(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Og("(",Ig(e.variableDefinitions,", "),")"),n=Ig([e.operation,Ig([e.name,t]),Ig(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Og(" = ",n)+Og(" ",Ig(r," "))},SelectionSet:{leave:({selections:e})=>Ng(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=Og("",e,": ")+t;let a=o+Og("(",Ig(n,", "),")");return a.length>80&&(a=o+Og("(\n",Rg(Ig(n,"\n")),"\n)")),Ig([a,Ig(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Og(" ",Ig(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>Ig(["...",Og("on ",e),Ig(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${Og("(",Ig(n,", "),")")} on ${t} ${Og("",Ig(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||gg(e.charCodeAt(0)))),a=n.endsWith('\\"""'),s=e.endsWith('"')&&!a,l=e.endsWith("\\"),u=s||l,c=!i||e.length>70||u||o||a;let d="";const h=i&&gg(e.charCodeAt(0));return(c&&!h||o)&&(d+="\n"),d+=n,(c||u)&&(d+="\n"),'"""'+d+'"""'}(e):`"${e.replace(Eg,Sg)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Ig(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Ig(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Og("(",Ig(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Og("",e,"\n")+Ig(["schema",Ig(t," "),Ng(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Og("",e,"\n")+Ig(["scalar",t,Ig(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Og("",e,"\n")+Ig(["type",t,Og("implements ",Ig(n," & ")),Ig(r," "),Ng(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>Og("",e,"\n")+t+(Pg(n)?Og("(\n",Rg(Ig(n,"\n")),"\n)"):Og("(",Ig(n,", "),")"))+": "+r+Og(" ",Ig(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>Og("",e,"\n")+Ig([t+": "+n,Og("= ",r),Ig(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Og("",e,"\n")+Ig(["interface",t,Og("implements ",Ig(n," & ")),Ig(r," "),Ng(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>Og("",e,"\n")+Ig(["union",t,Ig(n," "),Og("= ",Ig(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>Og("",e,"\n")+Ig(["enum",t,Ig(n," "),Ng(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Og("",e,"\n")+Ig([t,Ig(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>Og("",e,"\n")+Ig(["input",t,Ig(n," "),Ng(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>Og("",e,"\n")+"directive @"+t+(Pg(n)?Og("(\n",Rg(Ig(n,"\n")),"\n)"):Og("(",Ig(n,", "),")"))+(r?" repeatable":"")+" on "+Ig(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Ig(["extend schema",Ig(e," "),Ng(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Ig(["extend scalar",e,Ig(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ig(["extend type",e,Og("implements ",Ig(t," & ")),Ig(n," "),Ng(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>Ig(["extend interface",e,Og("implements ",Ig(t," & ")),Ig(n," "),Ng(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>Ig(["extend union",e,Ig(t," "),Og("= ",Ig(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>Ig(["extend enum",e,Ig(t," "),Ng(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>Ig(["extend input",e,Ig(t," "),Ng(n)]," ")}};function Ig(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function Ng(e){return Og("{\n",Rg(Ig(e,"\n")),"\n}")}function Og(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Rg(e){return Og("  ",e.replace(/\n/g,"\n  "))}function Pg(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Ag={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Dg=function(e,t){return t(e)};function Lg(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach((function(e){i=ff(ff(ff({},i),e.options),{headers:ff(ff({},i.headers),Mg(e.headers))}),e.credentials&&(i.credentials=e.credentials),o=ff(ff({},o),e.http)}));var a=e.operationName,s=e.extensions,l=e.variables,u=e.query,c={operationName:a,variables:l};return o.includeExtensions&&(c.extensions=s),o.includeQuery&&(c.query=t(u,Cg)),{options:i,body:c}}function Mg(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function Fg(e){return new Cv((function(t){t.error(e)}))}var Vg=Km((function(){return fetch})),jg=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,o=void 0===i?Dg:i,a=e.includeExtensions,s=e.useGETForQueries,l=e.includeUnusedVariables,u=void 0!==l&&l,c=pf(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw __DEV__?new zm("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new zm(20)}(r||Vg);var d={http:{includeExtensions:a},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new eg((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),a={};if(i.clientAwareness){var l=i.clientAwareness,c=l.name,h=l.version;c&&(a["apollographql-client-name"]=c),h&&(a["apollographql-client-version"]=h)}var f,p=ff(ff({},a),i.headers),m={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},v=Lg(e,o,Ag,d,m),g=v.options,y=v.body;if(y.variables&&!u){var _=new Set(Object.keys(y.variables));hg(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&_.delete(e.name.value)}}),_.size&&(y.variables=ff({},y.variables),_.forEach((function(e){delete y.variables[e]})))}if(!g.signal){var b=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),w=b.controller,k=b.signal;(f=w)&&(g.signal=k)}if(s&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(g.method="GET"),"GET"===g.method){var E=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=pg(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=pg(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var a="",s=e,l=e.indexOf("#");-1!==l&&(a=e.substr(l),s=e.substr(0,l));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+n.join("&")+a}}(t,y),S=E.newURI,T=E.parseError;if(T)return Fg(T);t=S}else try{g.body=pg(y,"Payload")}catch(T){return Fg(T)}return new Cv((function(n){var i;return(r||Km((function(){return fetch}))||Vg)(t,g).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&mg(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||vg.call(t,"data")||vg.call(t,"errors")||mg(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))}(t).request)||this;return n.options=t,n}return hf(t,e),t}(eg),Ug=Object.prototype,qg=Ug.toString,zg=Ug.hasOwnProperty,Bg=Function.prototype.toString,Wg=new Map;function $g(e,t){try{return Hg(e,t)}finally{Wg.clear()}}function Hg(e,t){if(e===t)return!0;var n,r,i,o=qg.call(e);if(o!==qg.call(t))return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(Yg(e,t))return!0;var a=Qg(e),s=Qg(t),l=a.length;if(l!==s.length)return!1;for(var u=0;u<l;++u)if(!zg.call(t,a[u]))return!1;for(u=0;u<l;++u){var c=a[u];if(!Hg(e[c],t[c]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(Yg(e,t))return!0;for(var d=e.entries(),h="[object Map]"===o;;){var f=d.next();if(f.done)break;var p=f.value,m=p[0],v=p[1];if(!t.has(m))return!1;if(h&&!Hg(v,t.get(m)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var g=e.byteLength;if(g===t.byteLength)for(;g--&&e[g]===t[g];);return-1===g;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var y=Bg.call(e);return y===Bg.call(t)&&(r=Gg,!((i=(n=y).length-r.length)>=0&&n.indexOf(r,i)===i))}return!1}function Qg(e){return Object.keys(e).filter(Kg,e)}function Kg(e){return void 0!==this[e]}var Gg="{ [native code] }";function Yg(e,t){var n=Wg.get(e);if(n){if(n.has(t))return!0}else Wg.set(e,n=new Set);return n.add(t),!1}var Jg,Xg,Zg=function(){return Object.create(null)},ey=Array.prototype,ty=ey.forEach,ny=ey.slice,ry=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=Zg),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return ty.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(ny.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}(),iy="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),oy="function"==typeof WeakSet,ay="function"==typeof Symbol&&"function"==typeof Symbol.for,sy=function(){function e(){this.known=new(oy?WeakSet:Set),this.pool=new ry(iy),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return xv(e)&&this.known.has(e)},e.prototype.pass=function(e){if(xv(e)){var t=function(e){return xv(e)?Array.isArray(e)?e.slice(0):ff({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(xv(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(s=this.pool.lookupArray(r)).array||(this.known.add(s.array=r),__DEV__&&Object.freeze(r)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],a=this.sortedKeys(e);o.push(a.json);var s,l=o.length;if(a.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(s=this.pool.lookupArray(o)).object){var u=s.object=Object.create(i);this.known.add(u),a.sorted.forEach((function(e,t){u[e]=o[l+t]})),__DEV__&&Object.freeze(u)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),ly=Object.assign((function(e){if(xv(e)){void 0===Jg&&uy();var t=Jg.admit(e),n=Xg.get(t);return void 0===n&&Xg.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:uy});function uy(){Jg=new sy,Xg=new(iy?WeakMap:Map)}function cy(e,t,n){return new Cv((function(r){var i=r.next,o=r.error,a=r.complete,s=0,l=!1,u={then:function(e){return new Promise((function(t){return t(e())}))}};function c(e,t){return e?function(t){++s;var n=function(){return e(t)};u=u.then(n,n).then((function(e){--s,i&&i.call(r,e),l&&d.complete()}),(function(e){throw--s,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var d={next:c(t,i),error:c(n,o),complete:function(){l=!0,s||a&&a.call(r)}},h=e.subscribe(d);return function(){return h.unsubscribe()}}))}function dy(e){return e.errors&&e.errors.length>0||!1}function hy(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var fy={kind:"Field",name:{kind:"Name",value:"__typename"}};function py(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&py(t[e.name.value],t)}))}function my(e){return py(Wv(e)||function(e){__DEV__?Bm("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):Bm("Document"===e.kind,48),__DEV__?Bm(e.definitions.length<=1,"Fragment must have exactly one definition."):Bm(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?Bm("FragmentDefinition"===t.kind,"Must be a fragment definition."):Bm("FragmentDefinition"===t.kind,50),t}(e),Nv(Hv(e)))?null:e}function vy(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function gy(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],a=my(hg(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(vy(e)))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&by(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(vy(e)(t))return null}}}));return a&&hy(r,(function(e){return!!e.name&&!n[e.name]})).length&&(a=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return my(hg(t,{OperationDefinition:{enter:function(t){return ff(ff({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,a)),a&&hy(o,(function(e){return!!e.name&&!i[e.name]})).length&&(a=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return my(hg(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,a)),a}var yy=Object.assign((function(e){return hg(Bv(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some((function(e){return qv(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(qv(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return ff(ff({},e),{selections:yf(yf([],r,!0),[fy],!1)})}}}}})}),{added:function(e){return e===fy}}),_y={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&Bm.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function by(e){var t=[];return e.selections.forEach((function(e){(qv(e)||zv(e))&&e.selectionSet?by(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function wy(e){return"query"===Kv(e).operation?e:hg(e,{OperationDefinition:{enter:function(e){return ff(ff({},e),{operation:"query"})}}})}function ky(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?Bm(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):Bm(n&&1===n.length,38);var i=n[0];__DEV__?Bm(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):Bm(i.name&&"if"===i.name.value,39);var o=i.value;__DEV__?Bm(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):Bm(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:i})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?Bm(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):Bm(void 0!==i,37)):i=r.value.value,"skip"===n.name.value?!i:i}))}function Ey(e,t){return function(e){var t=[];return hg(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function Sy(e){return e&&Ey(["client"],e)&&Ey(["export"],e)}var Ty=new Map;function Cy(e){var t=Ty.get(e)||1;return Ty.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function xy(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function Iy(e){function t(t){Object.defineProperty(e,t,{value:Cv})}return ay&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Ny(e){return e&&"function"==typeof e.then}var Oy=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],xy(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),xy(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?Ny(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),xy(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new Cv(t)]),Ny(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return hf(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(Cv);function Ry(e){return Array.isArray(e)&&e.length>0}Iy(Oy);var Py,Ay=function(e){function t(n){var r,i,o=n.graphQLErrors,a=n.clientErrors,s=n.networkError,l=n.errorMessage,u=n.extraInfo,c=e.call(this,l)||this;return c.graphQLErrors=o||[],c.clientErrors=a||[],c.networkError=s||null,c.message=l||(i="",(Ry((r=c).graphQLErrors)||Ry(r.clientErrors))&&(r.graphQLErrors||[]).concat(r.clientErrors||[]).forEach((function(e){var t=e?e.message:"Error message not found.";i+="".concat(t,"\n")})),r.networkError&&(i+="".concat(r.networkError.message,"\n")),i=i.replace(/\n$/,"")),c.extraInfo=u,c.__proto__=t.prototype,c}return hf(t,e),t}(Error);function Dy(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Py||(Py={}));var Ly=Object.prototype.toString;function My(e){return Fy(e)}function Fy(e,t){switch(Ly.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Fy(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Fy(e[n],t)})),r;default:return e}}var Vy=Object.assign,jy=Object.hasOwnProperty,Uy=!1,qy=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=zy)}catch(e){}var n=!o.observers.size;o.observers.add(e);var r=o.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=i,o.queryId=r.queryId||n.generateQueryId();var a=Wv(i.query);return o.queryName=a&&a.name&&a.name.value,o.initialFetchPolicy=i.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return hf(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Py.ready,r=ff(ff({},t),{loading:Dy(n),networkStatus:n}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(r.data=a.result),$g(r.data,{})&&(r.data=void 0),a.complete?(delete r.partial,!a.complete||r.networkStatus!==Py.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=Py.ready,r.loading=!1)):r.partial=!0,!__DEV__||a.complete||this.options.partialRefetch||r.loading||r.data||r.error||By(a.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!$g(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||$g(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="standby"===r||"cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&jy.call(e,"variables")){var i=Qv(this.options.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&Bm.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!$g(this.options.variables,e)&&(n.variables=this.options.variables=ff(ff({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Py.refetch)},t.prototype.fetchMore=function(e){var t=this,n=ff(ff({},e.query?e:ff(ff(ff({},this.options),e),{variables:ff(ff({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Py.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,Py.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?(__DEV__&&!Uy&&(__DEV__&&Bm.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Uy=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&Bm.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return $g(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Py.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?Bm(n,"Attempted to start a polling query without a polling interval."):Bm(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Dy(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"network-only"},Py.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=ff(ff({},this.last),{result:this.queryManager.assumeImmutableResults?e:My(e),variables:t}),Ry(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Py.refetch||t===Py.fetchMore||t===Py.poll,i=this.options.variables,o=r?ng(this.options,e):Vy(this.options,ng(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!$g(e.variables,i)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Py.setVariables)));var a=o.variables&&ff({},o.variables),s=this.fetch(o,t),l={next:function(e){n.reportResult(e,a)},error:function(e){n.reportError(e,a)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=s,this.observer=l),s.addObserver(l),s.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),xy(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=ff(ff({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Py.error,loading:!1});this.updateLastResult(n,t),xy(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(Cv);function zy(e){__DEV__&&Bm.error("Unhandled error",e.message,e.stack)}function By(e){__DEV__&&e&&__DEV__&&Bm.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}Iy(qy);var Wy=Object.prototype.hasOwnProperty;function $y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hy(e)}function Hy(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Ky,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var Qy=function(e,t,n){return this.merge(e[n],t[n])},Ky=function(){function e(e){void 0===e&&(e=Qy),this.reconciler=e,this.isObject=xv,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return xv(t)&&xv(e)?(Object.keys(t).forEach((function(i){if(Wy.call(e,i)){var o=e[i];if(t[i]!==o){var a=n.reconciler.apply(n,yf([e,t,i],r,!1));a!==o&&((e=n.shallowCopyForMerge(e))[i]=a)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(xv(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):ff({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),Gy=null,Yy={},Jy=1,Xy="@wry/context:Slot",Zy=Array,e_=Zy[Xy]||function(){var e=function(){function e(){this.id=["slot",Jy++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=Gy;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Yy)break;return e!==Gy&&(Gy.slots[this.id]=t),!0}return Gy&&(Gy.slots[this.id]=Yy),!1},e.prototype.getValue=function(){if(this.hasValue())return Gy.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),a=Gy;Gy={parent:a,slots:o};try{return t.apply(r,n)}finally{Gy=a}},e.bind=function(e){var t=Gy;return function(){var n=Gy;try{return Gy=t,e.apply(this,arguments)}finally{Gy=n}}},e.noContext=function(e,t,n){if(!Gy)return e.apply(n,t);var r=Gy;try{return Gy=null,e.apply(n,t)}finally{Gy=r}},e}();try{Object.defineProperty(Zy,Xy,{value:Zy[Xy]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function t_(){}e_.bind,e_.noContext;var n_,r_=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=t_),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),i_=new e_,o_=Object.prototype.hasOwnProperty,a_=void 0===(n_=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:n_;function s_(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var l_=[];function u_(e,t){if(!e)throw new Error(t||"assertion failure")}function c_(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var d_=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!p_(this))return h_(this),this.value[0]},e.prototype.recompute=function(e){return u_(!this.recomputing,"already recomputing"),h_(this),p_(this)?function(e,t){return w_(e),i_.withValue(e,f_,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{s_(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,p_(e)||v_(e)}(e),c_(e.value)}(this,e):c_(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,m_(this),s_(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),w_(this),g_(this,(function(t,n){t.setDirty(),k_(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=l_.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(a_(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),l_.push(this.deps),this.deps=null)},e.count=0,e}();function h_(e){var t=i_.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),p_(e)?y_(t,e):__(t,e),t}function f_(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function p_(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function m_(e){g_(e,y_)}function v_(e){g_(e,__)}function g_(e,t){var n=e.parents.size;if(n)for(var r=a_(e.parents),i=0;i<n;++i)t(r[i],e)}function y_(e,t){u_(e.childValues.has(t)),u_(p_(t));var n=!p_(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=l_.pop()||new Set;e.dirtyChildren.add(t),n&&m_(e)}function __(e,t){u_(e.childValues.has(t)),u_(!p_(t));var n=e.childValues.get(t);0===n.length?e.childValues.set(t,t.value.slice(0)):function(e,t){var n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}(n,t.value)||e.setDirty(),b_(e,t),p_(e)||v_(e)}function b_(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(l_.length<100&&l_.push(n),e.dirtyChildren=null))}function w_(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){k_(e,n)})),e.forgetDeps(),u_(null===e.dirtyChildren)}function k_(e,t){t.parents.delete(e),e.childValues.delete(t),b_(e,t)}var E_={setDirty:!0,dispose:!0,forget:!0};function S_(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=i_.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(s_(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&o_.call(E_,n)?n:"setDirty";a_(r).forEach((function(e){return e[i]()})),t.delete(e),s_(r)}},r}function T_(){var e=new ry("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}T_();var C_=new Set;function x_(e,t){void 0===t&&(t=Object.create(null));var n=new r_(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||T_(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var a=n.get(o);a||(n.set(o,a=new d_(e)),a.subscribe=t.subscribe,a.forget=function(){return n.delete(o)});var s=a.recompute(Array.prototype.slice.call(arguments));return n.set(o,a),C_.add(n),i_.hasValue()||(C_.forEach((function(e){return e.clean()})),C_.clear()),s};function a(e){var t=n.get(e);t&&t.setDirty()}function s(e){var t=n.get(e);if(t)return t.peek()}function l(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=a,o.dirty=function(){a(i.apply(null,arguments))},o.peekKey=s,o.peek=function(){return s(i.apply(null,arguments))},o.forgetKey=l,o.forget=function(){return l(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var I_=new e_,N_=new WeakMap;function O_(e){var t=N_.get(e);return t||N_.set(e,t={vars:new Set,dep:S_()}),t}function R_(e){O_(e).vars.forEach((function(t){return t.forgetCache(e)}))}function P_(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){O_(e).dep.dirty(r),A_(e)}));var a=Array.from(n);n.clear(),a.forEach((function(t){return t(e)}))}}else{var s=I_.getValue();s&&(i(s),O_(s).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),O_(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function A_(e){e.broadcastWatches&&e.broadcastWatches()}var D_=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=$y(t.resolvers,e)})):this.resolvers=$y(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return mf(this,void 0,void 0,(function(){return vf(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,a).then((function(e){return ff(ff({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Ey(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){Bv(e);var t=gy([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=hg(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return qv(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return ff(ff({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),mf(this,void 0,void 0,(function(){return vf(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return ff(ff({},t),e.exportedVariables)}))]:[2,ff({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return hg(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return dg}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:wy(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),mf(this,void 0,void 0,(function(){var a,s,l,u,c,d,h,f,p;return vf(this,(function(m){return a=Kv(e),s=Hv(e),l=Nv(s),u=a.operation,c=u?u.charAt(0).toUpperCase()+u.slice(1):"Query",h=(d=this).cache,f=d.client,p={fragmentMap:l,context:ff(ff({},n),{cache:h,client:f}),variables:r,fragmentMatcher:i,defaultOperationType:c,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return mf(this,void 0,void 0,(function(){var r,i,o,a,s,l=this;return vf(this,(function(u){return r=n.fragmentMap,i=n.context,o=n.variables,a=[t],s=function(e){return mf(l,void 0,void 0,(function(){var s,l;return vf(this,(function(u){return ky(e,o)?qv(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&a.push(((n={})[jv(e)]=t,n))}))]:(zv(e)?s=e:(s=r[e.name.value],__DEV__?Bm(s,"No fragment named ".concat(e.name.value)):Bm(s,9)),s&&s.typeCondition&&(l=s.typeCondition.name.value,n.fragmentMatcher(t,l,i))?[2,this.resolveSelectionSet(s.selectionSet,t,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(s)).then((function(){return Hy(a)}))]}))}))},e.prototype.resolveField=function(e,t,n){return mf(this,void 0,void 0,(function(){var r,i,o,a,s,l,u,c,d,h=this;return vf(this,(function(f){return r=n.variables,i=e.name.value,o=jv(e),a=i!==o,s=t[o]||t[i],l=Promise.resolve(s),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(u=t.__typename||n.defaultOperationType,(c=this.resolvers&&this.resolvers[u])&&(d=c[a?i:o])&&(l=Promise.resolve(I_.withValue(this.cache,d,[t,Vv(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,l.then((function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),L_=new(iy?WeakMap:Map);function M_(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return L_.set(e,(L_.get(e)+1)%1e15),n.apply(this,arguments)})}function F_(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var V_=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;L_.has(n)||(L_.set(n,0),M_(n,"evict"),M_(n,"modify"),M_(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Py.loading;return this.variables&&this.networkStatus!==Py.loading&&!$g(this.variables,e.variables)&&(t=Py.setVariables),$g(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){F_(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&$g(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||$g(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;F_(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Dy(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=ff(ff({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&$g(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===L_.get(this.cache)&&$g(t,n.variables)&&$g(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=Ry(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(j_(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(r.shouldWrite(e,t.variables))i.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:L_.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),a=i.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(a,o),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Py.ready},e.prototype.markError=function(e){return this.networkStatus=Py.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function j_(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!dy(e);return!r&&n&&e.data&&(r=!0),r}var U_=Object.prototype.hasOwnProperty,q_=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,a=e.ssrMode,s=void 0!==a&&a,l=e.clientAwareness,u=void 0===l?{}:l,c=e.localState,d=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(iy?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=u,this.localState=c||new D_({cache:t}),this.ssrMode=s,this.assumeImmutableResults=!!d,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new zm("QueryManager stopped while query was in flight"):new zm(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,a=void 0===o?[]:o,s=e.awaitRefetchQueries,l=void 0!==s&&s,u=e.update,c=e.onQueryUpdated,d=e.errorPolicy,h=void 0===d?"none":d,f=e.fetchPolicy,p=void 0===f?"network-only":f,m=e.keepRootFields,v=e.context;return mf(this,void 0,void 0,(function(){var e,o,s;return vf(this,(function(d){switch(d.label){case 0:return __DEV__?Bm(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):Bm(t,12),__DEV__?Bm("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):Bm("network-only"===p||"no-cache"===p,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,v)]:[3,2];case 1:n=d.sent(),d.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:p,errorPolicy:h,context:v,updateQueries:i,update:u,keepRootFields:m}),this.broadcastQueries(),s=this,[2,new Promise((function(d,f){return cy(s.getObservableFromLink(t,ff(ff({},v),{optimisticResponse:r}),n,!1),(function(d){if(dy(d)&&"none"===h)throw new Ay({graphQLErrors:d.errors});o&&(o.loading=!1,o.error=null);var f=ff({},d);return"function"==typeof a&&(a=a(f)),"ignore"===h&&dy(f)&&delete f.errors,s.markMutationResult({mutationId:e,result:f,document:t,variables:n,fetchPolicy:p,errorPolicy:h,context:v,update:u,updateQueries:i,awaitRefetchQueries:l,refetchQueries:a,removeOptimistic:r?e:void 0,onQueryUpdated:c,keepRootFields:m})})).subscribe({next:function(e){s.broadcastQueries(),d(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&s.cache.removeOptimistic(e),s.broadcastQueries(),f(t instanceof Ay?t:new Ay({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&j_(r,e.errorPolicy)){i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var a=e.updateQueries;a&&this.queries.forEach((function(e,o){var s=e.observableQuery,l=s&&s.queryName;if(l&&U_.call(a,l)){var u=a[l],c=n.queries.get(o),d=c.document,h=c.variables,f=t.diff({query:d,variables:h,returnPartialData:!0,optimistic:!1}),p=f.result;if(f.complete&&p){var m=u(p,{mutationResult:r,queryName:d&&$v(d)||void 0,queryVariables:h});m&&i.push({result:m,dataId:"ROOT_QUERY",query:d,variables:h})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var s=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var a=e.update;if(a){if(!o){var s=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});s.complete&&(r=ff(ff({},r),{data:s.result}))}a(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return s.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(s).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(ff(ff({},t),{result:{data:r}}),e)}catch(e){__DEV__&&Bm.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),gy([_y],Bv(t))),o=this.localState.clientQuery(r),a=i&&this.localState.serverQuery(i),s={document:r,hasClientExports:Sy(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:a,defaultVars:Gv(Wv(r)),asQuery:ff(ff({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?ff(ff({},e),{operation:"query"}):e}))})},l=function(e){e&&!n.has(e)&&n.set(e,s)};l(e),l(r),l(o),l(a)}return n.get(e)},e.prototype.getVariables=function(e,t){return ff(ff({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=ff(ff({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new V_(this),n=new qy({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?Bm(e.query,"query option is required. You must specify your GraphQL document in the query option."):Bm(e.query,14),__DEV__?Bm("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):Bm("Document"===e.query.kind,15),__DEV__?Bm(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):Bm(!e.returnPartialData,16),__DEV__?Bm(!e.pollInterval,"pollInterval option only supported on watchQuery."):Bm(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new zm("Store reset while query was in flight (not completed in link chain)"):new zm(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Py.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):xv(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):xv(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,a=t.document;if(o){if("all"===e)return void n.set(i,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&r.has(s)||a&&r.has(a))&&(n.set(i,o),s&&r.set(s,!0),a&&r.set(a,!0))}})),i.size&&i.forEach((function(e){var r=Cy("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new qy({queryManager:t,queryInfo:i,options:ff(ff({},e),{fetchPolicy:"network-only"})});Bm(o.queryId===r),i.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&Bm.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,a=e.context,s=void 0===a?{}:a;n=this.transform(n).document,o=this.getVariables(n,o);var l=function(e){return t.getObservableFromLink(n,s,e).map((function(o){if("no-cache"!==r&&(j_(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),dy(o))throw new Ay({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var u=this.localState.addExportedVariables(n,o,s).then(l);return new Cv((function(e){var t=null;return u.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return l(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o,a=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var s=this.transform(e).serverQuery;if(s){var l=this.inFlightLinkObservables,u=this.link,c={query:s,variables:n,operationName:$v(s)||void 0,context:this.prepareContext(ff(ff({},t),{forceFetch:!r}))};if(t=c.context,r){var d=l.get(s)||new Map;l.set(s,d);var h=ly(n);if(!(o=d.get(h))){var f=new Oy([tg(u,c)]);d.set(h,o=f),f.cleanup((function(){d.delete(h)&&d.size<1&&l.delete(s)}))}}else o=new Oy([tg(u,c)])}else o=new Oy([Cv.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=cy(o,(function(e){return a.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return cy(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=Ry(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new Ay({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var a={data:i.data,loading:!1,networkStatus:e.networkStatus||Py.ready};return o&&"ignore"!==n.errorPolicy&&(a.errors=i.errors),a}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Ay({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Py.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),a=this.getQuery(e),s=t.fetchPolicy,l=void 0===s?"cache-first":s,u=t.errorPolicy,c=void 0===u?"none":u,d=t.returnPartialData,h=void 0!==d&&d,f=t.notifyOnNetworkStatusChange,p=void 0!==f&&f,m=t.context,v=void 0===m?{}:m,g=Object.assign({},t,{query:i,variables:o,fetchPolicy:l,errorPolicy:c,returnPartialData:h,notifyOnNetworkStatusChange:p,context:v}),y=function(e){return g.variables=e,r.fetchQueryByPolicy(a,g,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return _.cancel(e)}))}));var _=new Oy(this.transform(g.query).hasClientExports?this.localState.addExportedVariables(g.query,g.variables,g.context).then(y):y(g.variables));return _.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"==typeof r?r.call(e,n):r)}(t)})),_},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,a=e.removeOptimistic,s=void 0===a?o?Cy("refetchQueries"):void 0:a,l=e.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){u.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var c=new Map;return n&&this.cache.batch({update:n,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof V_&&e.watcher.observableQuery;if(r){if(l){u.delete(r.queryId);var i=l(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&c.set(r,i),i}null!==l&&u.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),u.size&&u.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,a=e.diff;if(l){if(!a){var s=i.queryInfo;s.reset(),a=s.getDiff()}r=l(i,a,o)}l&&!0!==r||(r=i.refetch()),!1!==r&&c.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),s&&this.cache.removeOptimistic(s),c},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,o=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,l=t.errorPolicy,u=t.returnPartialData,c=t.context,d=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var f=function(){return e.getDiff(o)},p=function(t,n){void 0===n&&(n=e.networkStatus||Py.loading);var a=t.result;!__DEV__||u||$g(a,{})||By(t.missing);var s=function(e){return Cv.of(ff({data:e,loading:Dy(n),networkStatus:n},t.complete?null:{partial:!0}))};return a&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:a},context:c,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):s(a)},m="no-cache"===a?0:n===Py.refetch&&"merge"!==s?1:2,v=function(){return r.getResultsFromLink(e,m,{variables:o,context:c,fetchPolicy:a,errorPolicy:l})},g=d&&"number"==typeof h&&h!==n&&Dy(n);switch(a){default:case"cache-first":return(y=f()).complete?[p(y,e.markReady())]:u||g?[p(y),v()]:[v()];case"cache-and-network":var y;return(y=f()).complete||u||g?[p(y),v()]:[v()];case"cache-only":return[p(f(),e.markReady())];case"network-only":return g?[p(f()),v()]:[v()];case"no-cache":return g?[p(e.getDiff()),v()]:[v()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new V_(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return ff(ff({},t),{clientAwareness:this.clientAwareness})},e}(),z_=!1;function B_(e,t){return ng(e,t,t.variables&&{variables:ff(ff({},e.variables),t.variables)})}var W_=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,a=e.ssrMode,s=void 0!==a&&a,l=e.ssrForceFetchDelay,u=void 0===l?0:l,c=e.connectToDevTools,d=void 0===c?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:c,h=e.queryDeduplication,f=void 0===h||h,p=e.defaultOptions,m=e.assumeImmutableResults,v=void 0!==m&&m,g=e.resolvers,y=e.typeDefs,_=e.fragmentMatcher,b=e.name,w=e.version,k=e.link;if(k||(k=n?new jg({uri:n,credentials:r,headers:i}):eg.empty()),!o)throw __DEV__?new zm("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new zm(7);if(this.link=k,this.cache=o,this.disableNetworkFetches=s||u>0,this.queryDeduplication=f,this.defaultOptions=p||{},this.typeDefs=y,u&&setTimeout((function(){return t.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),d&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!z_&&__DEV__&&(z_=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var E=window.navigator,S=E&&E.userAgent,T=void 0;"string"==typeof S&&(S.indexOf("Chrome/")>-1?T="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":S.indexOf("Firefox/")>-1&&(T="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),T&&__DEV__&&Bm.log("Download the Apollo DevTools for a better development experience: "+T)}this.version="3.5.6",this.localState=new D_({cache:o,client:this,resolvers:g,fragmentMatcher:_}),this.queryManager=new q_({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:s,clientAwareness:{name:b,version:w},localState:this.localState,assumeImmutableResults:v,onBroadcast:d?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=B_(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=ff(ff({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=B_(this.defaultOptions.query,e)),__DEV__?Bm("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):Bm("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=ff(ff({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=B_(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return tg(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&Bm.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),$_=function(){function e(){this.getFragmentDoc=x_(Iv)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(ff(ff({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(ff(ff({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=pf(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=pf(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return null==i?r:(n.writeQuery(ff(ff({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return null==i?r:(n.writeFragment(ff(ff({},e),{data:i})),i)}})},e}(),H_=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function Q_(e){return __DEV__&&(t=e,(n=new Set([t])).forEach((function(e){xv(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){xv(e[t])&&n.add(e[t])}))}))),e;var t,n}var K_=Object.prototype.hasOwnProperty;function G_(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var Y_={dataIdFromObject:G_,addTypename:!0,resultCaching:!0,canonizeResults:!1};function J_(e){var t=e.canonizeResults;return void 0===t?Y_.canonizeResults:t}var X_=/^[_a-z][_0-9a-z]*/i;function Z_(e){var t=e.match(X_);return t?t[0]:e}function eb(e,t,n){return!!xv(t)&&(Array.isArray(t)?t.every((function(t){return eb(e,t,n)})):e.selections.every((function(e){if(qv(e)&&ky(e,n)){var r=jv(e);return K_.call(t,r)&&(!e.selectionSet||eb(e.selectionSet,t[r],n))}return!0})))}function tb(e){return xv(e)&&!Pv(e)&&!Array.isArray(e)}var nb=Object.create(null),rb=function(){return nb},ib=Object.create(null),ob=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Q_(Pv(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Pv(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Rv(e);if(Pv(e))return e;var r=n.policies.identify(e)[0];if(r){var i=Rv(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return ff({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),K_.call(this.data,e)){var n=this.data[e];if(n&&K_.call(n,t))return n[t]}return"__typename"===t&&K_.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof ub?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),K_.call(this.data,e)?this.data[e]:this instanceof ub?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;Pv(e)&&(e=e.__ref),Pv(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){__DEV__?Bm("string"==typeof n,"store.merge expects a string ID"):Bm("string"==typeof n,1);var a=new Ky(db).merge(i,o);if(this.data[n]=a,a!==i&&(delete this.refs[n],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=Z_(e);t===e||r.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||r instanceof ub||delete a[e]}})),!s.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==a.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,a=!0,s={DELETE:nb,INVALIDATE:ib,isReference:Pv,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Rv(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(l){var u=Z_(l),c=r[l];if(void 0!==c){var d="function"==typeof t?t:t[l]||t[u];if(d){var h=d===rb?nb:d(Q_(c),ff(ff({},s),{fieldName:u,storeFieldName:l,storage:n.getStorage(e,l)}));h===ib?n.group.dirty(e,l):(h===nb&&(h=void 0),h!==c&&(i[l]=h,o=!0,c=h))}void 0!==c&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof ub?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,a?((r={})[a]=rb,r):rb)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(K_.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof ub&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){K_.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&K_.call(e,n)||t.delete(n)})),e){var n=e.__META,r=pf(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof ub?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){K_.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof ub;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!K_.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){Pv(e)&&(t[e.__ref]=!0),xv(e)&&Object.keys(e).forEach((function(t){var n=e[t];xv(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),ab=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?S_():null,this.keyMaker=new ry(iy)},e.prototype.depend=function(e,t){if(this.d){this.d(sb(e,t));var n=Z_(t);n!==t&&this.d(sb(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(sb(e,t),"__exists"===t?"forget":"setDirty")},e}();function sb(e,t){return t+"#"+e}function lb(e,t){hb(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,a=e.call(this,n,new ab(i))||this;return a.stump=new cb(a),a.storageTrie=new ry(iy),o&&a.replace(o),a}return hf(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(ob||(ob={}));var ub=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return hf(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){$g(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return ff(ff({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return K_.call(this.data,t)?ff(ff({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(ob),cb=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new ab(t.group.caching,t.group))||this}return hf(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(ub);function db(e,t,n){var r=e[n],i=t[n];return $g(r,i)?r:i}function hb(e){return!!(e instanceof ob&&e.group.caching)}function fb(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var pb=function(){function e(e){var t=this;this.knownResults=new(iy?WeakMap:Map),this.config=ng(e,{addTypename:!1!==e.addTypename,canonizeResults:J_(e)}),this.canon=e.canon||new sy,this.executeSelectionSet=x_((function(e){var n,r=e.context.canonizeResults,i=fb(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?ff(ff({},o),{result:t.canon.admit(o.result)}):o:(lb(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:fb,makeCacheKey:function(e,t,n,r){if(hb(n.store))return n.store.makeCacheKey(e,Pv(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=x_((function(e){return lb(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(hb(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new sy},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,a=e.returnPartialData,s=void 0===a||a,l=e.canonizeResults,u=void 0===l?this.config.canonizeResults:l,c=this.config.cache.policies;o=ff(ff({},Gv(Qv(n))),o);var d,h=Rv(i),f=new Ky,p=this.executeSelectionSet({selectionSet:Kv(n).selectionSet,objectOrReference:h,enclosingRef:h,context:{store:t,query:n,policies:c,variables:o,varString:ly(o),canonizeResults:u,fragmentMap:Nv(Hv(n)),merge:function(e,t){return f.merge(e,t)}}});if(p.missing&&(d=[new H_(mb(p.missing),p.missing,n,o)],!s))throw d[0];return{result:p.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,n,r){if(hb(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(Pv(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var a,s=o.variables,l=o.policies,u=o.store.getFieldValue(r,"__typename"),c={};function d(e,t){var n;return e.missing&&(a=o.merge(a,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof u&&!l.rootIdsByTypename[u]&&(c={__typename:u});var h=new Set(n.selections);h.forEach((function(e){var n,f;if(ky(e,s))if(qv(e)){var p=l.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=jv(e);void 0===p?yy.added(e)||(a=o.merge(a,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(Pv(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Array.isArray(p)?p=d(t.executeSubSelectedArray({field:e,array:p,enclosingRef:i,context:o}),m):e.selectionSet?null!=p&&(p=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:p,enclosingRef:Pv(p)?p:i,context:o}),m)):o.canonizeResults&&(p=t.canon.pass(p)),void 0!==p&&(c=o.merge(c,((f={})[m]=p,f)))}else{var v=Ov(e,o.fragmentMap);v&&l.fragmentMatches(v,u)&&v.selectionSet.selections.forEach(h.add,h)}}));var f={result:c,missing:a},p=o.canonizeResults?this.canon.admit(f):Q_(f);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,a=e.context;function s(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:Array.isArray(e)?s(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:a}),t):r.selectionSet?s(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:Pv(e)?e:o,context:a}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){xv(n)&&(__DEV__?Bm(!Pv(n),"Missing selection set for object of type ".concat(function(e,t){return Pv(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):Bm(!Pv(n),5),Object.values(n).forEach(r.add,r))}))}}(a.store,r,e),e)})),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function mb(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var vb=Object.create(null);function gb(e){var t=JSON.stringify(e);return vb[t]||(vb[t]=Object.create(null))}function yb(e){var t=gb(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=bb(e,(function(e){var i=Eb(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&K_.call(t,e[0])&&(i=Eb(t,e,kb)),__DEV__?Bm(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):Bm(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function _b(e){var t=gb(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,a=bb(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return Eb(t,e)}else{var a=n.slice(1);if(i&&K_.call(i,a)){var s=e.slice(0);return s[0]=a,Eb(i,s)}}else if(r&&Ry(r.directives)){var l=n.slice(1),u=r.directives.find((function(e){return e.name.value===l})),c=u&&Vv(u,i);return c&&Eb(c,e.slice(1))}})),s=JSON.stringify(a);return(t||"{}"!==s)&&(o+=":"+s),o})}function bb(e,t){var n=new Ky;return wb(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var a=r.length-1;a>=0;--a)(i={})[r[a]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function wb(e){var t=gb(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){Array.isArray(t)?(wb(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Array.isArray(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function kb(e,t){return e[t]}function Eb(e,t,n){return n=n||kb,Sb(t.reduce((function e(t,r){return Array.isArray(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function Sb(e){return xv(e)?Array.isArray(e)?e.map(Sb):bb(Object.keys(e).sort(),(function(t){return Eb(e,t)})):e}function Tb(e){return void 0!==e.args?e.args:e.field?Vv(e.field,e.variables):null}Lv.setStringify(ly);var Cb=function(){},xb=function(e,t){return t.fieldName},Ib=function(e,t,n){return(0,n.mergeObjects)(e,t)},Nb=function(e,t){return t},Ob=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ff({dataIdFromObject:G_},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a=t&&t.storeObject||e,s=ff(ff({},t),{typename:i,storeObject:a,readField:t&&t.readField||function(){var e=Pb(arguments,a);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),l=i&&this.getTypePolicy(i),u=l&&l.keyFn||this.config.dataIdFromObject;u;){var c=u(e,s);if(!Array.isArray(c)){o=c;break}u=yb(c)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,a=r.subscriptionType,s=pf(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),a&&t.setRootTypename("Subscription",n),K_.call(t.toBeAdded,n)?t.toBeAdded[n].push(s):t.toBeAdded[n]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?Ib:!1===t?Nb:e.merge}a(r,t.merge),r.keyFn=!1===i?Cb:Array.isArray(i)?yb(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var s=i.keyArgs,l=i.read,u=i.merge;r.keyFn=!1===s?xb:Array.isArray(s)?_b(s):"function"==typeof s?s:r.keyFn,"function"==typeof l&&(r.read=l),a(r,u)}r.read&&r.merge&&(r.keyFn=r.keyFn||xb)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?Bm(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):Bm(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(X_);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!K_.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=pf(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],l=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},u=!(!n||!this.fuzzySubtypes.size),c=!1,d=0;d<s.length;++d){var h=s[d];if(h.has(o))return a.has(o)||(c&&__DEV__&&Bm.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),a.add(o)),!0;h.forEach(l),u&&d===s.length-1&&eb(e.selectionSet,n,r)&&(u=!1,c=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var a={typename:n,fieldName:r,field:e.field||null,variables:e.variables},s=Tb(e);o;){var l=o(s,a);if(!Array.isArray(l)){t=l||r;break}o=_b(l)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return Av(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return Av(r,n,i,t)}))),Lv(e.name.value,r,n)}(e.field,e.variables):Lv(r,Tb(e))),!1===t?r:r===Z_(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=Z_(i),a=t.store.getFieldValue(n,i),s=this.getFieldPolicy(e.typename,o,!1),l=s&&s.read;if(l){var u=Rb(this,n,e,t,t.store.getStorage(Pv(n)?n.__ref:n,i));return I_.withValue(this.cache,l,[a,u])}return a}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,a=n.typename,s=n.merge;return s===Ib?Ab(r.store)(e,t):s===Nb?t:(r.overwrite&&(e=void 0),s(e,t,Rb(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function Rb(e,t,n,r,i){var o=e.getStoreFieldName(n),a=Z_(o),s=n.variables||r.variables,l=r.store,u=l.toReference,c=l.canRead;return{args:Tb(n),field:n.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:Pv,toReference:u,storage:i,cache:e.cache,canRead:c,readField:function(){return e.readField(Pb(arguments,t,r),r)},mergeObjects:Ab(r.store)}}function Pb(e,t,n){var r,i,o,a=e[0],s=e[1],l=e.length;return"string"==typeof a?r={fieldName:a,from:l>1?s:t}:(r=ff({},a),K_.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&Bm.warn("Undefined 'from' passed to readField with arguments ".concat((i=Array.from(e),o=Cy("stringifyForDisplay"),JSON.stringify(i,(function(e,t){return void 0===t?o:t})).split(JSON.stringify(o)).join("<undefined>")))),void 0===r.variables&&(r.variables=n),r}function Ab(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new zm("Cannot automatically merge arrays"):new zm(4);if(xv(t)&&xv(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(Pv(t)&&tb(n))return e.merge(t.__ref,n),t;if(tb(t)&&Pv(n))return e.merge(t,n.__ref),n;if(tb(t)&&tb(n))return ff(ff({},t),n)}return n}}function Db(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:ff(ff({},e),{clientOnly:t,deferred:n})),i}var Lb=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,l=Wv(r),u=new Ky;a=ff(ff({},Gv(l)),a);var c={store:e,written:Object.create(null),merge:function(e,t){return u.merge(e,t)},variables:a,varString:ly(a),fragmentMap:Nv(Hv(r)),overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},d=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:c});if(!Pv(d))throw __DEV__?new zm("Could not identify object ".concat(JSON.stringify(i))):new zm(6);return c.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,s=Rv(r);if(o&&o.map.size){var l=n.applyMerges(o,s,i,c);if(Pv(l))return;i=l}if(__DEV__&&!c.overwrite){var u=Object.create(null);a.forEach((function(e){e.selectionSet&&(u[e.name.value]=!0)})),Object.keys(i).forEach((function(e){(function(e){return!0===u[Z_(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var a=i(t);if(a&&!Pv(o)&&!$g(o,a)&&!Object.keys(o).every((function(e){return void 0!==r.getFieldValue(a,e)}))){var s=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),l=Z_(n),u="".concat(s,".").concat(l);if(!qb.has(u)){qb.add(u);var c=[];Array.isArray(o)||Array.isArray(a)||[o,a].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||c.includes(t)||c.push(t)})),__DEV__&&Bm.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(s," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(a).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(s,i,e,c.store)}))}e.merge(r,i)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,l=Object.create(null),u=n&&s.rootTypenamesById[n]||Uv(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof u&&(l.__typename=u);var c=function(){var e=Pb(arguments,l,o.variables);if(Pv(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=s.readField(ff(ff({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return s.readField(e,o)},d=new Set;this.flattenFields(i,r,o,u).forEach((function(e,n){var i,o=jv(n),h=r[o];if(d.add(n),void 0!==h){var f=s.getStoreFieldName({typename:u,fieldName:n.name.value,field:n,variables:e.variables}),p=Fb(a,f),m=t.processFieldValue(h,n,n.selectionSet?Db(e,!1,!1):e,p),v=void 0;n.selectionSet&&(Pv(m)||tb(m))&&(v=c("__typename",m));var g=s.getMergeFunction(u,n.name.value,v);g?p.info={field:n,typename:u,merge:g}:Ub(a,f),l=e.merge(l,((i={})[f]=m,i))}else!__DEV__||e.clientOnly||e.deferred||yy.added(n)||s.getReadFunction(u,n.name.value)||__DEV__&&Bm.error("Missing field '".concat(jv(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var h=s.identify(r,{typename:u,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:l,readField:c}),f=h[0],p=h[1];n=n||f,p&&(l=o.merge(l,p))}catch(e){if(!n)throw e}if("string"==typeof n){var m=Rv(n),v=o.written[n]||(o.written[n]=[]);if(v.indexOf(i)>=0)return m;if(v.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m;var g=o.incomingById.get(n);return g?(g.storeObject=o.merge(g.storeObject,l),g.mergeTree=Vb(g.mergeTree,a),d.forEach((function(e){return g.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:l,mergeTree:jb(a)?void 0:a,fieldNodeSet:d}),m}return l},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var a=i.processFieldValue(e,t,n,Fb(r,o));return Ub(r,o),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?My(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=Uv(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,a=new ry(!1);return function e(s,l){var u=a.lookup(s,l.clientOnly,l.deferred);u.visited||(u.visited=!0,s.selections.forEach((function(a){if(ky(a,n.variables)){var s=l.clientOnly,u=l.deferred;if(s&&u||!Ry(a.directives)||a.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var r=Vv(e,n.variables);r&&!1===r.if||(u=!0)}})),qv(a)){var c=i.get(a);c&&(s=s&&c.clientOnly,u=u&&c.deferred),i.set(a,Db(n,s,u))}else{var d=Ov(a,n.fragmentMap);d&&o.fragmentMatches(d,r,t,n.variables)&&e(d.selectionSet,Db(n,s,u))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var o,a=this;if(e.map.size&&!Pv(n)){var s,l=Array.isArray(n)||!Pv(t)&&!tb(t)?void 0:t,u=n;l&&!i&&(i=[Pv(l)?l.__ref:l]);var c=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=c(l,t),o=c(u,t);if(void 0!==o){i&&i.push(t);var d=a.applyMerges(e,n,o,r,i);d!==o&&(s=s||new Map).set(t,d),i&&Bm(i.pop()===t)}})),s&&(n=Array.isArray(u)?u.slice(0):ff({},u),s.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),Mb=[];function Fb(e,t){var n=e.map;return n.has(t)||n.set(t,Mb.pop()||{map:new Map}),n.get(t)}function Vb(e,t){if(e===t||!t||jb(t))return e;if(!e||jb(e))return t;var n=e.info&&t.info?ff(ff({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,Vb(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){i.map.set(n,Vb(t.map.get(n),e.map.get(n)))}))}return i}function jb(e){return!e||!(e.info||e.map.size)}function Ub(e,t){var n=e.map,r=n.get(t);r&&jb(r)&&(Mb.push(r),n.delete(t))}var qb=new Set,zb=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=P_,n.txCount=0,n.config=function(e){return ng(Y_,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Ob({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return hf(t,e),t.prototype.init=function(){var e=this.data=new ob.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new Lb(this,this.storeReader=new pb({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:J_(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=x_((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(hb(n)){var r=e.optimistic,i=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,ly({optimistic:r,rootId:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(ff(ff({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof H_)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(K_.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(ff(ff({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,n=this;return this.watches.size||O_(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){n.watches.delete(e)&&!n.watches.size&&R_(n),n.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){ly.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(Pv(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&Bm.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(K_.call(e,"id"))return!1;e=ff(ff({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),ly.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),R_(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,s=e.onWatchUpdated,l=function(e){var i=n,o=i.data,a=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=a}},u=new Set;return s&&!this.txCount&&this.broadcastWatches(ff(ff({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,l):!1===o?l(this.data):l(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&u.size?(this.broadcastWatches(ff(ff({},e),{onWatchUpdated:function(e,t){var n=s.call(this,e,t);return!1!==n&&u.delete(e),n}})),u.size&&u.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=yy(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&$g(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}($_);zs("firebase","9.6.1","app");var Bb=n(676);const Wb="@firebase/installations",$b="0.5.4",Hb="w:0.5.4",Qb=new Ya("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kb(e){return e instanceof Ga&&e.code.includes("request-failed")}function Gb({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function Yb(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Jb(e,t){const n=(await t.json()).error;return Qb.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Xb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function Zb(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ew(e){return new Promise((t=>{setTimeout(t,e)}))}const tw=/^[cdef][\w-]{21}$/;function nw(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return tw.test(t)?t:""}catch(e){return""}}function rw(e){return`${e.appName}!${e.appId}`}const iw=new Map;function ow(e,t){const n=rw(e);aw(n,t),function(e,t){const n=(!sw&&"BroadcastChannel"in self&&(sw=new BroadcastChannel("[Firebase] FID Change"),sw.onmessage=e=>{aw(e.data.key,e.data.fid)}),sw);n&&n.postMessage({key:e,fid:t}),0===iw.size&&sw&&(sw.close(),sw=null)}(n,t)}function aw(e,t){const n=iw.get(e);if(n)for(const e of n)e(t)}let sw=null;const lw="firebase-installations-store";let uw=null;function cw(){return uw||(uw=(0,Bb.openDb)("firebase-installations-database",1,(e=>{0===e.oldVersion&&e.createObjectStore(lw)}))),uw}async function dw(e,t){const n=rw(e),r=(await cw()).transaction(lw,"readwrite"),i=r.objectStore(lw),o=await i.get(n);return await i.put(t,n),await r.complete,o&&o.fid===t.fid||ow(e,t.fid),t}async function hw(e){const t=rw(e),n=(await cw()).transaction(lw,"readwrite");await n.objectStore(lw).delete(t),await n.complete}async function fw(e,t){const n=rw(e),r=(await cw()).transaction(lw,"readwrite"),i=r.objectStore(lw),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.complete,!a||o&&o.fid===a.fid||ow(e,a.fid),a}async function pw(e){let t;const n=await fw(e,(n=>{const r=function(e){return gw(e||{fid:nw(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Qb.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,{fid:t}){const n=Gb(e),r=Xb(e),i={fid:t,authVersion:"FIS_v2",appId:e.appId,sdkVersion:Hb},o={method:"POST",headers:r,body:JSON.stringify(i)},a=await Zb((()=>fetch(n,o)));if(a.ok){const e=await a.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:Yb(e.authToken)}}throw await Jb("Create Installation",a)}(e,t);return dw(e,n)}catch(n){throw Kb(n)&&409===n.customData.serverCode?await hw(e):await dw(e,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:mw(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function mw(e){let t=await vw(e);for(;1===t.registrationStatus;)await ew(100),t=await vw(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await pw(e);return n||t}return t}function vw(e){return fw(e,(e=>{if(!e)throw Qb.create("installation-not-found");return gw(e)}))}function gw(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function yw({appConfig:e,platformLoggerProvider:t},n){const r=function(e,{fid:t}){return`${Gb(e)}/${t}/authTokens:generate`}(e,n),i=function(e,{refreshToken:t}){const n=Xb(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});o&&i.append("x-firebase-client",o.getPlatformInfoString());const a={installation:{sdkVersion:Hb}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await Zb((()=>fetch(r,s)));if(l.ok)return Yb(await l.json());throw await Jb("Generate Auth Token",l)}async function _w(e,t=!1){let n;const r=await fw(e.appConfig,(r=>{if(!ww(r))throw Qb.create("not-registered");const i=r.authToken;if(!t&&(2===(o=i).requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(o)))return r;var o;if(1===i.requestStatus)return n=async function(e,t){let n=await bw(e.appConfig);for(;1===n.authToken.requestStatus;)await ew(100),n=await bw(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_w(e,t):r}(e,t),r;{if(!navigator.onLine)throw Qb.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return n=async function(e,t){try{const n=await yw(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await dw(e.appConfig,r),n}catch(n){if(!Kb(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dw(e.appConfig,n)}else await hw(e.appConfig);throw n}}(e,t),t}}));return n?await n:r.authToken}function bw(e){return fw(e,(e=>{if(!ww(e))throw Qb.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t}))}function ww(e){return void 0!==e&&2===e.registrationStatus}function kw(e){return Qb.create("missing-app-config-values",{valueName:e})}const Ew="installations";Ms(new gs(Ew,(e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw kw("App Configuration");if(!e.name)throw kw("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw kw(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Fs(t,"platform-logger"),_delete:()=>Promise.resolve()}}),"PUBLIC")),Ms(new gs("installations-internal",(e=>{const t=Fs(e.getProvider("app").getImmediate(),Ew).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await pw(t.appConfig);return r?r.catch(console.error):_w(t).catch(console.error),n.fid}(t),getToken:e=>async function(e,t=!1){const n=e;return await async function(e){const{registrationPromise:t}=await pw(e);t&&await t}(n.appConfig),(await _w(n,t)).token}(t,e)}}),"PRIVATE")),zs(Wb,$b),zs(Wb,$b,"esm2017");const Sw="analytics",Tw="https://www.googletagmanager.com/gtag/js",Cw=new xs("@firebase/analytics");function xw(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}const Iw=new Ya("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nw=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Ow(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Rw(e,t=Nw,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Iw.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Iw.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Aw;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),Pw({appId:r,apiKey:i,measurementId:o},a,s,t)}async function Pw(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Nw){const{appId:o,measurementId:a}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(Iw.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(r,t)}catch(e){if(a)return Cw.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${e.message}]`),{appId:o,measurementId:a};throw e}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Ow(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(o,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(e){}throw Iw.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return i.deleteThrottleMetadata(o),t}catch(t){if(!function(e){if(!(e instanceof Ga&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(i.deleteThrottleMetadata(o),a)return Cw.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${t.message}]`),{appId:o,measurementId:a};throw t}const s=503===Number(t.customData.httpStatus)?ms(n,i.intervalMillis,30):ms(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+s,backoffCount:n+1};return i.setThrottleMetadata(o,l),Cw.debug(`Calling attemptFetch again in ${s} millis`),Pw(e,l,r,i)}}class Aw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}async function Dw(e,t,n,r,i,o,a){var s;const l=Rw(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Cw.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Cw.error(e))),t.push(l);const u=async function(){if("object"!=typeof indexedDB)return Cw.warn(Iw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}catch(e){return Cw.warn(Iw.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[c,d]=await Promise.all([l,u]);(function(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Tw))return t;return null})()||function(e,t){const n=document.createElement("script");n.src=`${Tw}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date);const h=null!==(s=null==a?void 0:a.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",c.measurementId,h),c.measurementId}class Lw{constructor(e){this.app=e}_delete(){return delete Mw[this.app.options.appId],Promise.resolve()}}let Mw={},Fw=[];const Vw={};let jw,Uw,qw="dataLayer",zw=!1;function Bw(e,t,n){!function(){const e=[];if(Qa()&&e.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Iw.create("invalid-analytics-context",{errorInfo:t});Cw.warn(n.message)}}();const r=e.options.appId;if(!r)throw Iw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Iw.create("no-api-key");Cw.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mw[r])throw Iw.create("already-exists",{id:r});if(!zw){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){return async function(i,o,a){try{"event"===i?await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await xw(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(e){Cw.error(e)}}(e,t,n,o,a):"config"===i?await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await xw(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(e){Cw.error(e)}e("config",i,o)}(e,t,n,r,o,a):e("set",o)}catch(e){Cw.error(e)}}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(Mw,Fw,Vw);Uw=e,jw=t,zw=!0}return Mw[r]=Dw(e,Fw,Vw,t,jw,qw,n),new Lw(e)}function Ww(e,t,n,r){e=vs(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Uw,Mw[e.app.options.appId],t,n,r).catch((e=>Cw.error(e)))}const $w="@firebase/analytics",Hw="0.7.4";Ms(new gs(Sw,((e,{options:t})=>Bw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t)),"PUBLIC")),Ms(new gs("analytics-internal",(function(e){try{const t=e.getProvider(Sw).getImmediate();return{logEvent:(e,n,r)=>Ww(t,e,n,r)}}catch(e){throw Iw.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),zs($w,Hw),zs($w,Hw,"esm2017");const Qw=n(181),Kw=new W_({uri:Qw.apollo.url,cache:new zb}),Gw=function(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Vs.create("bad-app-name",{appName:String(r)});const i=As.get(r);if(i){if(os(e,i.options)&&os(n,i.config))return i;throw Vs.create("duplicate-app",{appName:r})}const o=new bs(r);for(const e of Ds.values())o.addComponent(e);const a=new js(e,n,o);return As.set(r,a),a}(Qw.firebase),Yw=function(e=qs()){const t=Fs(e=vs(e),Sw);return t.isInitialized()?t.getImmediate():function(e,t={}){const n=Fs(e,Sw);if(n.isInitialized()){const e=n.getImmediate();if(os(t,n.getOptions()))return e;throw Iw.create("already-initialized")}return n.initialize({options:t})}(e)}(Gw),Jw=la({key:"getDataFromPath",default:void 0,effects_UNSTABLE:e=>[({setSelf:t,onSet:n})=>{const r=nf(),i=Wh(r,e),o=Wh(r,`${e}/values`);n((e=>{null==e?Qh($h(i,"values")):Kh(i,{values:e})}));const a=Xh(o,(e=>t(e.val()||void 0)));return()=>a()}]}),Xw=n(181),Zw=sa({key:"getTwitchToken",get:({get:e})=>{const t=e(lf).get("access_token"),n=window.localStorage.getItem(Xw.token.key);return t?(t!==n&&window.localStorage.setItem(Xw.token.key,t),t):null!=n?n:""},set:({},e)=>{"string"==typeof e?window.localStorage.setItem(Xw.token.key,e):window.localStorage.removeItem(Xw.token.key)}}),ek=sa({key:"getFirebaseToken",get:async({get:e})=>{const t=e(Zw),n=new URL(Xw.token.url);n.searchParams.append("twitch",t);const r=await fetch(n.toString());if(r.status<200||r.status>299)throw new Error;return r.text()}}),tk=sa({key:"getCurrentUser",get:async({get:e})=>{const t=function(e=qs()){const t=Fs(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){const n=Fs(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(os(n.getOptions(),null!=t?t:{}))return e;Ef(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Dm,persistence:[rm,Up,zp]})}(Gw);let n=t.currentUser;if(!n){const r=e(ek);n=(await async function(e,t){const n=gp(e),r=await async function(e,t){return qf(e,"POST","/v1/accounts:signInWithCustomToken",Vf(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ap._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(t,r)).user}return n},dangerouslyAllowMutability:!0}),nk=sa({key:"getCurrentUserPath",get:({get:e})=>`users/${e(tk).uid}`}),rk=()=>{const e=ca(cf),t=ca(nk),n=ca(tk);return(0,r.useEffect)((()=>{const r=nf(),i=Wh(r,".info/connected"),o=Wh(r,t),a=Wh(r,`${e}/users`);Kh(o,{id:n.uid,name:n.displayName,online:!0,photoURL:n.photoURL}),Kh(a,{[n.uid]:!0});const s=Xh(i,(e=>{0!=e.val()&&(Hh(o).update({online:!1}),Hh(a).update({[n.uid]:!1}))})),l=()=>{Kh(o,{online:!1}),Kh(a,{[n.uid]:!1})};return window.addEventListener("beforeunload",l,!1),()=>{Kh(o,{online:!1}),Kh(a,{[n.uid]:!1}),s(),window.removeEventListener("beforeunload",l,!1)}}),[e]),null};n(33),n(269),n(845),n(654),n(344);const ik=()=>r.createElement("div",{className:"loadassets"},["assets/case-background.webp","assets/case-front.webp","assets/plateau-background.webp","assets/plateau-front.webp","assets/TwitchGlitchPurple.svg"].map(((e,t)=>r.createElement("img",{key:t,src:e})))),ok=1/60*1e3,ak="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),sk="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(ak())),ok);let lk=!0,uk=!1,ck=!1;const dk={delta:0,timestamp:0},hk=["read","update","preRender","render","postRender"],fk=hk.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{const l=s&&i,u=l?t:n;return o&&a.add(e),-1===u.indexOf(e)&&(u.push(e),l&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:l=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(l))}}};return s}((()=>uk=!0)),e)),{}),pk=hk.reduce(((e,t)=>{const n=fk[t];return e[t]=(e,t=!1,r=!1)=>(uk||_k(),n.schedule(e,t,r)),e}),{}),mk=hk.reduce(((e,t)=>(e[t]=fk[t].cancel,e)),{}),vk=hk.reduce(((e,t)=>(e[t]=()=>fk[t].process(dk),e)),{}),gk=e=>fk[e].process(dk),yk=e=>{uk=!1,dk.delta=lk?ok:Math.max(Math.min(e-dk.timestamp,40),1),dk.timestamp=e,ck=!0,hk.forEach(gk),ck=!1,uk&&(lk=!1,sk(yk))},_k=()=>{uk=!0,lk=!0,ck||sk(yk)},bk=()=>dk,wk=pk;function kk(e){return(0,r.useEffect)((function(){return function(){return e()}}),[])}var Ek=(0,r.createContext)(null);function Sk(e){var t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}var Tk=0;function Ck(){var e=Tk;return Tk++,e}var xk=function(e){var t=e.children,n=e.initial,i=e.isPresent,o=e.onExitComplete,a=e.custom,s=e.presenceAffectsLayout,l=Sk(Ik),u=Sk(Ck),c=(0,r.useMemo)((function(){return{id:u,initial:n,isPresent:i,custom:a,onExitComplete:function(e){var t,n;l.set(e,!0);try{for(var r=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l.values()),i=r.next();!i.done;i=r.next())if(!i.value)return}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==o||o()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),s?void 0:[i]);return(0,r.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[i]),r.useEffect((function(){!i&&!l.size&&(null==o||o())}),[i]),r.createElement(Ek.Provider,{value:c},t)};function Ik(){return new Map}var Nk=(0,r.createContext)({});function Ok(e){return e.key||""}var Rk=function(e){var t=e.children,n=e.custom,i=e.initial,o=void 0===i||i,a=e.onExitComplete,s=e.exitBeforeEnter,l=e.presenceAffectsLayout,u=void 0===l||l,c=gf(function(){var e=(0,r.useRef)(!1),t=gf((0,r.useState)(0),2),n=t[0],i=t[1];kk((function(){return e.current=!0}));var o=(0,r.useCallback)((function(){!e.current&&i(n+1)}),[n]);return[(0,r.useCallback)((function(){return wk.postRender(o)}),[o]),n]}(),1),d=c[0],h=(0,r.useContext)(Nk).forceRender;h&&(d=h);var f=(0,r.useRef)(!0),p=(0,r.useRef)(!0);(0,r.useEffect)((function(){return function(){p.current=!1}}),[]);var m=function(e){var t=[];return r.Children.forEach(e,(function(e){(0,r.isValidElement)(e)&&t.push(e)})),t}(t),v=(0,r.useRef)(m),g=(0,r.useRef)(new Map).current,y=(0,r.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=Ok(e);t.set(n,e)}))}(m,g),f.current)return f.current=!1,r.createElement(r.Fragment,null,m.map((function(e){return r.createElement(xk,{key:Ok(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:u},e)})));for(var _=yf([],gf(m),!1),b=v.current.map(Ok),w=m.map(Ok),k=b.length,E=0;E<k;E++){var S=b[E];-1===w.indexOf(S)?y.add(S):y.delete(S)}return s&&y.size&&(_=[]),y.forEach((function(e){if(-1===w.indexOf(e)){var t=g.get(e);if(t){var i=b.indexOf(e);_.splice(i,0,r.createElement(xk,{key:Ok(t),isPresent:!1,onExitComplete:function(){g.delete(e),y.delete(e);var t=v.current.findIndex((function(t){return t.key===e}));if(v.current.splice(t,1),!y.size){if(v.current=m,!1===p.current)return;d(),a&&a()}},custom:n,presenceAffectsLayout:u},t))}}})),_=_.map((function(e){var t=e.key;return y.has(t)?e:r.createElement(xk,{key:Ok(e),isPresent:!0,presenceAffectsLayout:u},e)})),v.current=_,r.createElement(r.Fragment,null,y.size?_:_.map((function(e){return(0,r.cloneElement)(e)})))},Pk=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Ak={measureLayout:Pk(["layout","layoutId","drag"]),animation:Pk(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Pk(["exit"]),drag:Pk(["drag","dragControls"]),focus:Pk(["whileFocus"]),hover:Pk(["whileHover","onHoverStart","onHoverEnd"]),tap:Pk(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Pk(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Pk(["whileInView","onViewportEnter","onViewportLeave"])},Dk=(0,r.createContext)({strict:!1}),Lk=Object.keys(Ak),Mk=Lk.length,Fk=(0,r.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),Vk=(0,r.createContext)({}),jk="undefined"!=typeof window,Uk=jk?r.useLayoutEffect:r.useEffect;function qk(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function zk(e){return Array.isArray(e)}function Bk(e){return"string"==typeof e||zk(e)}function Wk(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),"string"==typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,i)),t}function $k(e,t,n){var r=e.getProps();return Wk(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function Hk(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||Bk(e.initial)||Bk(e.animate)||Bk(e.whileHover)||Bk(e.whileDrag)||Bk(e.whileTap)||Bk(e.whileFocus)||Bk(e.exit)}function Qk(e){return Boolean(Hk(e)||e.variants)}function Kk(e){return Array.isArray(e)?e.join(" "):e}const Gk=(e,t,n)=>-n*e+n*t+e;function Yk(e,t){return t?e*(1e3/t):0}function Jk(e,t){-1===e.indexOf(t)&&e.push(t)}function Xk(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Zk=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return Jk(this.subscriptions,e),function(){return Xk(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),eE=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Zk,this.velocityUpdateSubscribers=new Zk,this.renderSubscribers=new Zk,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=bk(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,wk.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return wk.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Yk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function tE(e){return new eE(e)}var nE=function(e){return Boolean(null!==e&&"object"==typeof e&&e.getVelocity)};const rE=(e,t,n)=>Math.min(Math.max(n,e),t);function iE(e,t){return e*Math.sqrt(1-t*t)}const oE=["duration","bounce"],aE=["stiffness","damping","mass"];function sE(e,t){return t.some((t=>void 0!==e[t]))}function lE(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=pf(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:l,mass:u,velocity:c,duration:d,isResolvedFromDuration:h}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!sE(e,aE)&&sE(e,oE)){const n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,a=1-t;a=rE(.05,1,a),e=rE(.01,10,e/1e3),a<1?(i=t=>{const r=t*a,i=r*e;return.001-(r-n)/iE(t,a)*Math.exp(-i)},o=t=>{const r=t*a*e,o=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=iE(Math.pow(t,2),a);return(.001-i(t)>0?-1:1)*((o-s)*l)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(o),f=uE,p=uE;function m(){const e=c?-c/1e3:0,r=n-t,o=l/(2*Math.sqrt(s*u)),a=Math.sqrt(s/u)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){const t=iE(a,o);f=i=>{const s=Math.exp(-o*a*i);return n-s*((e+o*a*r)/t*Math.sin(t*i)+r*Math.cos(t*i))},p=n=>{const i=Math.exp(-o*a*n);return o*a*i*(Math.sin(t*n)*(e+o*a*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*a*r)-t*r*Math.sin(t*n))}}else if(1===o)f=t=>n-Math.exp(-a*t)*(r+(e+a*r)*t);else{const t=a*Math.sqrt(o*o-1);f=i=>{const s=Math.exp(-o*a*i),l=Math.min(t*i,300);return n-s*((e+o*a*r)*Math.sinh(l)+t*r*Math.cosh(l))/t}}}return m(),{next:e=>{const t=f(e);if(h)a.done=e>=d;else{const o=1e3*p(e),s=Math.abs(o)<=r,l=Math.abs(n-t)<=i;a.done=s&&l}return a.value=a.done?n:t,a},flipTarget:()=>{c=-c,[t,n]=[n,t],m()}}}lE.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const uE=e=>0,cE=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},dE=(e,t)=>n=>Math.max(Math.min(n,t),e),hE=e=>e%1?Number(e.toFixed(5)):e,fE=/(-)?([\d]*\.?[\d])+/g,pE=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,mE=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function vE(e){return"string"==typeof e}const gE={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},yE=Object.assign(Object.assign({},gE),{transform:dE(0,1)}),_E=Object.assign(Object.assign({},gE),{default:1}),bE=(e,t)=>n=>Boolean(vE(n)&&mE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),wE=(e,t,n)=>r=>{if(!vE(r))return r;const[i,o,a,s]=r.match(fE);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},kE=dE(0,255),EE=Object.assign(Object.assign({},gE),{transform:e=>Math.round(kE(e))}),SE={test:bE("rgb","red"),parse:wE("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+EE.transform(e)+", "+EE.transform(t)+", "+EE.transform(n)+", "+hE(yE.transform(r))+")"},TE={test:bE("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:SE.transform},CE=e=>({test:t=>vE(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),xE=CE("deg"),IE=CE("%"),NE=CE("px"),OE=CE("vh"),RE=CE("vw"),PE=Object.assign(Object.assign({},IE),{parse:e=>IE.parse(e)/100,transform:e=>IE.transform(100*e)}),AE={test:bE("hsl","hue"),parse:wE("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+IE.transform(hE(t))+", "+IE.transform(hE(n))+", "+hE(yE.transform(r))+")"};function DE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LE({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=DE(s,r,e+1/3),o=DE(s,r,e),a=DE(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}const ME=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},FE=[TE,SE,AE],VE=e=>FE.find((t=>t.test(e))),jE=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,UE=(e,t)=>{let n=VE(e),r=VE(t);jE(e),jE(t);let i=n.parse(e),o=r.parse(t);n===AE&&(i=LE(i),n=SE),r===AE&&(o=LE(o),r=SE);const a=Object.assign({},i);return e=>{for(const t in a)"alpha"!==t&&(a[t]=ME(i[t],o[t],e));return a.alpha=Gk(i.alpha,o.alpha,e),n.transform(a)}},qE={test:e=>SE.test(e)||TE.test(e)||AE.test(e),parse:e=>SE.test(e)?SE.parse(e):AE.test(e)?AE.parse(e):TE.parse(e),transform:e=>vE(e)?e:e.hasOwnProperty("red")?SE.transform(e):AE.transform(e)},zE="${c}",BE="${n}";function WE(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(pE);r&&(n=r.length,e=e.replace(pE,zE),t.push(...r.map(qE.parse)));const i=e.match(fE);return i&&(e=e.replace(fE,BE),t.push(...i.map(gE.parse))),{values:t,numColors:n,tokenised:e}}function $E(e){return WE(e).values}function HE(e){const{values:t,numColors:n,tokenised:r}=WE(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?zE:BE,r<n?qE.transform(e[r]):hE(e[r]));return t}}const QE=e=>"number"==typeof e?0:e,KE={test:function(e){var t,n,r,i;return isNaN(e)&&vE(e)&&(null!==(n=null===(t=e.match(fE))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(pE))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:$E,createTransformer:HE,getAnimatableNone:function(e){const t=$E(e);return HE(e)(t.map(QE))}},GE=e=>"number"==typeof e,YE=(e,t)=>n=>t(e(n)),JE=(...e)=>e.reduce(YE);function XE(e,t){return GE(e)?n=>Gk(e,t,n):qE.test(e)?UE(e,t):nS(e,t)}const ZE=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>XE(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},eS=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=XE(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function tS(e){const t=KE.parse(e),n=t.length;let r=0,i=0,o=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const nS=(e,t)=>{const n=KE.createTransformer(t),r=tS(e),i=tS(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?JE(ZE(r.parsed,i.parsed),n):n=>`${n>0?t:e}`},rS=(e,t)=>n=>Gk(e,t,n);function iS(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=function(e,t,n){const r=[],i=n||("number"==typeof(o=e[0])?rS:"string"==typeof o?qE.test(o)?UE:nS:Array.isArray(o)?ZE:"object"==typeof o?eS:void 0);var o;const a=e.length-1;for(let n=0;n<a;n++){let o=i(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;o=JE(e,o)}r.push(o)}return r}(t,r,i),s=2===o?function([e,t],[n]){return r=>n(cE(e,t,r))}(e,a):function(e,t){const n=e.length,r=n-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){let t=1;for(;t<n&&!(e[t]>i||t===r);t++);o=t-1}const s=cE(e[o],e[o+1],i);return t[o](s)}}(e,a);return n?t=>s(rE(e[0],e[o-1],t)):s}const oS=e=>t=>1-e(1-t),aS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sS=e=>t=>t*t*((e+1)*t-e),lS=e=>e,uS=(2,e=>Math.pow(e,2));const cS=oS(uS),dS=aS(uS),hS=e=>1-Math.sin(Math.acos(e)),fS=oS(hS),pS=aS(fS),mS=sS(1.525),vS=oS(mS),gS=aS(mS),yS=(e=>{const t=sS(1.525);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(),_S=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},bS=oS(_S);function wS(e,t){return e.map((()=>t||dS)).splice(0,e.length-1)}function kS({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=function(e,t){return e.map((e=>e*t))}(r&&r.length===a.length?r:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(a),i);function l(){return iS(s,a,{ease:Array.isArray(n)?n:wS(a,n)})}let u=l();return{next:e=>(o.value=u(e),o.done=e>=i,o),flipTarget:()=>{a.reverse(),u=l()}}}const ES={keyframes:kS,spring:lE,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;const l=t+s,u=void 0===o?l:o(l);return u!==l&&(s=u-t),{next:e=>{const t=-s*Math.exp(-e/r);return a.done=!(t>i||t<-i),a.value=a.done?u:u+t,a},flipTarget:()=>{}}}};function SS(e,t,n=0){return e-t-n}const TS=e=>{const t=({delta:t})=>e(t);return{start:()=>wk.update(t,!0),stop:()=>mk.update(t)}};function CS(e){var t,n,{from:r,autoplay:i=!0,driver:o=TS,elapsed:a=0,repeat:s=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:d,onComplete:h,onRepeat:f,onUpdate:p}=e,m=pf(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let v,g,y,{to:_}=m,b=0,w=m.duration,k=!1,E=!0;const S=function(e){if(Array.isArray(e.to))return kS;if(ES[e.type])return ES[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?kS:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?lE:kS}(m);(null===(n=(t=S).needsInterpolation)||void 0===n?void 0:n.call(t,r,_))&&(y=iS([0,100],[r,_],{clamp:!1}),r=0,_=100);const T=S(Object.assign(Object.assign({},m),{from:r,to:_}));return i&&(null==c||c(),v=o((function(e){if(E||(e=-e),a+=e,!k){const e=T.next(Math.max(0,a));g=e.value,y&&(g=y(g)),k=E?e.done:a<=0}null==p||p(g),k&&(0===b&&(null!=w||(w=a)),b<s?function(e,t,n,r){return r?e>=t+n:e<=-n}(a,w,u,E)&&(b++,"reverse"===l?(E=b%2==0,a=function(e,t,n=0,r=!0){return r?SS(t+-e,t,n):t-(e-t)+n}(a,w,u,E)):(a=SS(a,w,u),"mirror"===l&&T.flipTarget()),k=!1,f&&f()):(v.stop(),h&&h()))})),v.start()),{stop:()=>{null==d||d(),v.stop()}}}var xS=function(e){return 1e3*e};const IS=(e,t)=>1-3*t+3*e,NS=(e,t)=>3*t-6*e,OS=e=>3*e,RS=(e,t,n)=>((IS(t,n)*e+NS(t,n))*e+OS(t))*e,PS=(e,t,n)=>3*IS(t,n)*e*e+2*NS(t,n)*e+OS(t),AS=.1;function DS(e,t,n,r){if(e===t&&n===r)return lS;const i=new Float32Array(11);for(let t=0;t<11;++t)i[t]=RS(t*AS,e,n);return o=>0===o||1===o?o:RS(function(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=AS;--o;const a=r+(t-i[o])/(i[o+1]-i[o])*AS,s=PS(a,e,n);return s>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=PS(t,n,r);if(0===i)return t;t-=(RS(t,n,r)-e)/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=RS(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+AS,e,n)}(o),t,r)}var LS={linear:lS,easeIn:uS,easeInOut:dS,easeOut:cS,circIn:hS,circInOut:pS,circOut:fS,backIn:mS,backInOut:gS,backOut:vS,anticipate:yS,bounceIn:bS,bounceInOut:e=>e<.5?.5*(1-_S(1-2*e)):.5*_S(2*e-1)+.5,bounceOut:_S},MS=function(e){if(Array.isArray(e)){e.length;var t=gf(e,4);return DS(t[0],t[1],t[2],t[3])}return"string"==typeof e?("Invalid easing type '".concat(e,"'"),LS[e]):e},FS=function(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!KE.test(t)||t.startsWith("url(")))},VS=function(e){return Array.isArray(e)},jS=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},US=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},qS=function(){return{type:"keyframes",ease:"linear",duration:.3}},zS=function(e){return{type:"keyframes",duration:.8,values:e}},BS={x:jS,y:jS,z:jS,rotate:jS,rotateX:jS,rotateY:jS,rotateZ:jS,scaleX:US,scaleY:US,scale:US,opacity:qS,backgroundColor:qS,color:qS,default:US};const WS=new Set(["brightness","contrast","saturate","opacity"]);function $S(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(fE)||[];if(!r)return e;const i=n.replace(r,"");let o=WS.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const HS=/([a-z-]*)\(.*?\)/g,QS=Object.assign(Object.assign({},KE),{getAnimatableNone:e=>{const t=e.match(HS);return t?t.map($S).join(" "):e}});var KS=ff(ff({},gE),{transform:Math.round}),GS={borderWidth:NE,borderTopWidth:NE,borderRightWidth:NE,borderBottomWidth:NE,borderLeftWidth:NE,borderRadius:NE,radius:NE,borderTopLeftRadius:NE,borderTopRightRadius:NE,borderBottomRightRadius:NE,borderBottomLeftRadius:NE,width:NE,maxWidth:NE,height:NE,maxHeight:NE,size:NE,top:NE,right:NE,bottom:NE,left:NE,padding:NE,paddingTop:NE,paddingRight:NE,paddingBottom:NE,paddingLeft:NE,margin:NE,marginTop:NE,marginRight:NE,marginBottom:NE,marginLeft:NE,rotate:xE,rotateX:xE,rotateY:xE,rotateZ:xE,scale:_E,scaleX:_E,scaleY:_E,scaleZ:_E,skew:xE,skewX:xE,skewY:xE,distance:NE,translateX:NE,translateY:NE,translateZ:NE,x:NE,y:NE,z:NE,perspective:NE,transformPerspective:NE,opacity:yE,originX:PE,originY:PE,originZ:NE,zIndex:KS,fillOpacity:yE,strokeOpacity:yE,numOctaves:KS},YS=ff(ff({},GS),{color:qE,backgroundColor:qE,outlineColor:qE,fill:qE,stroke:qE,borderColor:qE,borderTopColor:qE,borderRightColor:qE,borderBottomColor:qE,borderLeftColor:qE,filter:QS,WebkitFilter:QS}),JS=function(e){return YS[e]};function XS(e,t){var n,r=JS(e);return r!==QS&&(r=KE),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var ZS=function(e){return VS(e)?e[e.length-1]||0:e};function eT(e,t,n){var r,i,o,a;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=yf([],gf(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=pf(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=ff(ff({},e),(i=n,o=t.to,a=VS(o)?zS:BS[i]||BS.default,ff({to:o},a(o))))),ff(ff({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,a=pf(e,["ease","times","yoyo","flip","loop"]),s=ff({},a);return n&&(s.offset=n),a.duration&&(s.duration=xS(a.duration)),a.repeatDelay&&(s.repeatDelay=xS(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!=typeof e[0]}(t)?t.map(MS):MS(t)),"tween"===a.type&&(s.type="keyframes"),(r||o||i)&&(r?s.repeatType="reverse":o?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=o||r||i||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}(e))}function tT(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function nT(e){return"number"==typeof e?0:XS("",e)}function rT(e,t){return e[t]||e.default||e}function iT(e,t,n,r){return void 0===r&&(r={}),t.start((function(i){var o,a,s=function(e,t,n,r,i){var o,a=rT(r,e),s=null!==(o=a.from)&&void 0!==o?o:t.get(),l=FS(e,n);"none"===s&&l&&"string"==typeof n?s=XS(e,n):tT(s)&&"string"==typeof n?s=nT(n):!Array.isArray(n)&&tT(n)&&"string"==typeof s&&(n=nT(s));var u=FS(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),u&&l&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:d,onComplete:h,onStop:f}){let p;function m(e){return void 0!==n&&e<n||void 0!==r&&e>r}function v(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function g(e){null==p||p.stop(),p=CS(Object.assign(Object.assign({},e),{driver:c,onUpdate:t=>{var n;null==d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:h,onStop:f}))}function y(e){g(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:l},e))}if(m(e))y({from:e,velocity:t,to:v(e)});else{let r=i*t+e;void 0!==u&&(r=u(r));const a=v(r),s=a===n?-1:1;let c,d;const h=e=>{c=d,d=e,t=Yk(e-c,bk().delta),(1===s&&e>a||-1===s&&e<a)&&y({from:e,to:a,velocity:t})};g({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:l,modifyTarget:u,onUpdate:m(r)?h:void 0})}return{stop:()=>null==p?void 0:p.stop()}}(ff(ff({},r),a)):CS(ff(ff({},eT(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e,r,o=ZS(n);return t.set(o),i(),null===(e=null==a?void 0:a.onUpdate)||void 0===e||e.call(a,o),null===(r=null==a?void 0:a.onComplete)||void 0===r||r.call(a),{stop:function(){}}}}(e,t,n,r,i),l=function(e,t){var n,r;return null!==(r=null!==(n=(rT(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),u=function(){return a=s()};return l?o=setTimeout(u,xS(l)):u(),function(){clearTimeout(o),null==a||a.stop()}}))}var oT=["TopLeft","TopRight","BottomLeft","BottomRight"],aT=oT.length;function sT(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var lT=cT(0,.5,fS),uT=cT(.5,.95,lS);function cT(e,t,n){return function(r){return r<e?0:r>t?1:n(cE(e,t,r))}}function dT(e,t){e.min=t.min,e.max=t.max}function hT(e,t){dT(e.x,t.x),dT(e.y,t.y)}function fT(e){return void 0===e||1===e}function pT(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!fT(t)||!fT(n)||!fT(r)}function mT(e){return pT(e)||vT(e.x)||vT(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function vT(e){return e&&"0%"!==e}function gT(e,t,n){return n+t*(e-n)}function yT(e,t,n,r,i){return void 0!==i&&(e=gT(e,i,r)),gT(e,n,r)+t}function _T(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=yT(e.min,t,n,r,i),e.max=yT(e.max,t,n,r,i)}function bT(e,t){var n=t.x,r=t.y;_T(e.x,n.translate,n.scale,n.originPoint),_T(e.y,r.translate,r.scale,r.originPoint)}function wT(e,t){e.min=e.min+t,e.max=e.max+t}function kT(e,t,n){var r=gf(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,l=Gk(e.min,e.max,s);_T(e,t[i],t[o],l,t.scale)}var ET=["x","scaleX","originX"],ST=["y","scaleY","originY"];function TT(e,t){kT(e.x,t,ET),kT(e.y,t,ST)}const CT=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),xT=e=>CT(e)&&e.hasOwnProperty("z"),IT=(e,t)=>Math.abs(e-t);function NT(e,t){if(GE(e)&&GE(t))return IT(e,t);if(CT(e)&&CT(t)){const n=IT(e.x,t.x),r=IT(e.y,t.y),i=xT(e)&&xT(t)?IT(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function OT(e){return e.max-e.min}function RT(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),NT(e,t)<n}function PT(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=Gk(t.min,t.max,e.origin),e.scale=OT(n)/OT(t),(RT(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Gk(n.min,n.max,e.origin)-e.originPoint,(RT(e.translate)||isNaN(e.translate))&&(e.translate=0)}function AT(e,t,n,r){PT(e.x,t.x,n.x,null==r?void 0:r.originX),PT(e.y,t.y,n.y,null==r?void 0:r.originY)}function DT(e,t,n){e.min=n.min+t.min,e.max=e.min+OT(t)}function LT(e,t,n){e.min=t.min-n.min,e.max=e.min+OT(t)}function MT(e,t,n){LT(e.x,t.x,n.x),LT(e.y,t.y,n.y)}function FT(e,t,n,r,i){return e=gT(e-=t,1/n,r),void 0!==i&&(e=gT(e,1/i,r)),e}function VT(e,t,n,r,i){var o=gf(n,3),a=o[0],s=o[1],l=o[2];!function(e,t,n,r,i,o,a){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===a&&(a=e),IE.test(t)&&(t=parseFloat(t),t=Gk(a.min,a.max,t/100)-a.min),"number"==typeof t){var s=Gk(o.min,o.max,r);e===o&&(s-=t),e.min=FT(e.min,t,n,s,i),e.max=FT(e.max,t,n,s,i)}}(e,t[a],t[s],t[l],t.scale,r,i)}var jT=["x","scaleX","originX"],UT=["y","scaleY","originY"];function qT(e,t,n,r){VT(e.x,t,jT,null==n?void 0:n.x,null==r?void 0:r.x),VT(e.y,t,UT,null==n?void 0:n.y,null==r?void 0:r.y)}function zT(e){return 0===e.translate&&1===e.scale}function BT(e){return zT(e.x)&&zT(e.y)}function WT(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var $T=function(){function e(){this.members=[]}return e.prototype.add=function(e){Jk(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(Xk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),HT={};function QT(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var a=n.rotate,s=n.rotateX,l=n.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),l&&(o+="rotateY(".concat(l,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(o+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":o}function KT(e){return[e("x"),e("y")]}var GT=["","X","Y","Z"],YT=["transformPerspective","x","y","z"];function JT(e,t){return YT.indexOf(e)-YT.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return GT.forEach((function(t){return YT.push(e+t)}))}));var XT=new Set(YT);function ZT(e){return XT.has(e)}var eC=new Set(["originX","originY","originZ"]);function tC(e){return eC.has(e)}var nC=function(e,t){return e.depth-t.depth},rC=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){Jk(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){Xk(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(nC),this.isDirty=!1,this.children.forEach(e)},e}();function iC(e){var t,n=nE(e)?e.get():e;return t=n,Boolean(t&&"object"==typeof t&&t.mix&&t.toValue)?n.toValue():n}var oC={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aC(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(fC),i.nodes.forEach(pC)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?yf(yf([],gf(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new rC)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Zk),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,yf([],gf(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,l=o.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||a)&&(this.isLayoutDirty=!0),t){var u,c=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(u),u=setTimeout(c,250),oC.hasAnimatedSinceResize&&(oC.hasAnimatedSinceResize=!1,i.nodes.forEach(hC))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&l&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,o,a,s=e.delta,u=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,d=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==n?n:bC,f=l.getProps().onLayoutAnimationComplete,p=!i.targetLayout||!WT(i.targetLayout,d)||c,m=!u&&c;(null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||m||u&&(p||!i.currentAnimation)?(i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,m),i.startAnimation(ff(ff({},rT(h,"layout")),{onComplete:f}))):i.isLead()&&(null===(a=(o=i.options).onExitComplete)||void 0===a||a.call(o)),i.targetLayout=d}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,mk.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(mC))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,l=a.layout;if(void 0!==s||l){var u=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(cC);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(wC),this.potentialNodes.clear()),this.nodes.forEach(dC),this.nodes.forEach(sC),this.nodes.forEach(lC),this.clearAllSnapshots(),vk.update(),vk.preRender(),vk.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(uC),this.sharedNodes.forEach(vC)},e.prototype.scheduleUpdateProjection=function(){wk.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;wk.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));EC(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();EC(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!BT(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,o=null==r?void 0:r(this.latestValues,""),a=o!==this.prevTransformTemplateValue;t&&(n||mT(this.latestValues)||a)&&(i(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(wT(t.x,n.x),wT(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};hT(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options;r!==this.root&&i&&o.layoutScroll&&(wT(t.x,i.x),wT(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};hT(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&TT(n,{x:-i.scroll.x,y:-i.scroll.y}),mT(i.latestValues)&&TT(n,i.latestValues)}return mT(this.latestValues)&&TT(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};hT(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&mT(i.latestValues)){pT(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};hT(o,i.measure()),qT(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return mT(this.latestValues)&&qT(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=ff(ff(ff({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},MT(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),hT(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,DT(t.x,n.x,r.x),DT(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):hT(this.target,this.layout.actual),bT(this.target,this.targetDelta)):hT(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},MT(this.relativeTargetOrigin,this.target,this.relativeParent.target),hT(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!mT(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();hT(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,o;void 0===r&&(r=!1);var a=n.length;if(a){var s,l;t.x=t.y=1;for(var u=0;u<a;u++)l=(s=n[u]).projectionDelta,"contents"!==(null===(o=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&TT(e,{x:-s.scroll.x,y:-s.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,bT(e,l)),r&&mT(s.latestValues)&&TT(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var a=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;AT(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=QT(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null==i?void 0:i.latestValues)||{},a=ff({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var l={x:{min:0,max:0},y:{min:0,max:0}},u=null==i?void 0:i.isShared,c=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,d=Boolean(u&&!c&&!0===this.options.crossfade&&!this.path.some(_C));this.mixTargetDelta=function(t){var n,i,h,f,p,m=t/1e3;gC(s.x,e.x,m),gC(s.y,e.y,m),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(MT(l,r.layout.actual,r.relativeParent.layout.actual),i=r.relativeTarget,h=r.relativeTargetOrigin,f=l,p=m,yC(i.x,h.x,f.x,p),yC(i.y,h.y,f.y,p)),u&&(r.animationValues=a,function(e,t,n,r,i,o){var a,s,l,u;i?(e.opacity=Gk(0,null!==(a=n.opacity)&&void 0!==a?a:1,lT(r)),e.opacityExit=Gk(null!==(s=t.opacity)&&void 0!==s?s:1,0,uT(r))):o&&(e.opacity=Gk(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=n.opacity)&&void 0!==u?u:1,r));for(var c=0;c<aT;c++){var d="border".concat(oT[c],"Radius"),h=sT(t,d),f=sT(n,d);if((void 0!==h||void 0!==f)&&(h||(h=0),f||(f=0),"number"==typeof h&&"number"==typeof f)){var p=Math.max(Gk(h,f,r),0);e[d]=p}}(t.rotate||n.rotate)&&(e.rotate=Gk(t.rotate||0,n.rotate||0,r))}(a,o,r.latestValues,m,d,c)),r.root.scheduleUpdateProjection(),r.scheduleRender()},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(mk.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wk.update((function(){oC.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=nE(0)?0:tE(0);return iT("",r,1e3,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,0,ff(ff({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(hT(t,n),TT(t,i),AT(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new $T),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<GT.length;r++){var i="rotate"+GT[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null==e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,o,a;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=iC(e.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,c.pointerEvents=iC(e.pointerEvents)||""),this.hasProjected&&!mT(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=QT(this.projectionDeltaWithTransform,this.treeScale,d),l&&(s.transform=l(d,s.transform));var h=this.projectionDelta,f=h.x,p=h.y;for(var m in s.transformOrigin="".concat(100*f.origin,"% ").concat(100*p.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(i=null!==(r=d.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?null!==(o=d.opacity)&&void 0!==o?o:"":null!==(a=d.opacityExit)&&void 0!==a?a:0,HT)if(void 0!==d[m]){var v=HT[m],g=v.correct,y=v.applyTo,_=g(d[m],u);if(y)for(var b=y.length,w=0;w<b;w++)s[y[w]]=_;else s[m]=_}return this.options.layoutId&&(s.pointerEvents=u===this?iC(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(cC),this.root.sharedNodes.clear()},e}()}function sC(e){e.updateLayout()}function lC(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,l=a.measured;"size"===e.options.animationType?KT((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=OT(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&KT((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=OT(s[e]);t.max=t.min+n}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};AT(u,s,o.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?AT(c,e.applyTransform(l,!0),o.measured):AT(c,s,o.layout);var d=!BT(u),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var f=e.relativeParent,p=f.snapshot,m=f.layout;if(p&&m){var v={x:{min:0,max:0},y:{min:0,max:0}};MT(v,o.layout,p.layout);var g={x:{min:0,max:0},y:{min:0,max:0}};MT(g,s,m.actual),WT(v,g)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:c,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function uC(e){e.clearSnapshot()}function cC(e){e.clearMeasurements()}function dC(e){e.resetTransform()}function hC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function fC(e){e.resolveTargetDelta()}function pC(e){e.calcProjection()}function mC(e){e.resetRotation()}function vC(e){e.removeLeadSnapshot()}function gC(e,t,n){e.translate=Gk(t.translate,0,n),e.scale=Gk(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yC(e,t,n,r){e.min=Gk(t.min,n.min,r),e.max=Gk(t.max,n.max,r)}function _C(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var bC={duration:.45,ease:[.4,0,.1,1]};function wC(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function kC(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function EC(e){kC(e.x),kC(e.y)}var SC=1,TC=(0,r.createContext)({}),CC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(r.Component);function xC(e){var t=e.preloadedFeatures,n=e.createVisualElement,i=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,s=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?Ak.projectionNodeConstructor=e[t]:Ak[t].Component=e[t])}(t),(0,r.forwardRef)((function(e,t){var l=function(e){var t,n=e.layoutId,i=null===(t=(0,r.useContext)(Nk))||void 0===t?void 0:t.id;return i&&void 0!==n?i+"-"+n:n}(e);e=ff(ff({},e),{layoutId:l});var u=(0,r.useContext)(Fk),c=null,d=function(e){var t=function(e,t){if(Hk(e)){var n=e.initial,r=e.animate;return{initial:!1===n||Bk(n)?n:void 0,animate:Bk(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(Vk)),n=t.initial,i=t.animate;return(0,r.useMemo)((function(){return{initial:n,animate:i}}),[Kk(n),Kk(i)])}(e),h=u.isStatic?void 0:Sk((function(){if(oC.hasEverUpdated)return SC++})),f=a(e,u.isStatic);return!u.isStatic&&jk&&(d.visualElement=function(e,t,n,i){var o=(0,r.useContext)(Dk),a=(0,r.useContext)(Vk).visualElement,s=(0,r.useContext)(Ek),l=(0,r.useRef)(void 0);i||(i=o.renderer),!l.current&&i&&(l.current=i(e,{visualState:t,parent:a,props:n,presenceId:null==s?void 0:s.id,blockInitialAnimation:!1===(null==s?void 0:s.initial)}));var u=l.current;return Uk((function(){null==u||u.syncRender()})),(0,r.useEffect)((function(){var e;null===(e=null==u?void 0:u.animationState)||void 0===e||e.animateChanges()})),Uk((function(){return function(){return null==u?void 0:u.notifyUnmount()}}),[]),u}(s,f,ff(ff({},u),e),n),function(e,t,n,i){var o,a=t.layoutId,s=t.layout,l=t.drag,u=t.dragConstraints,c=t.layoutScroll,d=(0,r.useContext)(TC);i&&n&&!(null==n?void 0:n.projection)&&(n.projection=new i(e,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(l)||u&&qk(u),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"==typeof s?s:"both",initialPromotionConfig:d,layoutScroll:c}))}(h,e,d.visualElement,i||Ak.projectionNodeConstructor),c=function(e,t,n){var i=[];if((0,r.useContext)(Dk),!t)return null;for(var o=0;o<Mk;o++){var a=Lk[o],s=Ak[a],l=s.isEnabled,u=s.Component;l(e)&&u&&i.push(r.createElement(u,ff({key:a},e,{visualElement:t})))}return i}(e,d.visualElement)),r.createElement(CC,{visualElement:d.visualElement,props:ff(ff({},u),e)},c,r.createElement(Vk.Provider,{value:d},o(s,e,h,function(e,t,n){return(0,r.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):qk(n)&&(n.current=r))}),[t])}(f,d.visualElement,t),f,u.isStatic,d.visualElement)))}))}function IC(e){function t(t,n){return void 0===n&&(n={}),xC(e(t,n))}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var NC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function OC(e){return"string"==typeof e&&!e.includes("-")&&!!(NC.indexOf(e)>-1||/[A-Z]/.test(e))}function RC(e,t){var n=t.layout,r=t.layoutId;return ZT(e)||tC(e)||(n||void 0!==r)&&(!!HT[e]||"opacity"===e)}var PC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function AC(e){return e.startsWith("--")}var DC=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function LC(e,t,n,r){var i,o=e.style,a=e.vars,s=e.transform,l=e.transformKeys,u=e.transformOrigin;l.length=0;var c=!1,d=!1,h=!0;for(var f in t){var p=t[f];if(AC(f))a[f]=p;else{var m=GS[f],v=DC(p,m);if(ZT(f)){if(c=!0,s[f]=v,l.push(f),!h)continue;p!==(null!==(i=m.default)&&void 0!==i?i:0)&&(h=!1)}else tC(f)?(u[f]=v,d=!0):o[f]=v}}c?o.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,l=t.allowTransformNone,u=void 0===l||l,c="";o.sort(JT);for(var d=!1,h=o.length,f=0;f<h;f++){var p=o[f];c+="".concat(PC[p]||p,"(").concat(i[p],") "),"z"===p&&(d=!0)}return!d&&s?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):u&&n&&(c="none"),c}(e,n,h,r):r&&(o.transform=r({},"")),d&&(o.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ,a=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(a)}(u))}function MC(e,t,n){for(var r in t)nE(t[r])||RC(r,n)||(e[r]=t[r])}function FC(e,t,n){var i={},o=function(e,t,n){var i={};return MC(i,e.style||{},e),Object.assign(i,function(e,t,n){var i=e.transformTemplate;return(0,r.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};LC(e,t,{enableHardwareAcceleration:!n},i);var r=e.style;return ff(ff({},e.vars),r)}),[t])}(e,t,n)),e.transformValues&&(i=e.transformValues(i)),i}(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),i.style=o,i}var VC=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function jC(e){return VC.has(e)}var UC=function(e){return!jC(e)};try{var qC=require("@emotion/is-prop-valid").default;UC=function(e){return e.startsWith("on")?!jC(e):qC(e)}}catch(Um){}function zC(e,t,n){return"string"==typeof e?e:NE.transform(t+n*e)}var BC={offset:"stroke-dashoffset",array:"stroke-dasharray"},WC={offset:"strokeDashoffset",array:"strokeDasharray"};function $C(e,t,n,r){var i=t.attrX,o=t.attrY,a=t.originX,s=t.originY,l=t.pathLength,u=t.pathSpacing,c=void 0===u?1:u,d=t.pathOffset,h=void 0===d?0:d;LC(e,pf(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var f=e.attrs,p=e.style,m=e.dimensions;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==a||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=zC(t,e.x,e.width),i=zC(n,e.y,e.height);return"".concat(r," ").concat(i)}(m,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==i&&(f.x=i),void 0!==o&&(f.y=o),void 0!==l&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var o=i?BC:WC;e[o.offset]=NE.transform(-r);var a=NE.transform(t),s=NE.transform(n);e[o.array]="".concat(a," ").concat(s)}(f,l,c,h,!1)}var HC=function(){return ff(ff({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function QC(e,t){var n=(0,r.useMemo)((function(){var n=HC();return $C(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),ff(ff({},n.attrs),{style:ff({},n.style)})}),[t]);if(e.style){var i={};MC(i,e.style,e),n.style=ff(ff({},i),n.style)}return n}function KC(e){return void 0===e&&(e=!1),function(t,n,i,o,a,s){var l=a.latestValues,u=(OC(t)?QC:FC)(n,l,s),c=function(e,t,n){var r={};for(var i in e)(UC(i)||!0===n&&jC(i)||!t&&!jC(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),d=ff(ff(ff({},c),u),{ref:o});return i&&(d["data-projection-id"]=i),(0,r.createElement)(t,d)}}var GC=/([a-z])([A-Z])/g,YC=function(e){return e.replace(GC,"$1-$2").toLowerCase()};function JC(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var XC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function ZC(e,t){for(var n in JC(e,t),t.attrs)e.setAttribute(XC.has(n)?n:YC(n),t.attrs[n])}function ex(e){var t=e.style,n={};for(var r in t)(nE(t[r])||RC(r,e))&&(n[r]=t[r]);return n}function tx(e){var t=ex(e);for(var n in e)nE(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function nx(e){return"object"==typeof e&&"function"==typeof e.start}function rx(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:ox(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var ix=function(e){return function(t,n){var i=(0,r.useContext)(Vk),o=(0,r.useContext)(Ek);return n?rx(e,t,i,o):Sk((function(){return rx(e,t,i,o)}))}};function ox(e,t,n,r){var i={},o=!1===(null==n?void 0:n.initial),a=r(e);for(var s in a)i[s]=iC(a[s]);var l=e.initial,u=e.animate,c=Hk(e),d=Qk(e);t&&d&&!c&&!1!==e.inherit&&(null!=l||(l=t.initial),null!=u||(u=t.animate));var h=o||!1===l,f=h?u:l;return f&&"boolean"!=typeof f&&!nx(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=Wk(e,t);if(n){var r=n.transitionEnd;n.transition;var o=pf(n,["transitionEnd","transition"]);for(var a in o){var s=o[a];Array.isArray(s)&&(s=s[h?s.length-1:0]),null!==s&&(i[a]=s)}for(var a in r)i[a]=r[a]}})),i}var ax,sx={useVisualState:ix({scrapeMotionValuesFromProps:tx,createRenderState:HC,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}$C(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),ZC(t,r)}})},lx={useVisualState:ix({scrapeMotionValuesFromProps:ex,createRenderState:function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}}})};function ux(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function cx(e,t,n,i){(0,r.useEffect)((function(){var r=e.current;if(n&&r)return ux(r,t,n,i)}),[e,t,n,i])}function dx(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function hx(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(ax||(ax={}));var fx={pageX:0,pageY:0};function px(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||fx;return{x:n[t+"X"],y:n[t+"Y"]}}function mx(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function vx(e,t){return void 0===t&&(t="page"),{point:hx(e)?px(e,t):mx(e,t)}}var gx=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,vx(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},yx={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},_x={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function bx(e){return jk&&null===window.onpointerdown?e:jk&&null===window.ontouchstart?_x[e]:jk&&null===window.onmousedown?yx[e]:e}function wx(e,t,n,r){return ux(e,bx(t),gx(n,"pointerdown"===t),r)}function kx(e,t,n,r){return cx(e,bx(t),n&&gx(n,"pointerdown"===t),r)}function Ex(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Sx=Ex("dragHorizontal"),Tx=Ex("dragVertical");function Cx(e){var t=!1;if("y"===e)t=Tx();else if("x"===e)t=Sx();else{var n=Sx(),r=Tx();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function xx(){var e=Cx(!0);return!e||(e(),!1)}function Ix(e,t,n){return function(r,i){var o;dx(r)&&!xx()&&(null===(o=e.animationState)||void 0===o||o.setActive(ax.Hover,t),null==n||n(r,i))}}var Nx=function(e,t){return!!t&&(e===t||Nx(e,t.parentElement))},Ox=new WeakMap,Rx=new WeakMap,Px=function(e){var t;null===(t=Ox.get(e.target))||void 0===t||t(e)},Ax=function(e){e.forEach(Px)};var Dx={some:0,all:1};function Lx(e,t,n,i){var o=i.root,a=i.margin,s=i.amount,l=void 0===s?"some":s,u=i.once;(0,r.useEffect)((function(){if(e){var r={root:null==o?void 0:o.current,rootMargin:a,threshold:"number"==typeof l?l:Dx[l]};return function(e,t,n){var r=function(e){var t=e.root,n=pf(e,["root"]),r=t||document;Rx.has(r)||Rx.set(r,{});var i=Rx.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(Ax,ff({root:t},n))),i[o]}(t);return Ox.set(e,n),r.observe(e),function(){Ox.delete(e),r.unobserve(e)}}(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!u||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(ax.InView,i);var o=n.getProps(),a=i?o.onViewportEnter:o.onViewportLeave;null==a||a(e)}}))}}),[e,o,a,l])}function Mx(e,t,n){(0,r.useEffect)((function(){e&&requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(ax.InView,!0)}))}),[e])}var Fx=function(e){return function(t){return e(t),null}},Vx={inView:Fx((function(e){var t=e.visualElement,n=e.whileInView,i=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,s=void 0===a?{}:a,l=(0,r.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(n||i||o);s.once&&l.current.hasEnteredView&&(u=!1),("undefined"==typeof IntersectionObserver?Mx:Lx)(u,l.current,t,s)})),tap:Fx((function(e){var t=e.onTap,n=e.onTapStart,i=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=t||n||i||o,l=(0,r.useRef)(!1),u=(0,r.useRef)(null);function c(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function d(){var e;return c(),l.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(ax.Tap,!1),!xx()}function h(e,n){d()&&(Nx(a.getInstance(),e.target)?null==t||t(e,n):null==i||i(e,n))}function f(e,t){d()&&(null==i||i(e,t))}kx(a,"pointerdown",s?function(e,t){var r;c(),l.current||(l.current=!0,u.current=JE(wx(window,"pointerup",h),wx(window,"pointercancel",f)),null===(r=a.animationState)||void 0===r||r.setActive(ax.Tap,!0),null==n||n(e,t))}:void 0),kk(c)})),focus:Fx((function(e){var t=e.whileFocus,n=e.visualElement;cx(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(ax.Focus,!0)}:void 0),cx(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(ax.Focus,!1)}:void 0)})),hover:Fx((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;kx(i,"pointerenter",t||r?Ix(i,!0,t):void 0),kx(i,"pointerleave",n||r?Ix(i,!1,n):void 0)}))};function jx(){var e=(0,r.useContext)(Ek);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,i=e.register,o=zx();return(0,r.useEffect)((function(){return i(o)}),[]),!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var Ux=0,qx=function(){return Ux++},zx=function(){return Sk(qx)};function Bx(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Wx=function(e){return function(t){return t.test(e)}},$x=[gE,NE,IE,xE,RE,OE,{test:function(e){return"auto"===e},parse:function(e){return e}}],Hx=function(e){return $x.find(Wx(e))},Qx=yf(yf([],gf($x),!1),[qE,KE],!1),Kx=function(e){return Qx.find(Wx(e))};function Gx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,tE(n))}function Yx(e,t){if(t)return(t[e]||t.default||t).from}function Jx(e,t,n){var r;void 0===n&&(n={});var i=$k(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return Xx(e,i,n)}:function(){return Promise.resolve()},l=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=a.delayChildren,o=void 0===i?0:i,s=a.staggerChildren,l=a.staggerDirection;return function(e,t,n,r,i,o){void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=1);var a=[],s=(e.variantChildren.size-1)*r,l=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(Zx).forEach((function(e,r){a.push(Jx(e,t,ff(ff({},o),{delay:n+l(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,o+r,s,l,n)}:function(){return Promise.resolve()},u=a.when;if(u){var c=gf("beforeChildren"===u?[s,l]:[l,s],2),d=c[0],h=c[1];return d().then(h)}return Promise.all([s(),l(n.delay)])}function Xx(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,l=i.type,u=e.makeTargetAnimatable(t),c=u.transition,d=void 0===c?e.getDefaultTransition():c,h=u.transitionEnd,f=pf(u,["transition","transitionEnd"]);s&&(d=s);var p=[],m=l&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[l]);for(var v in f){var g=e.getValue(v),y=f[v];if(!(!g||void 0===y||m&&eI(m,v))){var _=iT(v,g,y,ff({delay:a},d));p.push(_)}}return Promise.all(p).then((function(){h&&function(e,t){var n=$k(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var a=pf(r,["transitionEnd","transition"]);for(var s in a=ff(ff({},a),o))Gx(e,s,ZS(a[s]))}(e,h)}))}function Zx(e,t){return e.sortNodePosition(t)}function eI(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var tI=[ax.Animate,ax.InView,ax.Focus,ax.Hover,ax.Tap,ax.Drag,ax.Exit],nI=yf([],gf(tI),!1).reverse(),rI=tI.length;function iI(e){var t=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return Jx(e,t,n)}));r=Promise.all(i)}else if("string"==typeof t)r=Jx(e,t,n);else{var o="function"==typeof t?$k(e,t,n.custom):t;r=Xx(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}(e),n=function(){var e;return(e={})[ax.Animate]=oI(!0),e[ax.InView]=oI(),e[ax.Hover]=oI(),e[ax.Tap]=oI(),e[ax.Drag]=oI(),e[ax.Focus]=oI(),e[ax.Exit]=oI(),e}(),r={},i=!0,o=function(t,n){var r=$k(e,n);if(r){r.transition;var i=r.transitionEnd,o=pf(r,["transition","transitionEnd"]);t=ff(ff(ff({},t),o),i)}return t};function a(a,s){for(var l,u=e.getProps(),c=e.getVariantContext(!0)||{},d=[],h=new Set,f={},p=1/0,m=function(t){var r=nI[t],m=n[r],v=null!==(l=u[r])&&void 0!==l?l:c[r],g=Bk(v),y=r===s?m.isActive:null;!1===y&&(p=t);var _=v===c[r]&&v!==u[r]&&g;if(_&&i&&e.manuallyAnimateOnMount&&(_=!1),m.protectedKeys=ff({},f),!m.isActive&&null===y||!v&&!m.prevProp||nx(v)||"boolean"==typeof v)return"continue";var b=function(e,t){return"string"==typeof t?t!==e:!!zk(t)&&!Bx(t,e)}(m.prevProp,v),w=b||r===s&&m.isActive&&!_&&g||t>p&&g,k=Array.isArray(v)?v:[v],E=k.reduce(o,{});!1===y&&(E={});var S=m.prevResolvedValues,T=void 0===S?{}:S,C=ff(ff({},T),E),x=function(e){w=!0,h.delete(e),m.needsAnimating[e]=!0};for(var I in C){var N=E[I],O=T[I];f.hasOwnProperty(I)||(N!==O?VS(N)&&VS(O)?!Bx(N,O)||b?x(I):m.protectedKeys[I]=!0:void 0!==N?x(I):h.add(I):void 0!==N&&h.has(I)?x(I):m.protectedKeys[I]=!0)}m.prevProp=v,m.prevResolvedValues=E,m.isActive&&(f=ff(ff({},f),E)),i&&e.blockInitialAnimation&&(w=!1),w&&!_&&d.push.apply(d,yf([],gf(k.map((function(e){return{animation:e,options:ff({type:r},a)}}))),!1))},v=0;v<rI;v++)m(v);if(r=ff({},f),h.size){var g={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),d.push({animation:g})}var y=Boolean(d.length);return i&&!1===u.initial&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:a,setActive:function(t,r,i){var o;return n[t].isActive===r?Promise.resolve():(null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r,a(i,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function oI(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var aI={animation:Fx((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=iI(t)),nx(n)&&(0,r.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:Fx((function(e){var t=e.custom,n=e.visualElement,i=gf(jx(),2),o=i[0],a=i[1],s=(0,r.useContext)(Ek);(0,r.useEffect)((function(){var e,r;n.isPresent=o;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(ax.Exit,!o,{custom:null!==(r=null==s?void 0:s.custom)&&void 0!==r?r:t});!o&&(null==i||i.then(a))}),[o])}))},sI=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=cI(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=NT(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=bk().timestamp;r.history.push(ff(ff({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,l=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=lI(t,r.transformPagePoint),dx(e)&&0===e.buttons?r.handlePointerUp(e,t):wk.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=cI(lI(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!(hx(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=lI(vx(e),this.transformPagePoint),a=o.point,s=bk().timestamp;this.history=[ff(ff({},a),{timestamp:s})];var l=t.onSessionStart;l&&l(e,cI(o,this.history)),this.removeListeners=JE(wx(window,"pointermove",this.handlePointerMove),wx(window,"pointerup",this.handlePointerUp),wx(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),mk.update(this.updatePoint)},e}();function lI(e,t){return t?{point:t(e.point)}:e}function uI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cI(e,t){var n=e.point;return{point:n,delta:uI(n,hI(t)),offset:uI(n,dI(t)),velocity:fI(t,.1)}}function dI(e){return e[0]}function hI(e){return e[e.length-1]}function fI(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=hI(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>xS(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function pI(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function mI(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=gf([i,r],2))[0],i=n[1]),{min:r,max:i}}var vI=.35;function gI(e,t,n){return{min:yI(e,t),max:yI(e,n)}}function yI(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function _I(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function bI(e,t){return _I(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var wI=new WeakMap,kI=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new sI(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(vx(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Cx(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),KT((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(IE.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];o&&(i=OT(o)*(parseFloat(i)/100))}n.originPoint[e]=i})),null==s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(ax.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var l=t.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(l),void(null!==n.currentDirection&&(null==a||a(n.currentDirection)));n.updateAxis("x",t.point,l),n.updateAxis("y",t.point,l),n.visualElement.syncRender(),null==s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null==i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(ax.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&EI(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Gk(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Gk(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&qk(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:pI(e.x,r,o),y:pI(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=vI),!1===e?e=0:!0===e&&(e=vI),{x:gI(e,"left","right"),y:gI(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&KT((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!qk(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=bI(e,n),i=t.scroll;return i&&(wT(r.x,i.x),wT(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:mI(e.x,t.x),y:mI(e.y,t.y)}}(i.layout.actual,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=_I(s))}return a},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,l=n.onDragTransitionEnd,u=this.constraints||{},c=KT((function(n){var l;if(EI(n,r,t.currentDirection)){var c=null!==(l=null==u?void 0:u[n])&&void 0!==l?l:{};s&&(c={min:0,max:0});var d=o?200:1e6,h=o?40:1e7,f=ff(ff({type:"inertia",velocity:i?e[n]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.startAxisValueAnimation(n,f)}}));return Promise.all(c).then(l)},e.prototype.startAxisValueAnimation=function(e,t){return iT(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;KT((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;KT((function(n){if(EI(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],a=o.min,s=o.max;i.set(e[n]-Gk(a,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(qk(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};KT((function(e){var n,r,i,o,s,l=t.getAxisMotionValue(e);if(l){var u=l.get();a[e]=(n={min:u,max:u},r=t.constraints[e],i=.5,o=OT(n),(s=OT(r))>o?i=cE(r.min,r.max-o,n.min):o>s&&(i=cE(n.min,n.max-s,r.min)),rE(0,1,i))}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),KT((function(e){if(EI(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(Gk(o,s,a[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;wI.set(this.visualElement,this);var n=wx(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){qk(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var a=ux(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(KT((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){a(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?vI:u,d=e.dragMomentum,h=void 0===d||d;return ff(ff({},e),{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h})},e}();function EI(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}var SI={pan:Fx((function(e){var t=e.onPan,n=e.onPanStart,i=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=t||n||i||o,l=(0,r.useRef)(null),u=(0,r.useContext)(Fk).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){l.current=null,i&&i(e,t)}};(0,r.useEffect)((function(){null!==l.current&&l.current.updateHandlers(c)})),kx(a,"pointerdown",s&&function(e){l.current=new sI(e,c,{transformPagePoint:u})}),kk((function(){return l.current&&l.current.end()}))})),drag:Fx((function(e){var t=e.dragControls,n=e.visualElement,i=Sk((function(){return new kI(n)}));(0,r.useEffect)((function(){return t&&t.subscribe(i)}),[i,t]),(0,r.useEffect)((function(){return i.addListeners()}),[i])}))},TI=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"],CI=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,u=e.removeValueFromRenderState,c=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,f=e.props,p=e.presenceId,m=e.blockInitialAnimation,v=e.visualState;void 0===t&&(t={});var g,y,_=!1,b=v.latestValues,w=v.renderState,k=function(){var e=TI.map((function(){return new Zk})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){TI.forEach((function(r){var i,o="on"+r,a=e[o];null===(i=t[r])||void 0===i||i.call(t),a&&(t[r]=n[o](a))}))}};return e.forEach((function(e,t){n["on"+TI[t]]=function(t){return e.add(t)},n["notify"+TI[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.notify.apply(e,yf([],gf(t),!1))}})),n}(),E=new Map,S=new Map,T={},C=ff({},b);function x(){g&&_&&(I(),s(g,w,f.style,L.projection))}function I(){r(L,w,b,t,f)}function N(){k.notifyUpdate(b)}var O=d(f);for(var R in O){var P=O[R];void 0!==b[R]&&nE(P)&&P.set(b[R],!1)}var A=Hk(f),D=Qk(f),L=ff(ff({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,variantChildren:D?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==h?void 0:h.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(g)},mount:function(e){_=!0,g=L.current=e,L.projection&&L.projection.mount(e),D&&h&&!A&&(y=null==h?void 0:h.addVariantChild(L)),null==h||h.children.add(L),L.setProps(f)},unmount:function(){var e;null===(e=L.projection)||void 0===e||e.unmount(),mk.update(N),mk.render(x),S.forEach((function(e){return e()})),null==y||y(),null==h||h.children.delete(L),k.clearAllListeners(),g=void 0,_=!1},addVariantChild:function(e){var t,n=L.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&n===e.treeType?c(L.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return D?L:null==h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return f.layoutId},getInstance:function(){return g},getStaticValue:function(e){return b[e]},setStaticValue:function(e,t){return b[e]=t},getLatestValues:function(){return b},setVisibility:function(e){L.isVisible!==e&&(L.isVisible=e,L.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(L,e,f,t)},measureViewportBox:function(){return a(g,f)},addValue:function(e,t){L.hasValue(e)&&L.removeValue(e),E.set(e,t),b[e]=t.get(),function(e,t){var n=t.onChange((function(t){b[e]=t,f.onUpdate&&wk.update(N,!1,!0)})),r=t.onRenderRequest(L.scheduleRender);S.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;E.delete(e),null===(t=S.get(e))||void 0===t||t(),S.delete(e),delete b[e],u(e,w)},hasValue:function(e){return E.has(e)},getValue:function(e,t){var n=E.get(e);return void 0===n&&void 0!==t&&(n=tE(t),L.addValue(e,n)),n},forEachValue:function(e){return E.forEach(e)},readValue:function(e){var n;return null!==(n=b[e])&&void 0!==n?n:l(g,e,t)},setBaseTarget:function(e,t){C[e]=t},getBaseTarget:function(e){if(i){var t=i(f,e);if(void 0!==t&&!nE(t))return t}return C[e]}},k),{build:function(){return I(),w},scheduleRender:function(){wk.render(x,!1,!0)},syncRender:x,setProps:function(e){f=e,k.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(nE(o))e.addValue(i,o);else if(nE(a))e.addValue(i,tE(o));else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else e.addValue(i,tE(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(L,d(f),T)},getProps:function(){return f},getVariant:function(e){var t;return null===(t=f.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return f.transition},getTransformPagePoint:function(){return f.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==h?void 0:h.getVariantContext();if(!A){var t=(null==h?void 0:h.getVariantContext())||{};return void 0!==f.initial&&(t.initial=f.initial),t}for(var n={},r=0;r<II;r++){var i=xI[r],o=f[i];(Bk(o)||!1===o)&&(n[i]=o)}return n}});return L}},xI=yf(["initial"],gf(tI),!1),II=xI.length;function NI(e){return"string"==typeof e&&e.startsWith("var(--")}var OI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function RI(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=gf(function(e){var t=OI.exec(e);if(!t)return[,];var n=gf(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():NI(o)?RI(o,t,n+1):o}}var PI,AI=new Set(["width","height","top","left","right","bottom","x","y"]),DI=function(e){return AI.has(e)},LI=function(e,t){e.set(t,!1),e.set(t)},MI=function(e){return e===gE||e===NE};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(PI||(PI={}));var FI=function(e,t){return parseFloat(e.split(", ")[t])},VI=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return FI(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?FI(a[1],e):0}},jI=new Set(["x","y","z"]),UI=YT.filter((function(e){return!jI.has(e)})),qI={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:VI(4,13),y:VI(5,14)};function zI(e,t,n,r){return function(e){return Object.keys(e).some(DI)}(t)?function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=ff({},t),r=ff({},r);var i=Object.keys(t).filter(DI),o=[],a=!1,s=[];if(i.forEach((function(i){var l=e.getValue(i);if(e.hasValue(i)){var u,c=n[i],d=Hx(c),h=t[i];if(VS(h)){var f=h.length,p=null===h[0]?1:0;c=h[p],d=Hx(c);for(var m=p;m<f;m++)u?Hx(h[m]):(u=Hx(h[m]))===d||MI(d)&&MI(u)}else u=Hx(h);if(d!==u)if(MI(d)&&MI(u)){var v=l.get();"string"==typeof v&&l.set(parseFloat(v)),"string"==typeof h?t[i]=parseFloat(h):Array.isArray(h)&&u===NE&&(t[i]=h.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==u?void 0:u.transform)&&(0===c||0===h)?0===c?l.set(u.transform(c)):t[i]=d.transform(h):(a||(o=function(e){var t=[];return UI.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],LI(l,h))}})),s.length){var l=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=qI[e](r,o)})),t.syncRender();var l=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);LI(r,s[n]),e[n]=qI[n](l,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var n=gf(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var BI={treeType:"dom",readValueFromInstance:function(e,t){if(ZT(t)){var n=JS(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(AC(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return bI(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=pf(t,["transition","transitionEnd"]),l=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!==(r=Yx(a,t))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),l&&(l=i(l))),r){!function(e,t,n){var r,i,o,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),l=s.length;if(l)for(var u=0;u<l;u++){var c=s[u],d=t[c],h=null;Array.isArray(d)&&(h=d[0]),null===h&&(h=null!==(i=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==i?i:t[c]),null!=h&&("string"==typeof h&&(/^\-?\d*\.?\d+$/.test(h)||/^0[^.\s]+$/.test(h))?h=parseFloat(h):!Kx(h)&&KE.test(d)&&(h=XS(c,d)),e.addValue(c,tE(h)),null!==(o=(a=n)[c])&&void 0!==o||(a[c]=h),e.setBaseTarget(c,h))}}(e,s,l);var u=function(e,t,n,r){var i=function(e,t,n){var r,i=pf(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:n};for(var a in n&&(n=ff({},n)),e.forEachValue((function(e){var t=e.get();if(NI(t)){var n=RI(t,o);n&&e.set(n)}})),i){var s=i[a];if(NI(s)){var l=RI(s,o);l&&(i[a]=l,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return zI(e,t=i.target,n,r=i.transitionEnd)}(e,s,l,a);a=u.transitionEnd,s=u.target}return ff({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:ex,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),LC(t,n,r,i.transformTemplate)},render:JC},WI=CI(BI),$I=CI(ff(ff({},BI),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return ZT(t)?(null===(n=JS(t))||void 0===n?void 0:n.default)||0:(t=XC.has(t)?t:YC(t),e.getAttribute(t))},scrapeMotionValuesFromProps:tx,build:function(e,t,n,r,i){$C(t,n,r,i.transformTemplate)},render:ZC})),HI=function(e,t){return OC(e)?$I(t,{enableHardwareAcceleration:!1}):WI(t,{enableHardwareAcceleration:!0})};function QI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var KI={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!NE.test(e))return e;e=parseFloat(e)}var n=QI(e,t.target.x),r=QI(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},GI="_$css",YI={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(OI,(function(e){return a.push(e),GI})));var s=KE.parse(e);if(s.length>5)return i;var l=KE.createTransformer(e),u="number"!=typeof s[0]?1:0,c=r.x.scale*n.x,d=r.y.scale*n.y;s[0+u]/=c,s[1+u]/=d;var h=Gk(c,d,.5);"number"==typeof s[2+u]&&(s[2+u]/=h),"number"==typeof s[3+u]&&(s[3+u]/=h);var f=l(s);if(o){var p=0;f=f.replace(GI,(function(){var e=a[p];return p++,e}))}return f}},JI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hf(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,s=r.projection;e=XI,Object.assign(HT,e),s&&((null==i?void 0:i.group)&&i.group.add(s),(null==o?void 0:o.register)&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(ff(ff({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),oC.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s?(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||wk.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(i),(null==r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(r.Component),XI={borderRadius:ff(ff({},KI),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:KI,borderTopRightRadius:KI,borderBottomLeftRadius:KI,borderBottomRightRadius:KI,boxShadow:YI},ZI={measureLayout:function(e){var t=gf(jx(),2),n=t[0],i=t[1],o=(0,r.useContext)(Nk);return r.createElement(JI,ff({},e,{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(TC),isPresent:n,safeToRemove:i}))}},eN=aC({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),tN={current:void 0},nN=aC({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!tN.current){var e=new eN(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),tN.current=e}return tN.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"}}),rN=ff(ff(ff(ff({},aI),Vx),SI),ZI),iN=IC((function(e,t){return function(e,t,n,r,i){var o=t.forwardMotionProps,a=void 0!==o&&o,s=OC(e)?sx:lx;return ff(ff({},s),{preloadedFeatures:n,useRender:KC(a),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,rN,HI,nN)}));function oN(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const aN=/\r\n|[\n\r]/g;function sN(e,t){let n=0,r=1;for(const i of e.body.matchAll(aN)){if("number"==typeof i.index||oN(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function lN(e){return uN(e.source,sN(e.source,e.start))}function uN(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,l=t.column+s,u=`${e.name}:${a}:${l}\n`,c=r.split(/\r\n|[\n\r]/g),d=c[i];if(d.length>120){const e=Math.floor(l/80),t=l%80,n=[];for(let e=0;e<d.length;e+=80)n.push(d.slice(e,e+80));return u+cN([[`${a} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return u+cN([[a-1+" |",c[i-1]],[`${a} |`,d],["|","^".padStart(l)],[`${a+1} |`,c[i+1]]])}function cN(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class dN extends Error{constructor(e,t,n,r,i,o,a){var s,l,u;super(e),this.name="GraphQLError",this.path=null!=i?i:void 0,this.originalError=null!=o?o:void 0,this.nodes=hN(Array.isArray(t)?t:t?[t]:void 0);const c=hN(null===(s=this.nodes)||void 0===s?void 0:s.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=n?n:null==c||null===(l=c[0])||void 0===l?void 0:l.source,this.positions=null!=r?r:null==c?void 0:c.map((e=>e.start)),this.locations=r&&n?r.map((e=>sN(n,e))):null==c?void 0:c.map((e=>sN(e.source,e.start)));const d="object"==typeof(h=null==o?void 0:o.extensions)&&null!==h?null==o?void 0:o.extensions:void 0;var h;this.extensions=null!==(u=null!=a?a:d)&&void 0!==u?u:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,dN):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+lN(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+uN(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function hN(e){return void 0===e||0===e.length?void 0:e}function fN(e,t,n){return new dN(`Syntax Error: ${n}`,void 0,e,[t])}let pN,mN;var vN;(vN=pN||(pN={})).SOF="<SOF>",vN.EOF="<EOF>",vN.BANG="!",vN.DOLLAR="$",vN.AMP="&",vN.PAREN_L="(",vN.PAREN_R=")",vN.SPREAD="...",vN.COLON=":",vN.EQUALS="=",vN.AT="@",vN.BRACKET_L="[",vN.BRACKET_R="]",vN.BRACE_L="{",vN.PIPE="|",vN.BRACE_R="}",vN.NAME="Name",vN.INT="Int",vN.FLOAT="Float",vN.STRING="String",vN.BLOCK_STRING="BlockString",vN.COMMENT="Comment",function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(mN||(mN={}));class gN{constructor(e){const t=new ig(pN.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==pN.EOF)do{if(e.next)e=e.next;else{const t=SN(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===pN.COMMENT);return e}}function yN(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function _N(e,t){return bN(e.charCodeAt(t))&&wN(e.charCodeAt(t+1))}function bN(e){return e>=55296&&e<=56319}function wN(e){return e>=56320&&e<=57343}function kN(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return pN.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function EN(e,t,n,r,i){const o=e.line,a=1+n-e.lineStart;return new ig(t,n,r,o,a,i)}function SN(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return TN(e,i);case 33:return EN(e,pN.BANG,i,i+1);case 36:return EN(e,pN.DOLLAR,i,i+1);case 38:return EN(e,pN.AMP,i,i+1);case 40:return EN(e,pN.PAREN_L,i,i+1);case 41:return EN(e,pN.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return EN(e,pN.SPREAD,i,i+3);break;case 58:return EN(e,pN.COLON,i,i+1);case 61:return EN(e,pN.EQUALS,i,i+1);case 64:return EN(e,pN.AT,i,i+1);case 91:return EN(e,pN.BRACKET_L,i,i+1);case 93:return EN(e,pN.BRACKET_R,i,i+1);case 123:return EN(e,pN.BRACE_L,i,i+1);case 124:return EN(e,pN.PIPE,i,i+1);case 125:return EN(e,pN.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?DN(e,i):IN(e,i)}if(yg(t)||45===t)return CN(e,i,t);if(bg(t))return LN(e,i);throw fN(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":yN(t)||_N(n,i)?`Unexpected character: ${kN(e,i)}.`:`Invalid character: ${kN(e,i)}.`)}return EN(e,pN.EOF,r,r)}function TN(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(yN(e))++i;else{if(!_N(n,i))break;i+=2}}return EN(e,pN.COMMENT,t,i,n.slice(t+1,i))}function CN(e,t,n){const r=e.source.body;let i=t,o=n,a=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),yg(o))throw fN(e.source,i,`Invalid number, unexpected digit after 0: ${kN(e,i)}.`)}else i=xN(e,i,o),o=r.charCodeAt(i);if(46===o&&(a=!0,o=r.charCodeAt(++i),i=xN(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(a=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=xN(e,i,o),o=r.charCodeAt(i)),46===o||bg(o))throw fN(e.source,i,`Invalid number, expected digit but got: ${kN(e,i)}.`);return EN(e,a?pN.FLOAT:pN.INT,t,i,r.slice(t,i))}function xN(e,t,n){if(!yg(n))throw fN(e.source,t,`Invalid number, expected digit but got: ${kN(e,t)}.`);const r=e.source.body;let i=t+1;for(;yg(r.charCodeAt(i));)++i;return i}function IN(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,a="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return a+=n.slice(o,i),EN(e,pN.STRING,t,i+1,a);if(92!==r){if(10===r||13===r)break;if(yN(r))++i;else{if(!_N(n,i))throw fN(e.source,i,`Invalid character within String: ${kN(e,i)}.`);i+=2}}else{a+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?NN(e,i):ON(e,i):AN(e,i);a+=t.value,i+=t.size,o=i}}throw fN(e.source,i,"Unterminated string.")}function NN(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!yN(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|PN(e),r<0)break}throw fN(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function ON(e,t){const n=e.source.body,r=RN(n,t+2);if(yN(r))return{value:String.fromCodePoint(r),size:6};if(bN(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=RN(n,t+8);if(wN(e))return{value:String.fromCodePoint(r,e),size:12}}throw fN(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function RN(e,t){return PN(e.charCodeAt(t))<<12|PN(e.charCodeAt(t+1))<<8|PN(e.charCodeAt(t+2))<<4|PN(e.charCodeAt(t+3))}function PN(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function AN(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw fN(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function DN(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,a=o,s="";const l=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){s+=n.slice(a,o),l.push(s);const r=EN(e,pN.BLOCK_STRING,t,o+3,wg(l).join("\n"));return e.line+=l.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(yN(r))++o;else{if(!_N(n,o))throw fN(e.source,o,`Invalid character within String: ${kN(e,o)}.`);o+=2}else s+=n.slice(a,o),l.push(s),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,s="",a=o,i=o;else s+=n.slice(a,o),a=o+1,o+=4}throw fN(e.source,o,"Unterminated string.")}function LN(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r&&(_g(o=n.charCodeAt(i))||yg(o)||95===o);)++i;var o;return EN(e,pN.NAME,t,i,n.slice(t,i))}class MN{constructor(e,t){const n=function(e){return e instanceof ov}(e)?e:new ov(e);this._lexer=new gN(n),this._options=t}parseName(){const e=this.expectToken(pN.NAME);return this.node(e,{kind:ug.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ug.DOCUMENT,definitions:this.many(pN.SOF,this.parseDefinition,pN.EOF)})}parseDefinition(){if(this.peek(pN.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===pN.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw fN(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(pN.BRACE_L))return this.node(e,{kind:ug.OPERATION_DEFINITION,operation:lg.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(pN.NAME)&&(n=this.parseName()),this.node(e,{kind:ug.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(pN.NAME);switch(e.value){case"query":return lg.QUERY;case"mutation":return lg.MUTATION;case"subscription":return lg.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(pN.PAREN_L,this.parseVariableDefinition,pN.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ug.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(pN.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(pN.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(pN.DOLLAR),this.node(e,{kind:ug.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ug.SELECTION_SET,selections:this.many(pN.BRACE_L,this.parseSelection,pN.BRACE_R)})}parseSelection(){return this.peek(pN.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(pN.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:ug.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(pN.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(pN.PAREN_L,t,pN.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(pN.COLON),this.node(t,{kind:ug.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(pN.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(pN.NAME)?this.node(e,{kind:ug.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ug.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:ug.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:ug.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case pN.BRACKET_L:return this.parseList(e);case pN.BRACE_L:return this.parseObject(e);case pN.INT:return this._lexer.advance(),this.node(t,{kind:ug.INT,value:t.value});case pN.FLOAT:return this._lexer.advance(),this.node(t,{kind:ug.FLOAT,value:t.value});case pN.STRING:case pN.BLOCK_STRING:return this.parseStringLiteral();case pN.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:ug.BOOLEAN,value:!0});case"false":return this.node(t,{kind:ug.BOOLEAN,value:!1});case"null":return this.node(t,{kind:ug.NULL});default:return this.node(t,{kind:ug.ENUM,value:t.value})}case pN.DOLLAR:if(e){if(this.expectToken(pN.DOLLAR),this._lexer.token.kind===pN.NAME){const e=this._lexer.token.value;throw fN(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:ug.STRING,value:e.value,block:e.kind===pN.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:ug.LIST,values:this.any(pN.BRACKET_L,(()=>this.parseValueLiteral(e)),pN.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:ug.OBJECT,fields:this.any(pN.BRACE_L,(()=>this.parseObjectField(e)),pN.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(pN.COLON),this.node(t,{kind:ug.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(pN.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(pN.AT),this.node(t,{kind:ug.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(pN.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(pN.BRACKET_R),t=this.node(e,{kind:ug.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(pN.BANG)?this.node(e,{kind:ug.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:ug.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(pN.STRING)||this.peek(pN.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(pN.BRACE_L,this.parseOperationTypeDefinition,pN.BRACE_R);return this.node(e,{kind:ug.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(pN.COLON);const n=this.parseNamedType();return this.node(e,{kind:ug.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:ug.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ug.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(pN.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(pN.BRACE_L,this.parseFieldDefinition,pN.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(pN.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:ug.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(pN.PAREN_L,this.parseInputValueDef,pN.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(pN.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(pN.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:ug.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ug.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:ug.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(pN.EQUALS)?this.delimitedMany(pN.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:ug.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(pN.BRACE_L,this.parseEnumValueDefinition,pN.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:ug.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw fN(this._lexer.source,this._lexer.token.start,`${FN(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:ug.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(pN.BRACE_L,this.parseInputValueDef,pN.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===pN.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(pN.BRACE_L,this.parseOperationTypeDefinition,pN.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ug.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:ug.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:ug.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:ug.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ug.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ug.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ug.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(pN.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:ug.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(pN.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(mN,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new rg(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw fN(this._lexer.source,t.start,`Expected ${VN(e)}, found ${FN(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==pN.NAME||t.value!==e)throw fN(this._lexer.source,t.start,`Expected "${e}", found ${FN(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===pN.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return fN(this._lexer.source,t.start,`Unexpected ${FN(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function FN(e){const t=e.value;return VN(e.kind)+(null!=t?` "${t}"`:"")}function VN(e){return function(e){return e===pN.BANG||e===pN.DOLLAR||e===pN.AMP||e===pN.PAREN_L||e===pN.PAREN_R||e===pN.SPREAD||e===pN.COLON||e===pN.EQUALS||e===pN.AT||e===pN.BRACKET_L||e===pN.BRACKET_R||e===pN.BRACE_L||e===pN.PIPE||e===pN.BRACE_R}(e)?`"${e}"`:e}var jN=new Map,UN=new Map,qN=!0,zN=!1;function BN(e){return e.replace(/[\s,]+/g," ").trim()}function WN(e){var t,n,r,i=BN(e);if(!jN.has(i)){var o=function(e,t){return new MN(e,t).parseDocument()}(e,{experimentalFragmentVariables:zN,allowLegacyFragmentVariables:zN});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");jN.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=BN((a=e.loc).source.body.substring(a.start,a.end)),o=UN.get(t);o&&!o.has(i)?qN&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||UN.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var a})),ff(ff({},t),{definitions:r}))))}return jN.get(i)}function $N(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),WN(r)}var HN,QN=$N;(HN=$N||($N={})).gql=QN,HN.resetCaches=function(){jN.clear(),UN.clear()},HN.disableFragmentWarnings=function(){qN=!1},HN.enableExperimentalFragmentVariables=function(){zN=!0},HN.disableExperimentalFragmentVariables=function(){zN=!1},$N.default=$N;const KN=aa({key:"getAllCharacters",default:[],effects_UNSTABLE:[({setSelf:e})=>{(async()=>{const{data:{personages:t}}=await Kw.query({query:$N`
                        query getPersonnages {
                            personages(first: 1000) {
                                id
                                nom
                                categories {
                                    nom
                                }
                                image {
                                    url(transformation: {image: {resize: {height: 200}}})
                                    offsetX
                                }
                            }
                        }
                    `}),n=t.map((e=>{if(!e.image)return;const t=e.categories.map((e=>e.nom));return{id:e.id,name:e.nom,categories:t.length>0?t:["Autre"],image:e.image}})).filter((e=>void 0!==e));e(n)})()}]}),GN=ua({key:"getCharactersForPlayer",get:e=>({get:t})=>{if(!e)return[];const n=t(KN),r=`${t(cf)}/characters/${e.id}`,i=(t(Jw(r))||[]).map((e=>n.find((t=>t.id===e)))).filter((e=>null!=e));return i},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(cf)}/characters/${e.id}`;t(Jw(i),r.map((e=>e.id)))}}),YN=ua({key:"getCharacterSecretForPlayer",get:e=>({get:t})=>{if(!e)return;const n=t(KN),r=`${t(cf)}/secret/${e.id}`,i=t(Jw(r));return n.find((e=>e.id===i))},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(cf)}/secret/${e.id}`;t(Jw(i),r?.id)}}),JN=ua({key:"getCharacterGuessForPlayer",get:e=>({get:t})=>{if(!e)return;const n=t(KN),r=`${t(cf)}/guess/${e.id}`,i=t(Jw(r));if(!i)return;const o=n.find((e=>e.id===i.id));if(!o)throw new Error;return{...o,reason:i.reason}},set:e=>({set:t,get:n},r)=>{if(!e||r instanceof ia)return;const i=`${n(cf)}/guess/${e.id}`;t(Jw(i),r)}}),XN=sa({key:"getCategories",get:({get:e})=>e(KN).reduce(((e,t)=>(t.categories.map((t=>{const n=e.find((e=>e.name===t));n?n.count++:e.push({name:t,count:1})})),e)),[]).sort(((e,t)=>e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())))}),ZN=aa({key:"getCategoriesBanned",default:[],effects_UNSTABLE:[({setSelf:e,onSet:t,getLoadable:n})=>{const r=nf(),i=n(cf).contents,o=Wh(r,i),a=Wh(r,`${i}/categoriesBanned`);t((e=>{Kh(o,{categoriesBanned:e})}));const s=Xh(a,(t=>e(t.val()||[])));return()=>s()}]}),eO=()=>{const e=ca(XN),[t,n]=(ca(cf),da(ZN)),[i,o]=(0,r.useState)(!0),{t:a}=Ma(),s={hidden:{y:"82%"},visible:{y:0}};return r.createElement(Rk,null,r.createElement(iN.div,{className:"categories",transition:{duration:.3},initial:"hidden",animate:i?"visible":"hidden",variants:s,exit:s.hidden},r.createElement("div",{className:"categories--title",onClick:()=>o(!i)},a("categories.choose-categories")),r.createElement("div",{className:"categories--container"},e.map(((e,i)=>r.createElement("div",{key:i,className:"categorie"},r.createElement("input",{type:"checkbox",id:e.name,className:"categorie--checkbox",onChange:()=>(e=>t.includes(e)?n(t.filter((t=>t!==e))):n([...t,e]))(e.name),checked:!t.includes(e.name)}),r.createElement("label",{className:"categorie--label",htmlFor:e.name},e.name," (",e.count,")")))))))},tO=({name:e,photoURL:t})=>r.createElement("div",{className:"player"},r.createElement("img",{className:"player--img",src:t,alt:e}),r.createElement("span",{className:"player--name"},e)),nO=la({key:"getPlayers",default:[],effects_UNSTABLE:e=>[({setSelf:t})=>{const n=nf(),r=Wh(n,`${e}/users`);let i=new Map;const o=Xh(r,(e=>{new Map(Object.entries(e.val())).forEach((async(e,r)=>{const o=i.get(r);if(o){const n={...o,online:e};return i.set(r,n),void t([...i.values()])}const a=Wh(n,`users/${r}`),s=await Gh(a);i.set(r,s.val()),t([...i.values()])}))}));return()=>o()}]}),rO=sa({key:"getPlayersOnline",get:({get:e})=>e(nO(e(cf))).filter((e=>e.online))}),iO=sa({key:"getMe",get:({get:e})=>e(nO(e(cf))).find((t=>t.id===e(tk).uid))}),oO=sa({key:"getOpponent",get:({get:e})=>e(nO(e(cf))).find((t=>t.id!==e(tk).uid))}),aO=aa({key:"getRoundState",default:"not-started",effects_UNSTABLE:[({setSelf:e,onSet:t,getLoadable:n})=>{const r=nf(),i=n(cf).contents,o=Wh(r,i),a=Wh(r,`${i}/roundState`);t((e=>{Kh(o,{roundState:e})}));const s=Xh(a,(t=>e(t.val()||"not-started")));return()=>s()}]}),sO=aa({key:"isRoomSameBoard",default:!1,effects_UNSTABLE:[({setSelf:e,onSet:t,getLoadable:n})=>{const r=nf(),i=n(cf).contents,o=Wh(r,i),a=Wh(r,`${i}/sameBoard`);t((e=>{Kh(o,{sameBoard:e})}));const s=Xh(a,(t=>e(t.val()||!1)));return()=>s()}]}),lO=aa({key:"isRoomWinner",default:void 0,effects_UNSTABLE:[({setSelf:e,onSet:t,getLoadable:n})=>{const r=nf(),i=n(cf).contents,o=Wh(r,i),a=Wh(r,`${i}/roomWinner`);t((e=>{null==e?Qh(a):Kh(o,{roomWinner:e})}));const s=Xh(a,(t=>e(t.val()||void 0)));return()=>s()}]}),uO=()=>{const e=ca(cf),t=ca(ZN),n=ca(KN),i=ca(iO),o=ca(oO),a=ca(nO(e)),s=ca(rO),l=ca(uf),[u,c]=(0,r.useState)(!1),d=ha(GN(i)),h=ha(JN(i)),f=ha(YN(i)),p=ha(GN(o)),m=ha(JN(o)),v=ha(YN(o)),g=ha(lO),y=ha(aO),_=ha(lf),[b,w]=da(af),[k,E]=da(sO),S=fa(uf),{t:T}=Ma(),C=()=>{const e=l.split("");return e.map(((t,n)=>n<e.length-3?"⁕":t))},x=()=>{w({...b,lastRoom:void 0}),_(new Map),S(),Ww(Yw,"newRoom",{players:a})};return(0,r.useEffect)((()=>{u&&setTimeout((()=>{c(!1)}),2e3)}),[u]),s.length<2?r.createElement("div",{className:"lobby"},r.createElement("div",{className:"lobby--room-id"},r.createElement("div",null,T("lobby.room")," ",r.createElement("span",{className:"lobby--room-id__value"},C())),r.createElement("button",{className:"lobby--new-room",onClick:x},T("lobby.new-room"))),T("lobby.waiting"),r.createElement("button",{className:"lobby--link",onClick:()=>{c(!0),window.navigator.clipboard.writeText(`${window.location.origin}${window.location.pathname}#room=${l}`)}},T(u?"lobby.link-clicked":"lobby.link"))):r.createElement("div",{className:"lobby"},r.createElement("div",{className:"lobby--room-id"},r.createElement("div",null,T("lobby.room")," ",r.createElement("span",{className:"lobby--room-id__value"},C())),r.createElement("button",{className:"lobby--new-room",onClick:x},T("lobby.new-room"))),2===s.length&&i&&o&&r.createElement("div",{className:"lobby--info lobby--versus"},r.createElement("div",{className:"lobby--versus__me"},r.createElement(tO,{...i})),r.createElement("div",null,"vs"),r.createElement("div",{className:"lobby--versus__opponent"},r.createElement(tO,{...o}))),s.length>2&&r.createElement("div",{className:"lobby--info lobby--toomanyplayers"},T("lobby.too-many-players"),r.createElement("div",{className:"lobby--toomanyplayers__list"},a.map((e=>r.createElement(tO,{key:e.id,...e}))))),r.createElement("button",{className:"lobby--start",onClick:async()=>{f(void 0),h(void 0),v(void 0),m(void 0),g(void 0);const e=function(e,t=0,n=e.length){let r=n-(t=+t);for(;r;){const n=Math.random()*r--|0,i=e[r+t];e[r+t]=e[n+t],e[n+t]=i}return e}(n.filter((e=>{for(let n of e.categories)if(t.includes(n))return!1;return!0}))),r=k?e.length:e.length/2,i=e.slice(0,Math.min(24,r)),o=k?i:e.slice(i.length,i.length+24);d(i),p(o),y("running"),Ww(Yw,"startRound",{players:a,categoriesBanned:t})}},T("lobby.start")),r.createElement("div",{className:"lobby--same-board"},r.createElement("label",{htmlFor:"same-board"},T("lobby.use-same-board")),r.createElement("input",{type:"checkbox",id:"same-board",checked:k,onChange:()=>E(!k)})),r.createElement(eO,null))},cO=n(181),dO=()=>{const{t:e}=Ma();return r.createElement("div",{className:"login"},r.createElement("div",{className:"login--container"},r.createElement("div",{className:"login--container__title"},r.createElement("img",{className:"login--container__logo",src:"./assets/TwitchGlitchPurple.svg"}),e("login.title")),r.createElement("button",{onClick:()=>{window.location.assign(`https://id.twitch.tv/oauth2/authorize?client_id=${cO.twitch.clientId}&redirect_uri=${encodeURIComponent(window.location.origin+window.location.pathname)}&response_type=token`)}},e("login.action")),r.createElement("br",null)))};var hO={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function a(){}function s(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"==typeof i?new i(e):(e(a,a),null)}var l,u,c,d,h,f,p,m,v=(c=Math.floor(1e3/60),d={},h=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(l=function(e){var t=Math.random();return d[t]=requestAnimationFrame((function n(r){h===r||h+c-1<r?(h=r,delete d[t],e()):d[t]=requestAnimationFrame(n)})),t},u=function(e){d[e]&&cancelAnimationFrame(d[e])}):(l=function(e){return setTimeout(e,c)},u=function(e){return clearTimeout(e)}),{frame:l,cancel:u}),g=(m={},function(){if(f)return f;if(!r&&o){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{f=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",e),null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(n,r,i){if(p)return t(n,null),p;var o=Math.random().toString(36).slice(2);return p=s((function(r){function a(t){t.data.callback===o&&(delete m[o],e.removeEventListener("message",a),p=null,i(),r())}e.addEventListener("message",a),t(n,o),m[o]=a.bind(null,{data:{callback:o}})}))},e.reset=function(){for(var t in e.postMessage({reset:!0}),m)m[t](),delete m[t]}}(f)}return f}),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(e,t,n){return function(e,t){return t?t(e):e}(e&&function(e){return!(null==e)}(e[t])?e[t]:y[t],n)}function b(e){return e<0?0:Math.floor(e)}function w(e){return parseInt(e,16)}function k(e){return e.map(E)}function E(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:w(t.substring(0,2)),g:w(t.substring(2,4)),b:w(t.substring(4,6))}}function S(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function T(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function C(e,n){var a,l=!e,u=!!_(n||{},"resize"),c=_(n,"disableForReducedMotion",Boolean),d=o&&_(n||{},"useWorker")?g():null,h=l?S:T,f=!(!e||!d||!e.__confetti_initialized),p="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(t,n,o){for(var l,u,c,d,f=_(t,"particleCount",b),p=_(t,"angle",Number),m=_(t,"spread",Number),g=_(t,"startVelocity",Number),y=_(t,"decay",Number),w=_(t,"gravity",Number),E=_(t,"drift",Number),S=_(t,"colors",k),T=_(t,"ticks",Number),C=_(t,"shapes"),x=_(t,"scalar"),I=function(e){var t=_(e,"origin",Object);return t.x=_(t,"x",Number),t.y=_(t,"y",Number),t}(t),N=f,O=[],R=e.width*I.x,P=e.height*I.y;N--;)O.push((void 0,void 0,u=(l={x:R,y:P,angle:p,spread:m,startVelocity:g,color:S[N%S.length],shape:C[(0,d=C.length,Math.floor(Math.random()*(d-0))+0)],ticks:T,decay:y,gravity:w,drift:E,scalar:x}).angle*(Math.PI/180),c=l.spread*(Math.PI/180),{x:l.x,y:l.y,wobble:10*Math.random(),velocity:.5*l.startVelocity+Math.random()*l.startVelocity,angle2D:-u+(.5*c-Math.random()*c),tiltAngle:Math.random()*Math.PI,color:l.color,shape:l.shape,tick:0,totalTicks:l.ticks,decay:l.decay,drift:l.drift,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*l.gravity,ovalScalar:.6,scalar:l.scalar}));return a?a.addFettis(O):(a=function(e,t,n,o,a){var l,u,c=t.slice(),d=e.getContext("2d"),h=s((function(t){function s(){l=u=null,d.clearRect(0,0,o.width,o.height),a(),t()}l=v.frame((function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),d.clearRect(0,0,o.width,o.height),c=c.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,a,s,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,0,s,void 0),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(d,e)})),c.length?l=v.frame(t):s()})),u=s}));return{addFettis:function(e){return c=c.concat(e),h},canvas:e,promise:h,reset:function(){l&&v.cancel(l),u&&u()}}}(e,O,h,n,o)).promise}function y(n){var r=c||_(n,"disableForReducedMotion",Boolean),i=_(n,"zIndex",Number);if(r&&p)return s((function(e){e()}));l&&a?e=a.canvas:l&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),u&&!f&&h(e);var o={width:e.width,height:e.height};function v(){if(d){var t={getBoundingClientRect:function(){if(!l)return e.getBoundingClientRect()}};return h(t),void d.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function g(){a=null,u&&t.removeEventListener("resize",v),l&&e&&(document.body.removeChild(e),e=null,f=!1)}return d&&!f&&d.init(e),f=!0,d&&(e.__confetti_initialized=!0),u&&t.addEventListener("resize",v,!1),d?d.fire(n,o,g):m(n,o,g)}return y.reset=function(){d&&d.reset(),a&&a.reset()},y}n.exports=C(null,{useWorker:!0,resize:!0}),n.exports.create=C}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),hO,!1);const fO=hO.exports;hO.exports.create;const pO=({font:e,text:t,...n})=>{const i=(0,r.useRef)(null),[o,a]=(0,r.useState)(),[s,l]=(0,r.useState)(),u=function(e,t,n){var i=this,o=(0,r.useRef)(null),a=(0,r.useRef)(0),s=(0,r.useRef)(null),l=(0,r.useRef)([]),u=(0,r.useRef)(),c=(0,r.useRef)(),d=(0,r.useRef)(e),h=(0,r.useRef)(!0);d.current=e;var f=!t&&0!==t&&"undefined"!=typeof window;t=+t||0;var p=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,v="maxWait"in n,g=v?Math.max(+n.maxWait||0,t):null;(0,r.useEffect)((function(){return h.current=!0,function(){h.current=!1}}),[]);var y=(0,r.useMemo)((function(){var e=function(e){var t=l.current,n=u.current;return l.current=u.current=null,a.current=e,c.current=d.current.apply(n,t)},n=function(e,t){f&&cancelAnimationFrame(s.current),s.current=f?requestAnimationFrame(e):setTimeout(e,t)},r=function(e){if(!h.current)return!1;var n=e-o.current,r=e-a.current;return!o.current||n>=t||n<0||v&&r>=g},y=function(t){return s.current=null,m&&l.current?e(t):(l.current=u.current=null,c.current)},_=function(){var e=Date.now();if(r(e))return y(e);if(h.current){var i=e-o.current,s=e-a.current,l=t-i,u=v?Math.min(l,g-s):l;n(_,u)}},b=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=Date.now(),g=r(m);if(l.current=d,u.current=i,o.current=m,g){if(!s.current&&h.current)return a.current=o.current,n(_,t),p?e(o.current):c.current;if(v)return n(_,t),e(o.current)}return s.current||n(_,t),c.current};return b.cancel=function(){s.current&&(f?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,l.current=o.current=u.current=s.current=null},b.isPending=function(){return!!s.current},b.flush=function(){return s.current?y(Date.now()):c.current},b}),[p,v,t,g,m,f]);return y}((()=>{l({width:window.innerWidth,height:window.innerHeight})}),200);return(0,r.useEffect)((()=>{setTimeout((()=>{if(!i.current)return;const n=document.createElement("span");n.innerText=t,n.style.fontFamily=e,n.style.fontSize="100px",n.classList.add("textfit"),document.body.appendChild(n);const{width:r}=i.current.getBoundingClientRect(),{width:o}=n.getBoundingClientRect();var s;n.remove(),a(`${s=r/o*100,12,24,Math.min(Math.max(s,12),24)}px`)}),50)}),[t,s]),(0,r.useEffect)((()=>(window.addEventListener("resize",u),()=>window.removeEventListener("resize",u))),[]),r.createElement("div",{style:{whiteSpace:"nowrap",fontSize:o},...n,ref:i},t)},mO=({animateDelay:e,character:t,disabled:n=!1,onClick:i,position:o,state:a="visible"})=>{const{name:s,image:{offsetX:l}}=t,u=["character--box"],c={backgroundImage:`url(${t.image.url})`};let d;o&&(d={...o,position:"absolute"}),n||"hidden"!==a||u.push("character--box__hiden"),null!==l&&(c.backgroundPosition=100*l+"% center"),!n&&i&&u.push("character--box__action");const h={hidden:{zIndex:o?.zIndex},visible:{zIndex:o?.zIndex}};return r.createElement(Rk,null,r.createElement(iN.div,{className:"character",style:d,transition:{delay:"hidden"===a?.3:0},initial:"visible",animate:a,variants:h},r.createElement(iN.div,{custom:e,className:u.join(" "),initial:"hidden",animate:a,variants:{extrahidden:{y:"95%",transition:{duration:.1}},hidden:{y:"65%",transition:{duration:.4}},visible:e=>({y:0,transition:{delay:.07*(e??1)}}),win:e=>({y:0,transition:{bounce:1,delay:e/10,duration:.5,ease:"easeInOut",repeat:1/0,repeatType:"reverse"}})},onClick:()=>!n&&i&&i(t,a)},r.createElement("div",{className:"character--box__background"},r.createElement("img",{src:"assets/case-background.webp"})),r.createElement("div",{className:"character--box__image",style:c}),r.createElement("div",{className:"character--box__front"},r.createElement("img",{src:"assets/case-front.webp"})),r.createElement(pO,{className:"character--box__name",text:s,font:"Sweaty Belvin"}))))},vO={width:2400,height:1840},gO=({characters:e,charactersHidden:t,onClick:n,opponent:i})=>{const o=[{y:173,x:364,width:1670,height:340,padding:[32,32,0,32]},{y:444,x:320,width:1777,height:354,padding:[32,32,0,32]},{y:800,x:236,width:1946,height:430,padding:[32,32,0,32]},{y:1155,x:877,width:650,height:430,padding:[32,32,0,32]}],a=[32,21,11,0],[s]=(0,r.useState)(new Map),[l,u]=(0,r.useState)(!1),[c,d]=(0,r.useState)(void 0),h=ca(oO),f=ca(lO),p=ca(iO),m=(e,t)=>{let n={...e};if(n.padding){const[e,t,r,i]=n.padding;n.x-=i,n.y-=e,n.width=n.width+i+t,n.height=n.height+e+r}let r={...t};if(r.padding){const[e,t,i,o]=r.padding;r.width=r.width+o+t,r.height=r.height+e+i,n.x+=o,n.y+=e}const{x:i,y:o,width:a,height:s}=n;return{height:s/r.height*100+"%",left:i/r.width*100+"%",top:o/r.height*100+"%",width:a/r.width*100+"%"}},v=(n,r,i)=>{const s=(o[n].width-7*a[n])/(n>2?3:8),l={x:s*r+a[n]*r,y:0,width:s,height:o[n].height},u=t&&i&&t.includes(i);return{...m(l,o[n]),zIndex:!c&&u?e.length-10*n+r:100+10*n+r}},g=(e,t,n)=>{const r=e%2==1;return"win"===c?t+(r?1.8:1):s.get(n)?1:r?8*e+(7-t):8*e+t},y=e=>c||(t&&t.includes(e)?"hidden":"visible"),_=e.reduce(((e,t,n)=>{const r=Math.floor(n/8);return e[r]=e[r]||[],e[r].push(t),e}),[]),b=e=>new Promise((t=>setTimeout((e=>t(!0)),e)));(0,r.useEffect)((()=>{if(!f||!p||f.id!==p.id)return;let e,t=!1;return(async()=>{const n=(e,t)=>Math.random()*(t-e)+e,r={particleCount:100,spread:360,startVelocity:30,ticks:100,zIndex:0};u(!0),d("extrahidden"),await b(150),t||(d("win"),e=setInterval((()=>{fO({...r,origin:{x:n(.1,.3),y:Math.random()-.2}}),fO({...r,origin:{x:n(.4,.6),y:Math.random()-.2}}),fO({...r,origin:{x:n(.7,.9),y:Math.random()-.2}})}),400),await b(1e4),t||(clearInterval(e),d("hidden"),d(void 0),u(!1)))})(),()=>{t=!0,clearInterval(e),d("hidden"),d(void 0),u(!1)}}),[f,p]),(0,r.useEffect)((()=>{if(!f||!p||f.id===p.id)return;let e=!1;return(async()=>{d("extrahidden"),u(!0),await b(10150),e||(d(void 0),u(!1))})(),()=>{e=!0,d("hidden"),d(void 0),u(!1)}}),[f,p]);const{t:w}=Ma();return r.createElement("div",{className:"plateau"},r.createElement("img",{src:"assets/plateau-front.webp",alt:"Plateau"}),_.map(((e,t)=>r.createElement("div",{className:"plateau--row",key:t,style:{...m(o[t],vO)}},e.map(((e,i)=>r.createElement(mO,{key:i,animateDelay:g(t,i,e),character:e,disabled:l,onClick:s.set(e,!0)&&n,position:v(t,i,e),state:y(e)})))))),i&&h&&r.createElement("div",{className:"plateau--opponent",style:{...m(o[3],vO)}},r.createElement("div",{className:"plateau--opponent__row"},r.createElement(mO,{character:i,disabled:!0,position:v(3,0),state:"visible"})),r.createElement("div",{className:"plateau--opponent__info"},r.createElement("div",{className:"plateau--opponent__name"},h.name),r.createElement("div",null,w("scene.must-guess")),r.createElement("div",{className:"plateau--opponent__arrow"},r.createElement("svg",{viewBox:"0 0 500 500",width:"500",height:"500"},r.createElement("path",{style:{fill:"none",strokeWidth:"8px",stroke:"rgb(247, 17, 94)",strokeLinejoin:"round",strokeLinecap:"round"},d:"M 5.127 74.702 C 53.948 79.023 65.32 43.175 64.995 18.138"}),r.createElement("path",{style:{fill:"none",strokeWidth:"8px",stroke:"rgb(247, 17, 94)",strokeLinejoin:"round",strokeLinecap:"round"},d:"M 52.224 21.27 C 52.224 21.27 55.74 7.044 64.61 4.754 C 73.499 2.459 76.584 22.509 76.584 22.509"}))))))},yO=()=>{const e=ca(oO),t=ha(YN(e)),n=ca(GN(e)),{t:i}=Ma();return r.createElement("div",{className:"choosecharacter"},r.createElement("div",{className:"choosecharacter--modal"},r.createElement("div",{className:"choosecharacter--modal__title"},i("choosecharacter.title")),r.createElement("div",{className:"choosecharacter--modal__container"},r.createElement(gO,{characters:n,onClick:e=>{t(e)}}))))},_O=()=>{const e=ca(iO),t=ha(aO),n=ha(YN(e)),i=ha(JN(e)),o=ha(lO),{t:a}=Ma();return r.createElement("div",{className:"finished"},r.createElement("button",{className:"finished--start-again",onClick:()=>{n(void 0),i(void 0),o(void 0),t("not-started")}},a("finished.start-again")))},bO=()=>{const e=ca(cf),t=ca(iO),n=ca(oO),i=ca(nO(e)),o=ca(GN(t)),a=ca(YN(n)),[s,l]=da(JN(t)),[u,c]=da(JN(n)),[d,h]=da(aO),f=ha(lO),[p,m]=(0,r.useState)([]),[v,g]=(0,r.useState)(!1);let y=0;(0,r.useEffect)((()=>{void 0!==s&&"asking"===s.reason&&y++}),[s]),(0,r.useEffect)((()=>(void 0!==s&&"asking"!==s.reason&&setTimeout((()=>{l(void 0)}),5e3),()=>clearTimeout(void 0))),[s]);const _=["scene--plateau"];v&&_.push("scene--guessing");const b={hidden:{y:"-100%"},visible:{y:0}},{t:w}=Ma();return a?r.createElement("div",{className:"scene"},r.createElement("div",{className:_.join(" ")},r.createElement(gO,{characters:o,charactersHidden:p,opponent:a,onClick:v?(e,t)=>{"hidden"!==t&&(l({...e,reason:"asking"}),g(!1))}:e=>{if(p.includes(e))return m(p.filter((t=>t!==e)));m([...p,e])}}),"finished"!==d&&r.createElement(Rk,null,r.createElement(iN.button,{className:"scene--guessing__button",onClick:()=>g(!v)},v?r.createElement("svg",{height:"48",width:"48",viewBox:"0 0 24 24"},r.createElement("path",{d:"M13.427 3.021h-7.427v-3.021l-6 5.39 6 5.61v-3h7.427c3.071 0 5.561 2.356 5.561 5.427 0 3.071-2.489 5.573-5.561 5.573h-7.427v5h7.427c5.84 0 10.573-4.734 10.573-10.573s-4.733-10.406-10.573-10.406z"})):"?")),"finished"===d&&r.createElement(_O,null)),r.createElement(Rk,null,u&&"asking"===u.reason&&r.createElement("div",{className:"scene--characterguessed"},r.createElement(iN.div,{className:"scene--characterguessed__content",transition:{duration:.3},initial:"hidden",animate:"visible",variants:b,exit:b.hidden},r.createElement("div",null,w("plateau.guess-asking")," ",r.createElement("span",{className:"scene--characterguessed__name"},u.name)," ?"),u.id===a.id&&r.createElement("button",{onClick:()=>{if(!u)throw new Error;c({...u,reason:"right"}),h("finished"),f(n),Ww(Yw,"endRound",{players:i,numberOfGuess:y})}},w("plateau.yes")),u.id!==a.id&&r.createElement("button",{onClick:()=>{if(!u)throw new Error;c({...u,reason:"wrong"})}},w("plateau.no"))))),r.createElement(Rk,null,s&&"asking"!==s.reason&&r.createElement("div",{className:"scene--characterguessed"},r.createElement(iN.div,{className:"scene--characterguessed__content",transition:{duration:.3},initial:"hidden",animate:"visible",variants:b,exit:b.hidden},"right"===s.reason&&r.createElement("div",null,w("plateau.guess-right")," ",r.createElement("span",{className:"scene--characterguessed__name"},s.name)," !"),"wrong"===s.reason&&r.createElement("div",null,w("plateau.guess-wrong")," ",r.createElement("span",{className:"scene--characterguessed__name"},s.name),"."))))):r.createElement(yO,null)};function wO(e){return wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wO(e)}function kO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(e,t){return EO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},EO(e,t)}function SO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EO(e,t)}function TO(e,t){if(t&&("object"===wO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kO(e)}function CO(e){return CO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CO(e)}function xO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var NO={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},OO=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ga(this,e),this.init(t,n)}return _a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||NO,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,IO(IO({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}(),RO=new OO,PO=function(){function e(){ga(this,e),this.observers={}}return _a(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function AO(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function DO(e){return null==e?"":""+e}function LO(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function MO(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function FO(e,t,n){var r=MO(e,t,Object);r.obj[r.k]=n}function VO(e,t){var n=MO(e,t),r=n.obj,i=n.k;if(r)return r[i]}function jO(e,t,n){var r=VO(e,n);return void 0!==r?r:VO(t,n)}function UO(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):UO(e[r],t[r],n):e[r]=t[r]);return e}function qO(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var zO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function BO(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return zO[e]})):e}var WO="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,$O=[" ",",","?","!",";"];function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"==typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),l=i[s];void 0===l&&r.length>o+a;)a++,l=i[s=r.slice(o,o+a).join(n)];if(void 0===l)return;if("string"==typeof l)return l;if(s&&"string"==typeof l[s])return l[s];var u=r.slice(o+a).join(n);return u?KO(l,u,n):void 0}i=i[r[o]]}return i}}var GO=function(e){SO(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=CO(t);if(n){var i=CO(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return TO(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ga(this,i),t=r.call(this),WO&&PO.call(kO(t)),t.data=e||{},t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),void 0===t.options.ignoreJSONStructure&&(t.options.ignoreJSONStructure=!0),t}return _a(i,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=VO(this.data,a);return s||!o||"string"!=typeof n?s:KO(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),FO(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=VO(this.data,a)||{};r?UO(s,n,i):s=QO(QO({},s),n),FO(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?QO(QO({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(PO),YO={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JO(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZO={},eR=function(e){SO(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=CO(t);if(n){var i=CO(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return TO(this,e)});function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ga(this,i),t=r.call(this),WO&&PO.call(kO(t)),LO(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,kO(t)),t.options=n,void 0===t.options.keySeparator&&(t.options.keySeparator="."),t.logger=RO.create("translator"),t}return _a(i,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=$O.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r));if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,n){var r=this;if("object"!==wO(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],t),s=a.key,l=a.namespaces,u=l[l.length-1],c=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return u+h+s}return s}var f=this.resolve(e,t),p=f&&f.res,m=f&&f.usedKey||s,v=f&&f.exactUsedKey||s,g=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],_=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(b&&p&&w&&y.indexOf(g)<0&&("string"!=typeof _||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,p,XO(XO({},t),{},{ns:l})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var k="[object Array]"===g,E=k?[]:{},S=k?v:m;for(var T in p)if(Object.prototype.hasOwnProperty.call(p,T)){var C="".concat(S).concat(o).concat(T);E[T]=this.translate(C,XO(XO({},t),{joinArrays:!1,ns:l})),E[T]===C&&(E[T]=p[T])}p=E}}else if(b&&"string"==typeof _&&"[object Array]"===g)(p=p.join(_))&&(p=this.extendTranslation(p,e,t,n));else{var x=!1,I=!1,N=void 0!==t.count&&"string"!=typeof t.count,O=i.hasDefaultValue(t),R=N?this.pluralResolver.getSuffix(c,t.count,t):"",P=t["defaultValue".concat(R)]||t.defaultValue;!this.isValidLookup(p)&&O&&(x=!0,p=P),this.isValidLookup(p)||(I=!0,p=s);var A=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=A&&I?void 0:p,L=O&&P!==p&&this.options.updateMissing;if(I||x||L){if(this.logger.log(L?"updateKey":"missingKey",c,u,s,L?P:p),o){var M=this.resolve(s,XO(XO({},t),{},{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var F=[],V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&V&&V[0])for(var j=0;j<V.length;j++)F.push(V[j]);else"all"===this.options.saveMissingTo?F=this.languageUtils.toResolveHierarchy(t.lng||this.language):F.push(t.lng||this.language);var U=function(e,n,i){var o=O&&i!==p?i:D;r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,n,o,L,t):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,n,o,L,t),r.emit("missingKey",e,u,n,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&N?F.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(n){U([e],s+n,t["defaultValue".concat(n)]||P)}))})):U(F,s,P))}p=this.extendTranslation(p,e,t,f,n),I&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(u,":").concat(s)),(I||x)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(XO(XO({},n),{interpolation:XO(XO({},this.options.interpolation),n.interpolation)}));var a,s="string"==typeof e&&(n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=XO(XO({},this.options.interpolation.defaultVariables),u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var c=e.match(this.interpolator.nestingRegexp);a<(c&&c.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=YO.handle(h,e,t,this.options&&this.options.postProcessPassResolved?XO({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!=typeof s.count,h=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(e){a.isValidLookup(t)||(o=e,!ZO["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(ZO["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,l=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,u,n,e,s);else{var c;d&&(c=a.pluralResolver.getSuffix(n,s.count,s));var p="_zero";if(d&&(l.push(u+c),h&&l.push(u+p)),f){var m="".concat(u).concat(a.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+c),h&&l.push(m+p))}}for(;o=l.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),i}(PO);function tR(e){return e.charAt(0).toUpperCase()+e.slice(1)}var nR=function(){function e(t){ga(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=RO.create("languageUtils")}return _a(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=tR(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=tR(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=tR(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),rR=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],iR={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},oR=["v1","v2","v3"],aR={zero:0,one:1,two:2,few:3,many:4,other:5};function sR(){var e={};return rR.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:iR[t.fc]}}))})),e}var lR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ga(this,e),this.languageUtils=t,this.options=n,this.logger=RO.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=sR()}return _a(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return aR[e]-aR[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!oR.includes(this.options.compatibilityJSON)}}]),e}();function uR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ga(this,e),this.logger=RO.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return _a(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:BO,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?qO(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?qO(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?qO(t.nestingPrefix):t.nestingPrefixEscaped||qO("$t("),this.nestingSuffix=t.nestingSuffix?qO(t.nestingSuffix):t.nestingSuffixEscaped||qO(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(s.formatSeparator)<0){var i=jO(t,l,e);return s.alwaysFormat?s.format(i,void 0,n,cR(cR(cR({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(jO(t,l,a),u,n,cR(cR(cR({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables,f=[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}];return f.forEach((function(t){for(a=0;i=t.regex.exec(e);){if(void 0===(o=c(i[1].trim())))if("function"==typeof d){var n=d(e,i,r);o="string"==typeof n?n:""}else{if(h){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=DO(o));var l=t.safeValue(o);if(e=e.replace(i[0],l),h?(t.regex.lastIndex+=l.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=cR({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=cR(cR({},t),a))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var c=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=c.shift(),l=c,u=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=DO(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),u&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,cR(cR({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hR(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ga(this,e),this.logger=RO.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,fR(fR({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,fR({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,fR({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,fR({},n)).format(e)}},this.init(t)}return _a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e]=t}},{key:"format",value:function(e,t,n,r){var i=this,o=t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=ma(e.split(":"),2),r=t[0],i=t[1];"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10)),n[r.trim()]||(n[r.trim()]=i.trim())}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var l=e;try{var u=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},c=u.locale||u.lng||r.locale||r.lng||n;l=i.formats[a](e,c,fR(fR(fR({},s),r),u))}catch(e){i.logger.warn(e)}return l}return i.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function mR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mR(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gR=function(e){SO(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=CO(t);if(n){var i=CO(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return TO(this,e)});function i(e,t,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ga(this,i),o=r.call(this),WO&&PO.call(kO(o)),o.backend=e,o.store=t,o.services=n,o.languageUtils=n.languageUtils,o.options=a,o.logger=RO.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(n,a.backend,a),o}return _a(i,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=MO(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,l)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,vR(vR({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),i}(PO);function yR(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===wO(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===wO(e[2])||"object"===wO(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function _R(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function bR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kR(){}function ER(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"==typeof e[t]&&(e[t]=e[t].bind(e))}))}var SR=function(e){SO(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=CO(t);if(n){var i=CO(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return TO(this,e)});function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(ga(this,i),e=r.call(this),WO&&PO.call(kO(e)),e.options=_R(t),e.services={},e.logger=RO,e.modules={external:[]},ER(kO(e)),n&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate)return e.init(t,n),TO(e,kO(e));setTimeout((function(){e.init(t,n)}),0)}return e}return _a(i,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=yR();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=wR(wR(wR({},r),this.options),_R(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=wR(wR({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?RO.init(i(this.modules.logger),this.options):RO.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!=typeof Intl&&(o=pR);var a=new nR(this.options);this.store=new GO(this.options.resources,this.options);var s=this.services;s.logger=RO,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new lR(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new dR(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new gR(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new eR(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=kR),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var u=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var c=["addResource","addResources","addResourceBundle","removeResourceBundle"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=AO(),h=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR,r=n,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=AO();return e||(e=this.languages),t||(t=this.options.ns),n||(n=kR),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&YO.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=AO();this.emit("languageChanging",e);var i=function(e){if(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<n.languages.length;t++){var r=n.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&n.store.hasLanguageSomeTranslations(r)){n.resolvedLanguage=r;break}}},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"==typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==wO(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=wR({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns;var u=r.options.keySeparator||".",c=n?"".concat(n).concat(u).concat(t):t;return r.t(c,o)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=AO();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=AO();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kR,r=wR(wR(wR({},this.options),t),{isClone:!0}),o=new i(r),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=wR({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new eR(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(r,n),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}(PO);va(SR,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new SR(e,t)}));var TR=SR.createInstance();TR.createInstance=SR.createInstance,TR.createInstance,TR.init,TR.loadResources,TR.reloadResources,TR.use,TR.changeLanguage,TR.getFixedT,TR.t,TR.exists,TR.setDefaultNamespace,TR.hasLoadedNamespace,TR.loadNamespaces,TR.loadLanguages;const CR=TR;var xR=[],IR=xR.forEach,NR=xR.slice;function OR(e){return IR.call(NR.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var RR=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,PR=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!RR.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!RR.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},AR={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=PR(e,encodeURIComponent(t),i)}(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},DR={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}},LR=null,MR=function(){if(null!==LR)return LR;try{LR="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){LR=!1}return LR},FR={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&MR()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&MR()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},VR=null,jR=function(){if(null!==VR)return VR;try{VR="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){VR=!1}return VR},UR={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&jR()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&jR()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},qR={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},zR={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},BR={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},WR={name:"subdomain",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"==typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}},$R=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ga(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return _a(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=OR(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(AR),this.addDetector(DR),this.addDetector(FR),this.addDetector(UR),this.addDetector(qR),this.addDetector(zR),this.addDetector(BR),this.addDetector(WR)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"==typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();$R.type="languageDetector";const HR=$R,QR=JSON.parse('{"translation":{"app":{"loading":"Chargement..."},"categories":{"choose-categories":"Catégories"},"choosecharacter":{"title":"Choisis la carte pour ton adversaire"},"error-boundary":{"error":"Oups, ça marche plus 🥵","reset":"Réinitialiser"},"finished":{"start-again":"Nouvelle game ?"},"lobby":{"link":"Copier le lien de la room","link-clicked":"Copié","new-room":"Nouvelle room","room":"Room :","start":"Commencer une partie","too-many-players":"Il y a plus de 2 joueurs dans la room","use-same-board":"Utiliser le même plateau","waiting":"En attente de l\'adversaire"},"login":{"title":"Se connecter avec Twitch","action":"Se connecter"},"plateau":{"guess-asking":"Est-ce que c\'est","guess-right":"Oui, c\'est","guess-wrong":"Non, ce n\'est pas","no":"Non","yes":"Oui"},"scene":{"must-guess":"doit deviner"}}}');window.localStorage.getItem(rf),CR.use(HR).use(Ia).init({lng:"fr",detection:{caches:[]},interpolation:{escapeValue:!1},resources:{fr:QR}});const KR=()=>{switch(ca(aO)){case"not-started":return r.createElement(uO,null);case"running":case"finished":return r.createElement(bO,null)}};var GR=["ns","children"];function YR(e){var t=e.ns,n=e.children,r=ma(Ma(t,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,GR)),3),i=r[0],o=r[1],a=r[2];return n(i,{i18n:o,lng:o.language},a)}class JR extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}render(){return this.state.hasError?r.createElement("div",{className:"error"},r.createElement(YR,null,(e=>r.createElement("div",null,e("error-boundary.error")))),r.createElement(XR,null)):this.props.children}}const XR=()=>{const e=ha(Zw),{t}=Ma();return r.createElement("button",{onClick:()=>{e(""),window.location.reload()}},t("error-boundary.reset"))};n(511),i.render(r.createElement(oa,null,r.createElement(JR,null,r.createElement((()=>{const e=ca(uf),t=ca(Zw),[n,i]=da(af),{t:o}=Ma();return(0,r.useEffect)((()=>{i({...n,lastRoom:e})}),[e]),""===t?r.createElement(dO,null):r.createElement(r.Suspense,{fallback:r.createElement("div",{className:"app--loading"},o("app.loading"))},r.createElement(rk,null),r.createElement(KR,null),r.createElement(ik,null))}),null))),document.querySelector("#app"))},344:(e,t,n)=>{"use strict";e.exports=n.p+"assets/TwitchGlitchPurple.svg"},33:(e,t,n)=>{"use strict";e.exports=n.p+"assets/case-background.webp"},269:(e,t,n)=>{"use strict";e.exports=n.p+"assets/case-front.webp"},511:(e,t,n)=>{"use strict";e.exports=n.p+"favicon.png"},845:(e,t,n)=>{"use strict";e.exports=n.p+"assets/plateau-background.webp"},654:(e,t,n)=>{"use strict";e.exports=n.p+"assets/plateau-front.webp"},149:(e,t,n)=>{"use strict";e.exports=n.p+"index.html"},181:e=>{"use strict";e.exports=JSON.parse('{"apollo":{"url":"https://api-eu-central-1.graphcms.com/v2/ckx8muqxk0nxy01z0amvy5bqo/master"},"firebase":{"apiKey":"AIzaSyA8_Ap7wETmcIjgZncUn-3mPgmSGpGMiFQ","appId":"1:465604282379:web:d723f1bd0ceba84b23df0e","databaseURL":"https://qui-est-ce-prod.europe-west1.firebasedatabase.app/","measurementId":"G-42DS3REFD6","projectId":"qui-est-ce-3621d"},"token":{"key":"twitch-token","url":"https://europe-west1-qui-est-ce-3621d.cloudfunctions.net/generateToken"},"twitch":{"clientId":"9c0mrfyuyvw3ylkw3qumrtueb50eu9"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(943)})();